{"ast":null,"code":"import { Class, grep } from '../../common';\nimport { proxy, noop, applyEventMap, getEventMap, on, off, now, getSupportedFeatures } from '../utils';\nimport { Observable } from './observable';\nvar extend = Object.assign;\nvar preventDefault = function (e) {\n  e.preventDefault();\n};\nvar DEFAULT_MIN_HOLD = 800,\n  CLICK_DELAY = 300,\n  // DEFAULT_THRESHOLD = support.browser.msie ? 5 : 0,\n  DEFAULT_THRESHOLD = 0,\n  PRESS = 'press',\n  HOLD = 'hold',\n  SELECT = 'select',\n  START = 'start',\n  MOVE = 'move',\n  END = 'end',\n  CANCEL = 'cancel',\n  TAP = 'tap',\n  DOUBLETAP = 'doubleTap',\n  RELEASE = 'release',\n  GESTURESTART = 'gesturestart',\n  GESTURECHANGE = 'gesturechange',\n  GESTUREEND = 'gestureend',\n  GESTURETAP = 'gesturetap';\nvar THRESHOLD = {\n  'api': 0,\n  'touch': 0,\n  'mouse': 9,\n  'pointer': 9\n};\nfunction touchDelta(touch1, touch2) {\n  var x1 = touch1.x.location,\n    y1 = touch1.y.location,\n    x2 = touch2.x.location,\n    y2 = touch2.y.location,\n    dx = x1 - x2,\n    dy = y1 - y2;\n  return {\n    center: {\n      x: (x1 + x2) / 2,\n      y: (y1 + y2) / 2\n    },\n    distance: Math.sqrt(dx * dx + dy * dy)\n  };\n}\nfunction getTouches(e) {\n  var support = getSupportedFeatures();\n  var touches = [],\n    originalEvent = e.originalEvent || e,\n    currentTarget = e.currentTarget,\n    idx = 0,\n    length,\n    changedTouches,\n    touch;\n  if (e.api) {\n    touches.push({\n      id: 2,\n      event: e,\n      target: e.target,\n      currentTarget: e.target,\n      location: e,\n      type: 'api'\n    });\n  } else if (e.type.match(/touch/)) {\n    changedTouches = originalEvent ? originalEvent.changedTouches : [];\n    for (length = changedTouches.length; idx < length; idx++) {\n      touch = changedTouches[idx];\n      touches.push({\n        location: touch,\n        event: e,\n        target: touch.target,\n        currentTarget: currentTarget,\n        id: touch.identifier,\n        type: 'touch'\n      });\n    }\n  } else if (support.pointers || support.msPointers) {\n    touches.push({\n      location: originalEvent,\n      event: e,\n      target: e.target,\n      currentTarget: currentTarget,\n      id: originalEvent.pointerId,\n      type: 'pointer'\n    });\n  } else {\n    touches.push({\n      id: 1,\n      event: e,\n      target: e.target,\n      currentTarget: currentTarget,\n      location: e,\n      type: 'mouse'\n    });\n  }\n  return touches;\n}\nexport var TouchAxis = function (Class) {\n  function TouchAxis(axis, location) {\n    Class.call(this);\n    var that = this;\n    that.support = getSupportedFeatures();\n    that.invalidZeroEvents = this.support.mobileOS && this.support.mobileOS.android;\n    that.axis = axis;\n    that._updateLocationData(location);\n    that.startLocation = that.location;\n    that.velocity = that.delta = 0;\n    that.timeStamp = now();\n  }\n  if (Class) TouchAxis.__proto__ = Class;\n  TouchAxis.prototype = Object.create(Class && Class.prototype);\n  TouchAxis.prototype.constructor = TouchAxis;\n  TouchAxis.prototype.move = function move(location) {\n    var that = this,\n      offset = location['page' + that.axis],\n      timeStamp = now(),\n      timeDelta = timeStamp - that.timeStamp || 1;\n    if (!offset && this.invalidZeroEvents) {\n      return;\n    }\n    that.delta = offset - that.location;\n    that._updateLocationData(location);\n    that.initialDelta = offset - that.startLocation;\n    that.velocity = that.delta / timeDelta;\n    that.timeStamp = timeStamp;\n  };\n  TouchAxis.prototype._updateLocationData = function _updateLocationData(location) {\n    var that = this,\n      axis = that.axis;\n    that.location = location['page' + axis];\n    that.client = location['client' + axis];\n    that.screen = location['screen' + axis];\n  };\n  return TouchAxis;\n}(Class);\nexport var Touch = function (Class) {\n  function Touch(userEvents, target, touchInfo) {\n    Class.call(this);\n    extend(this, {\n      x: new TouchAxis('X', touchInfo.location),\n      y: new TouchAxis('Y', touchInfo.location),\n      type: touchInfo.type,\n      useClickAsTap: userEvents.useClickAsTap,\n      threshold: userEvents.threshold || THRESHOLD[touchInfo.type],\n      userEvents: userEvents,\n      target: target,\n      currentTarget: touchInfo.currentTarget,\n      initialTouch: touchInfo.target,\n      id: touchInfo.id,\n      pressEvent: touchInfo,\n      _clicks: userEvents._clicks,\n      supportDoubleTap: userEvents.supportDoubleTap,\n      _moved: false,\n      _finished: false\n    });\n  }\n  if (Class) Touch.__proto__ = Class;\n  Touch.prototype = Object.create(Class && Class.prototype);\n  Touch.prototype.constructor = Touch;\n  Touch.prototype.press = function press() {\n    // this._holdTimeout = setTimeout($.proxy(this, '_hold'), this.userEvents.minHold);\n    this._holdTimeout = setTimeout(proxy(this._hold, this), this.userEvents.minHold);\n    this._trigger(PRESS, this.pressEvent);\n  };\n  Touch.prototype._tap = function _tap(touchInfo) {\n    var that = this;\n    that.userEvents._clicks++;\n    if (that.userEvents._clicks === 1) {\n      that._clickTimeout = setTimeout(function () {\n        if (that.userEvents._clicks === 1) {\n          that._trigger(TAP, touchInfo);\n        } else {\n          that._trigger(DOUBLETAP, touchInfo);\n        }\n        that.userEvents._clicks = 0;\n      }, CLICK_DELAY);\n    }\n  };\n  Touch.prototype._hold = function _hold() {\n    this._trigger(HOLD, this.pressEvent);\n  };\n\n  /* eslint-disable consistent-return */\n  Touch.prototype.move = function move(touchInfo) {\n    var that = this;\n    var preventMove = touchInfo.type !== 'api' && that.userEvents._shouldNotMove;\n    if (that._finished || preventMove) {\n      return;\n    }\n    that.x.move(touchInfo.location);\n    that.y.move(touchInfo.location);\n    if (!that._moved) {\n      if (that._withinIgnoreThreshold()) {\n        return;\n      }\n      if (!UserEvents.current || UserEvents.current === that.userEvents) {\n        that._start(touchInfo);\n      } else {\n        return that.dispose();\n      }\n    }\n    if (!that._finished) {\n      that._trigger(MOVE, touchInfo);\n    }\n  };\n  /* eslint-enable consistent-return */\n\n  Touch.prototype.end = function end(touchInfo) {\n    this.endTime = now();\n    if (this._finished) {\n      return;\n    }\n    this._finished = true;\n    this._trigger(RELEASE, touchInfo);\n    if (this._moved) {\n      this._trigger(END, touchInfo);\n    } else {\n      if (!this.useClickAsTap) {\n        if (this.supportDoubleTap) {\n          this._tap(touchInfo);\n        } else {\n          this._trigger(TAP, touchInfo);\n        }\n      }\n    }\n    clearTimeout(this._holdTimeout);\n    this.dispose();\n  };\n  Touch.prototype.dispose = function dispose() {\n    var userEvents = this.userEvents,\n      activeTouches = userEvents.touches || [];\n    this._finished = true;\n    this.pressEvent = null;\n    clearTimeout(this._holdTimeout);\n    // activeTouches.splice($.inArray(this, activeTouches), 1);\n    var activeTouchIndex = activeTouches.indexOf(this);\n    activeTouches.splice(activeTouchIndex, 1);\n  };\n  Touch.prototype.skip = function skip() {\n    this.dispose();\n  };\n  Touch.prototype.cancel = function cancel() {\n    this.dispose();\n  };\n  Touch.prototype.isMoved = function isMoved() {\n    return this._moved;\n  };\n  Touch.prototype._start = function _start(touchInfo) {\n    clearTimeout(this._holdTimeout);\n    this.startTime = now();\n    this._moved = true;\n    this._trigger(START, touchInfo);\n  };\n  Touch.prototype._trigger = function _trigger(name, touchInfo) {\n    var that = this,\n      jQueryEvent = touchInfo.event,\n      data = {\n        touch: that,\n        x: that.x,\n        y: that.y,\n        target: that.target,\n        event: jQueryEvent\n      };\n    if (that.userEvents.notify(name, data)) {\n      jQueryEvent.preventDefault();\n    }\n  };\n  Touch.prototype._withinIgnoreThreshold = function _withinIgnoreThreshold() {\n    var xDelta = this.x.initialDelta,\n      yDelta = this.y.initialDelta;\n    return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;\n  };\n  return Touch;\n}(Class);\nfunction withEachUpEvent(callback) {\n  var eventMap = getEventMap(navigator.userAgent);\n  var downEvents = eventMap.up.split(' '),\n    idx = 0,\n    length = downEvents.length;\n  for (; idx < length; idx++) {\n    callback(downEvents[idx]);\n  }\n}\nexport var UserEvents = function (Observable) {\n  function UserEvents(element, options) {\n    Observable.call(this);\n    var that = this;\n    var filter;\n    var support = getSupportedFeatures();\n    this.support = support;\n\n    /* eslint-disable no-param-reassign */\n    options = options || {};\n    /* eslint-enable no-param-reassign */\n    this.options = options;\n    filter = that.filter = options.filter;\n    that.threshold = options.threshold || DEFAULT_THRESHOLD;\n    that.minHold = options.minHold || DEFAULT_MIN_HOLD;\n    that.touches = [];\n    that._maxTouches = options.multiTouch ? 2 : 1;\n    that.allowSelection = options.allowSelection;\n    that.captureUpIfMoved = options.captureUpIfMoved;\n    that.useClickAsTap = !options.fastTap && !support.delayedClick();\n    that._clicks = 0;\n    that.supportDoubleTap = options.supportDoubleTap;\n    var enableGlobalSurface = !support.touch || support.mouseAndTouchPresent;\n    extend(that, {\n      element: element,\n      surface: options.global && enableGlobalSurface ? element.ownerDocument.documentElement : options.surface || element,\n      stopPropagation: options.stopPropagation,\n      pressed: false\n    });\n    this._surfaceMoveHandler = proxy(this._move, this);\n    on(that.surface, applyEventMap('move'), this._surfaceMoveHandler);\n    this._surfaceEndHandler = proxy(this._end, this);\n    on(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);\n    this._elementStartHandler = proxy(this._start, this);\n    on(element, applyEventMap('down'), filter, this._elementStartHandler);\n    if (that.useClickAsTap) {\n      this._elementClickHandler = proxy(this._click, this);\n      on(element, applyEventMap('click'), filter, this._elementClickHandler);\n    }\n    if (support.pointers || support.msPointers) {\n      if (support.browser.version < 11) {\n        var defaultAction = 'pinch-zoom double-tap-zoom';\n        element.style['-ms-touch-action'] = options.touchAction && options.touchAction !== 'none' ? defaultAction + ' ' + options.touchAction : defaultAction;\n      } else {\n        element.style['touch-action'] = options.touchAction || 'none';\n      }\n    }\n    if (options.preventDragEvent) {\n      this._elementDragStartHandler = preventDefault;\n      on(element, applyEventMap('dragstart'), this._elementDragStartHandler);\n    }\n\n    // element.on(kendo.applyEventMap('mousedown'), filter, {\n    //     root: element\n    // } '_select');\n\n    // todo: use root\n    this._elementSelectHandler = proxy(this._select, this);\n    on(element, applyEventMap('mousedown'), filter, this._elementSelectHandler);\n    if (that.captureUpIfMoved && support.eventCapture) {\n      var surfaceElement = that.surface,\n        preventIfMovingProxy = proxy(that.preventIfMoving, that);\n      withEachUpEvent(function (eventName) {\n        surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);\n      });\n    }\n    that.bind([PRESS, HOLD, TAP, DOUBLETAP, START, MOVE, END, RELEASE, CANCEL, GESTURESTART, GESTURECHANGE, GESTUREEND, GESTURETAP, SELECT], options);\n  }\n  if (Observable) UserEvents.__proto__ = Observable;\n  UserEvents.prototype = Object.create(Observable && Observable.prototype);\n  UserEvents.prototype.constructor = UserEvents;\n  UserEvents.prototype.preventIfMoving = function preventIfMoving(e) {\n    if (this._isMoved()) {\n      e.preventDefault();\n    }\n  };\n  UserEvents.prototype.destroy = function destroy() {\n    var that = this;\n    var options = this.options;\n    var element = this.element;\n    if (that._destroyed) {\n      return;\n    }\n    that._destroyed = true;\n    if (that.captureUpIfMoved && this.support.eventCapture) {\n      var surfaceElement = that.surface;\n      withEachUpEvent(function (eventName) {\n        surfaceElement.removeEventListener(eventName, that.preventIfMoving);\n      });\n    }\n    off(that.surface, applyEventMap('move'), this._surfaceMoveHandler);\n    off(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);\n    off(element, applyEventMap('down'), this._elementStartHandler);\n    if (that.useClickAsTap) {\n      off(element, applyEventMap('click'), this._elementClickHandler);\n    }\n    if (options.preventDragEvent) {\n      off(element, applyEventMap('dragstart'), this._elementDragStartHandler);\n    }\n    off(element, applyEventMap('mousedown'), this._elementSelectHandler);\n    that._disposeAll();\n    that.unbind();\n    delete that.surface;\n    delete that.element;\n    delete that.currentTarget;\n  };\n  UserEvents.prototype.capture = function capture() {\n    UserEvents.current = this;\n  };\n  UserEvents.prototype.cancel = function cancel() {\n    this._disposeAll();\n    this.trigger(CANCEL);\n  };\n\n  /* eslint-disable indent */\n  UserEvents.prototype.notify = function notify(event, data) {\n    var that = this,\n      touches = that.touches;\n    var eventName = event;\n    if (this._isMultiTouch()) {\n      switch (eventName) {\n        case MOVE:\n          eventName = GESTURECHANGE;\n          break;\n        case END:\n          eventName = GESTUREEND;\n          break;\n        case TAP:\n          eventName = GESTURETAP;\n          break;\n        default:\n          break;\n      }\n      extend(data, {\n        touches: touches\n      }, touchDelta(touches[0], touches[1]));\n    }\n    return this.trigger(eventName, extend(data, {\n      type: eventName\n    }));\n  };\n  /* eslint-enable indent */\n\n  UserEvents.prototype.press = function press(x, y, target) {\n    this._apiCall('_start', x, y, target);\n  };\n  UserEvents.prototype.move = function move(x, y) {\n    this._apiCall('_move', x, y);\n  };\n  UserEvents.prototype.end = function end(x, y) {\n    this._apiCall('_end', x, y);\n  };\n  UserEvents.prototype._isMultiTouch = function _isMultiTouch() {\n    return this.touches.length > 1;\n  };\n  UserEvents.prototype._maxTouchesReached = function _maxTouchesReached() {\n    return this.touches.length >= this._maxTouches;\n  };\n  UserEvents.prototype._disposeAll = function _disposeAll() {\n    var touches = this.touches;\n    while (touches.length > 0) {\n      touches.pop().dispose();\n    }\n  };\n  UserEvents.prototype._isMoved = function _isMoved() {\n    return grep(this.touches, function (touch) {\n      return touch.isMoved();\n    }).length;\n  };\n  UserEvents.prototype._select = function _select(e) {\n    if (!this.allowSelection || this.trigger(SELECT, {\n      event: e\n    })) {\n      e.preventDefault();\n    }\n  };\n  UserEvents.prototype._start = function _start(e) {\n    var that = this,\n      idx = 0,\n      filter = that.filter,\n      target,\n      touches = getTouches(e),\n      length = touches.length,\n      touch,\n      which = e.which;\n    if (which && which > 1 || that._maxTouchesReached()) {\n      return;\n    }\n    UserEvents.current = null;\n    that.currentTarget = e.currentTarget;\n    if (that.stopPropagation) {\n      e.stopPropagation();\n    }\n    for (; idx < length; idx++) {\n      if (that._maxTouchesReached()) {\n        break;\n      }\n      touch = touches[idx];\n      if (filter) {\n        target = touch.currentTarget;\n      } else {\n        target = that.element;\n      }\n      if (target && target.length === 0) {\n        continue;\n      }\n      touch = new Touch(that, target, touch);\n      that.touches.push(touch);\n      touch.press();\n      if (that._isMultiTouch()) {\n        that.notify('gesturestart', {});\n      }\n    }\n  };\n  UserEvents.prototype._move = function _move(e) {\n    this._eachTouch('move', e);\n  };\n  UserEvents.prototype._end = function _end(e) {\n    this._eachTouch('end', e);\n  };\n  UserEvents.prototype._click = function _click(e) {\n    var data = {\n      touch: {\n        initialTouch: e.target,\n        target: e.currentTarget,\n        endTime: now(),\n        x: {\n          location: e.pageX,\n          client: e.clientX\n        },\n        y: {\n          location: e.pageY,\n          client: e.clientY\n        }\n      },\n      x: e.pageX,\n      y: e.pageY,\n      target: e.currentTarget,\n      event: e,\n      type: 'tap'\n    };\n    if (this.trigger('tap', data)) {\n      e.preventDefault();\n    }\n  };\n  UserEvents.prototype._eachTouch = function _eachTouch(methodName, e) {\n    var that = this,\n      dict = {},\n      touches = getTouches(e),\n      activeTouches = that.touches,\n      idx,\n      touch,\n      touchInfo,\n      matchingTouch;\n    for (idx = 0; idx < activeTouches.length; idx++) {\n      touch = activeTouches[idx];\n      dict[touch.id] = touch;\n    }\n    for (idx = 0; idx < touches.length; idx++) {\n      touchInfo = touches[idx];\n      matchingTouch = dict[touchInfo.id];\n      if (matchingTouch) {\n        matchingTouch[methodName](touchInfo);\n      }\n    }\n  };\n  UserEvents.prototype._apiCall = function _apiCall(type, x, y, target) {\n    this[type]({\n      api: true,\n      pageX: x,\n      pageY: y,\n      clientX: x,\n      clientY: y,\n      target: target || this.element,\n      stopPropagation: noop,\n      preventDefault: noop\n    });\n  };\n  UserEvents.defaultThreshold = function defaultThreshold(value) {\n    DEFAULT_THRESHOLD = value;\n  };\n  UserEvents.minHold = function minHold(value) {\n    DEFAULT_MIN_HOLD = value;\n  };\n  return UserEvents;\n}(Observable);","map":{"version":3,"names":["Class","grep","proxy","noop","applyEventMap","getEventMap","on","off","now","getSupportedFeatures","Observable","extend","Object","assign","preventDefault","e","DEFAULT_MIN_HOLD","CLICK_DELAY","DEFAULT_THRESHOLD","PRESS","HOLD","SELECT","START","MOVE","END","CANCEL","TAP","DOUBLETAP","RELEASE","GESTURESTART","GESTURECHANGE","GESTUREEND","GESTURETAP","THRESHOLD","touchDelta","touch1","touch2","x1","x","location","y1","y","x2","y2","dx","dy","center","distance","Math","sqrt","getTouches","support","touches","originalEvent","currentTarget","idx","length","changedTouches","touch","api","push","id","event","target","type","match","identifier","pointers","msPointers","pointerId","TouchAxis","axis","call","that","invalidZeroEvents","mobileOS","android","_updateLocationData","startLocation","velocity","delta","timeStamp","__proto__","prototype","create","constructor","move","offset","timeDelta","initialDelta","client","screen","Touch","userEvents","touchInfo","useClickAsTap","threshold","initialTouch","pressEvent","_clicks","supportDoubleTap","_moved","_finished","press","_holdTimeout","setTimeout","_hold","minHold","_trigger","_tap","_clickTimeout","preventMove","_shouldNotMove","_withinIgnoreThreshold","UserEvents","current","_start","dispose","end","endTime","clearTimeout","activeTouches","activeTouchIndex","indexOf","splice","skip","cancel","isMoved","startTime","name","jQueryEvent","data","notify","xDelta","yDelta","withEachUpEvent","callback","eventMap","navigator","userAgent","downEvents","up","split","element","options","filter","_maxTouches","multiTouch","allowSelection","captureUpIfMoved","fastTap","delayedClick","enableGlobalSurface","mouseAndTouchPresent","surface","global","ownerDocument","documentElement","stopPropagation","pressed","_surfaceMoveHandler","_move","_surfaceEndHandler","_end","_elementStartHandler","_elementClickHandler","_click","browser","version","defaultAction","style","touchAction","preventDragEvent","_elementDragStartHandler","_elementSelectHandler","_select","eventCapture","surfaceElement","preventIfMovingProxy","preventIfMoving","eventName","addEventListener","bind","_isMoved","destroy","_destroyed","removeEventListener","_disposeAll","unbind","capture","trigger","_isMultiTouch","_apiCall","_maxTouchesReached","pop","which","_eachTouch","pageX","clientX","pageY","clientY","methodName","dict","matchingTouch","defaultThreshold","value"],"sources":["C:/Users/Павел/Desktop/react humster/my-app/node_modules/@progress/kendo-charts/dist/es/map/scroller/user-events.js"],"sourcesContent":["import {\n    Class,\n    grep\n} from '../../common';\n\nimport {\n    proxy,\n    noop,\n    applyEventMap,\n    getEventMap,\n    on,\n    off,\n    now,\n    getSupportedFeatures\n} from '../utils';\n\nimport {\n    Observable\n} from './observable';\n\nvar extend = Object.assign;\n\nvar preventDefault = function (e) {\n    e.preventDefault();\n};\n\nvar\n    DEFAULT_MIN_HOLD = 800,\n    CLICK_DELAY = 300,\n    // DEFAULT_THRESHOLD = support.browser.msie ? 5 : 0,\n    DEFAULT_THRESHOLD = 0,\n    PRESS = 'press',\n    HOLD = 'hold',\n    SELECT = 'select',\n    START = 'start',\n    MOVE = 'move',\n    END = 'end',\n    CANCEL = 'cancel',\n    TAP = 'tap',\n    DOUBLETAP = 'doubleTap',\n    RELEASE = 'release',\n    GESTURESTART = 'gesturestart',\n    GESTURECHANGE = 'gesturechange',\n    GESTUREEND = 'gestureend',\n    GESTURETAP = 'gesturetap';\n\nvar THRESHOLD = {\n    'api': 0,\n    'touch': 0,\n    'mouse': 9,\n    'pointer': 9\n};\n\nfunction touchDelta(touch1, touch2) {\n    var x1 = touch1.x.location,\n        y1 = touch1.y.location,\n        x2 = touch2.x.location,\n        y2 = touch2.y.location,\n        dx = x1 - x2,\n        dy = y1 - y2;\n\n    return {\n        center: {\n            x: (x1 + x2) / 2,\n            y: (y1 + y2) / 2\n        },\n        distance: Math.sqrt(dx * dx + dy * dy)\n    };\n}\n\nfunction getTouches(e) {\n    var support = getSupportedFeatures();\n    var touches = [],\n        originalEvent = e.originalEvent || e,\n        currentTarget = e.currentTarget,\n        idx = 0,\n        length, changedTouches, touch;\n\n    if (e.api) {\n        touches.push({\n            id: 2,\n            event: e,\n            target: e.target,\n            currentTarget: e.target,\n            location: e,\n            type: 'api'\n        });\n    } else if (e.type.match(/touch/)) {\n        changedTouches = originalEvent ? originalEvent.changedTouches : [];\n\n        for (length = changedTouches.length; idx < length; idx++) {\n            touch = changedTouches[idx];\n            touches.push({\n                location: touch,\n                event: e,\n                target: touch.target,\n                currentTarget: currentTarget,\n                id: touch.identifier,\n                type: 'touch'\n            });\n        }\n    } else if (support.pointers || support.msPointers) {\n        touches.push({\n            location: originalEvent,\n            event: e,\n            target: e.target,\n            currentTarget: currentTarget,\n            id: originalEvent.pointerId,\n            type: 'pointer'\n        });\n    } else {\n        touches.push({\n            id: 1,\n            event: e,\n            target: e.target,\n            currentTarget: currentTarget,\n            location: e,\n            type: 'mouse'\n        });\n    }\n\n    return touches;\n}\nexport var TouchAxis = (function (Class) {\n    function TouchAxis(axis, location) {\n        Class.call(this);\n        var that = this;\n\n        that.support = getSupportedFeatures();\n        that.invalidZeroEvents = this.support.mobileOS && this.support.mobileOS.android;\n        that.axis = axis;\n        that._updateLocationData(location);\n        that.startLocation = that.location;\n        that.velocity = that.delta = 0;\n        that.timeStamp = now();\n    }\n\n    if ( Class ) TouchAxis.__proto__ = Class;\n    TouchAxis.prototype = Object.create( Class && Class.prototype );\n    TouchAxis.prototype.constructor = TouchAxis;\n\n    TouchAxis.prototype.move = function move (location) {\n        var that = this,\n            offset = location['page' + that.axis],\n            timeStamp = now(),\n            timeDelta = timeStamp - that.timeStamp || 1;\n\n        if (!offset && this.invalidZeroEvents) {\n            return;\n        }\n\n        that.delta = offset - that.location;\n        that._updateLocationData(location);\n        that.initialDelta = offset - that.startLocation;\n        that.velocity = that.delta / timeDelta;\n        that.timeStamp = timeStamp;\n    };\n\n    TouchAxis.prototype._updateLocationData = function _updateLocationData (location) {\n        var that = this,\n            axis = that.axis;\n\n        that.location = location['page' + axis];\n        that.client = location['client' + axis];\n        that.screen = location['screen' + axis];\n    };\n\n    return TouchAxis;\n}(Class));\n\nexport var Touch = (function (Class) {\n    function Touch(userEvents, target, touchInfo) {\n        Class.call(this);\n\n        extend(this, {\n            x: new TouchAxis('X', touchInfo.location),\n            y: new TouchAxis('Y', touchInfo.location),\n            type: touchInfo.type,\n            useClickAsTap: userEvents.useClickAsTap,\n            threshold: userEvents.threshold || THRESHOLD[touchInfo.type],\n            userEvents: userEvents,\n            target: target,\n            currentTarget: touchInfo.currentTarget,\n            initialTouch: touchInfo.target,\n            id: touchInfo.id,\n            pressEvent: touchInfo,\n            _clicks: userEvents._clicks,\n            supportDoubleTap: userEvents.supportDoubleTap,\n            _moved: false,\n            _finished: false\n        });\n    }\n\n    if ( Class ) Touch.__proto__ = Class;\n    Touch.prototype = Object.create( Class && Class.prototype );\n    Touch.prototype.constructor = Touch;\n\n    Touch.prototype.press = function press () {\n        // this._holdTimeout = setTimeout($.proxy(this, '_hold'), this.userEvents.minHold);\n        this._holdTimeout = setTimeout(proxy(this._hold, this), this.userEvents.minHold);\n        this._trigger(PRESS, this.pressEvent);\n    };\n\n    Touch.prototype._tap = function _tap (touchInfo) {\n        var that = this;\n\n        that.userEvents._clicks++;\n\n        if (that.userEvents._clicks === 1) {\n            that._clickTimeout = setTimeout(function() {\n                if (that.userEvents._clicks === 1) {\n                    that._trigger(TAP, touchInfo);\n                } else {\n                    that._trigger(DOUBLETAP, touchInfo);\n                }\n\n                that.userEvents._clicks = 0;\n            }, CLICK_DELAY);\n        }\n    };\n\n    Touch.prototype._hold = function _hold () {\n        this._trigger(HOLD, this.pressEvent);\n    };\n\n    /* eslint-disable consistent-return */\n    Touch.prototype.move = function move (touchInfo) {\n        var that = this;\n        var preventMove = touchInfo.type !== 'api' && that.userEvents._shouldNotMove;\n\n        if (that._finished || preventMove) {\n            return;\n        }\n\n        that.x.move(touchInfo.location);\n        that.y.move(touchInfo.location);\n\n        if (!that._moved) {\n            if (that._withinIgnoreThreshold()) {\n                return;\n            }\n\n            if (!UserEvents.current || UserEvents.current === that.userEvents) {\n                that._start(touchInfo);\n            } else {\n                return that.dispose();\n            }\n        }\n\n        if (!that._finished) {\n            that._trigger(MOVE, touchInfo);\n        }\n    };\n    /* eslint-enable consistent-return */\n\n    Touch.prototype.end = function end (touchInfo) {\n        this.endTime = now();\n\n        if (this._finished) {\n            return;\n        }\n\n        this._finished = true;\n        this._trigger(RELEASE, touchInfo);\n\n        if (this._moved) {\n            this._trigger(END, touchInfo);\n        } else {\n            if (!this.useClickAsTap) {\n                if (this.supportDoubleTap) {\n                    this._tap(touchInfo);\n                } else {\n                    this._trigger(TAP, touchInfo);\n                }\n            }\n        }\n\n        clearTimeout(this._holdTimeout);\n        this.dispose();\n    };\n\n    Touch.prototype.dispose = function dispose () {\n        var userEvents = this.userEvents,\n            activeTouches = userEvents.touches || [];\n\n        this._finished = true;\n        this.pressEvent = null;\n\n        clearTimeout(this._holdTimeout);\n        // activeTouches.splice($.inArray(this, activeTouches), 1);\n        var activeTouchIndex = activeTouches.indexOf(this);\n        activeTouches.splice(activeTouchIndex, 1);\n    };\n\n    Touch.prototype.skip = function skip () {\n        this.dispose();\n    };\n\n    Touch.prototype.cancel = function cancel () {\n        this.dispose();\n    };\n\n    Touch.prototype.isMoved = function isMoved () {\n        return this._moved;\n    };\n\n    Touch.prototype._start = function _start (touchInfo) {\n        clearTimeout(this._holdTimeout);\n        this.startTime = now();\n        this._moved = true;\n        this._trigger(START, touchInfo);\n    };\n\n    Touch.prototype._trigger = function _trigger (name, touchInfo) {\n        var that = this,\n            jQueryEvent = touchInfo.event,\n            data = {\n                touch: that,\n                x: that.x,\n                y: that.y,\n                target: that.target,\n                event: jQueryEvent\n            };\n        if (that.userEvents.notify(name, data)) {\n            jQueryEvent.preventDefault();\n        }\n    };\n\n    Touch.prototype._withinIgnoreThreshold = function _withinIgnoreThreshold () {\n        var xDelta = this.x.initialDelta,\n            yDelta = this.y.initialDelta;\n        return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;\n    };\n\n    return Touch;\n}(Class));\n\nfunction withEachUpEvent(callback) {\n    var eventMap = getEventMap(navigator.userAgent);\n    var downEvents = eventMap.up.split(' '),\n        idx = 0,\n        length = downEvents.length;\n\n    for (; idx < length; idx++) {\n        callback(downEvents[idx]);\n    }\n}\n\nexport var UserEvents = (function (Observable) {\n    function UserEvents(element, options) {\n        Observable.call(this);\n        var that = this;\n        var filter;\n\n        var support = getSupportedFeatures();\n        this.support = support;\n\n        /* eslint-disable no-param-reassign */\n        options = options || {};\n        /* eslint-enable no-param-reassign */\n        this.options = options;\n\n        filter = that.filter = options.filter;\n        that.threshold = options.threshold || DEFAULT_THRESHOLD;\n        that.minHold = options.minHold || DEFAULT_MIN_HOLD;\n        that.touches = [];\n        that._maxTouches = options.multiTouch ? 2 : 1;\n        that.allowSelection = options.allowSelection;\n        that.captureUpIfMoved = options.captureUpIfMoved;\n        that.useClickAsTap = !options.fastTap && !support.delayedClick();\n        that._clicks = 0;\n        that.supportDoubleTap = options.supportDoubleTap;\n\n        var enableGlobalSurface = !support.touch || support.mouseAndTouchPresent;\n\n        extend(that, {\n            element: element,\n            surface: options.global && enableGlobalSurface ?\n                element.ownerDocument.documentElement :\n                options.surface || element,\n            stopPropagation: options.stopPropagation,\n            pressed: false\n        });\n\n        this._surfaceMoveHandler = proxy(this._move, this);\n        on(that.surface, applyEventMap('move'), this._surfaceMoveHandler);\n\n        this._surfaceEndHandler = proxy(this._end, this);\n        on(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);\n\n        this._elementStartHandler = proxy(this._start, this);\n        on(element, applyEventMap('down'), filter, this._elementStartHandler);\n\n        if (that.useClickAsTap) {\n            this._elementClickHandler = proxy(this._click, this);\n            on(element, applyEventMap('click'), filter, this._elementClickHandler);\n        }\n\n        if (support.pointers || support.msPointers) {\n            if (support.browser.version < 11) {\n                var defaultAction = 'pinch-zoom double-tap-zoom';\n\n                element.style['-ms-touch-action'] =\n                    options.touchAction && options.touchAction !== 'none' ?\n                        defaultAction + ' ' + options.touchAction :\n                        defaultAction;\n\n            } else {\n                element.style['touch-action'] = options.touchAction || 'none';\n            }\n        }\n        if (options.preventDragEvent) {\n            this._elementDragStartHandler = preventDefault;\n            on(element, applyEventMap('dragstart'), this._elementDragStartHandler);\n        }\n\n        // element.on(kendo.applyEventMap('mousedown'), filter, {\n        //     root: element\n        // } '_select');\n\n        // todo: use root\n        this._elementSelectHandler = proxy(this._select, this);\n        on(element, applyEventMap('mousedown'), filter, this._elementSelectHandler);\n\n        if (that.captureUpIfMoved && support.eventCapture) {\n            var surfaceElement = that.surface,\n                preventIfMovingProxy = proxy(that.preventIfMoving, that);\n\n            withEachUpEvent(function(eventName) {\n                surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);\n            });\n        }\n\n        that.bind([\n            PRESS,\n            HOLD,\n            TAP,\n            DOUBLETAP,\n            START,\n            MOVE,\n            END,\n            RELEASE,\n            CANCEL,\n            GESTURESTART,\n            GESTURECHANGE,\n            GESTUREEND,\n            GESTURETAP,\n            SELECT\n        ], options);\n    }\n\n    if ( Observable ) UserEvents.__proto__ = Observable;\n    UserEvents.prototype = Object.create( Observable && Observable.prototype );\n    UserEvents.prototype.constructor = UserEvents;\n\n    UserEvents.prototype.preventIfMoving = function preventIfMoving (e) {\n        if (this._isMoved()) {\n            e.preventDefault();\n        }\n    };\n\n    UserEvents.prototype.destroy = function destroy () {\n        var that = this;\n        var options = this.options;\n        var element = this.element;\n\n        if (that._destroyed) {\n            return;\n        }\n\n        that._destroyed = true;\n\n        if (that.captureUpIfMoved && this.support.eventCapture) {\n            var surfaceElement = that.surface;\n            withEachUpEvent(function(eventName) {\n                surfaceElement.removeEventListener(eventName, that.preventIfMoving);\n            });\n        }\n\n        off(that.surface, applyEventMap('move'), this._surfaceMoveHandler);\n        off(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);\n\n        off(element, applyEventMap('down'), this._elementStartHandler);\n\n        if (that.useClickAsTap) {\n            off(element, applyEventMap('click'), this._elementClickHandler);\n        }\n\n        if (options.preventDragEvent) {\n            off(element, applyEventMap('dragstart'), this._elementDragStartHandler);\n        }\n\n        off(element, applyEventMap('mousedown'), this._elementSelectHandler);\n\n        that._disposeAll();\n        that.unbind();\n\n        delete that.surface;\n        delete that.element;\n        delete that.currentTarget;\n    };\n\n    UserEvents.prototype.capture = function capture () {\n        UserEvents.current = this;\n    };\n\n    UserEvents.prototype.cancel = function cancel () {\n        this._disposeAll();\n        this.trigger(CANCEL);\n    };\n\n    /* eslint-disable indent */\n    UserEvents.prototype.notify = function notify (event, data) {\n        var that = this,\n            touches = that.touches;\n        var eventName = event;\n\n        if (this._isMultiTouch()) {\n            switch (eventName) {\n                case MOVE:\n                    eventName = GESTURECHANGE;\n                    break;\n                case END:\n                    eventName = GESTUREEND;\n                    break;\n                case TAP:\n                    eventName = GESTURETAP;\n                    break;\n                default:\n                    break;\n            }\n\n            extend(data, {\n                touches: touches\n            }, touchDelta(touches[0], touches[1]));\n        }\n\n        return this.trigger(eventName, extend(data, {\n            type: eventName\n        }));\n    };\n    /* eslint-enable indent */\n\n    UserEvents.prototype.press = function press (x, y, target) {\n        this._apiCall('_start', x, y, target);\n    };\n\n    UserEvents.prototype.move = function move (x, y) {\n        this._apiCall('_move', x, y);\n    };\n\n    UserEvents.prototype.end = function end (x, y) {\n        this._apiCall('_end', x, y);\n    };\n\n    UserEvents.prototype._isMultiTouch = function _isMultiTouch () {\n        return this.touches.length > 1;\n    };\n\n    UserEvents.prototype._maxTouchesReached = function _maxTouchesReached () {\n        return this.touches.length >= this._maxTouches;\n    };\n\n    UserEvents.prototype._disposeAll = function _disposeAll () {\n        var touches = this.touches;\n        while (touches.length > 0) {\n            touches.pop().dispose();\n        }\n    };\n\n    UserEvents.prototype._isMoved = function _isMoved () {\n        return grep(this.touches, function(touch) {\n            return touch.isMoved();\n        }).length;\n    };\n\n    UserEvents.prototype._select = function _select (e) {\n        if (!this.allowSelection || this.trigger(SELECT, { event: e })) {\n            e.preventDefault();\n        }\n    };\n\n    UserEvents.prototype._start = function _start (e) {\n        var that = this,\n            idx = 0,\n            filter = that.filter,\n            target,\n            touches = getTouches(e),\n            length = touches.length,\n            touch,\n            which = e.which;\n\n        if (which && which > 1 || that._maxTouchesReached()) {\n            return;\n        }\n\n        UserEvents.current = null;\n        that.currentTarget = e.currentTarget;\n\n        if (that.stopPropagation) {\n            e.stopPropagation();\n        }\n\n        for (; idx < length; idx++) {\n            if (that._maxTouchesReached()) {\n                break;\n            }\n\n            touch = touches[idx];\n\n            if (filter) {\n                target = touch.currentTarget;\n            } else {\n                target = that.element;\n            }\n\n            if (target && target.length === 0) {\n                continue;\n            }\n\n            touch = new Touch(that, target, touch);\n            that.touches.push(touch);\n            touch.press();\n\n            if (that._isMultiTouch()) {\n                that.notify('gesturestart', {});\n            }\n        }\n    };\n\n    UserEvents.prototype._move = function _move (e) {\n        this._eachTouch('move', e);\n    };\n\n    UserEvents.prototype._end = function _end (e) {\n        this._eachTouch('end', e);\n    };\n\n    UserEvents.prototype._click = function _click (e) {\n        var data = {\n            touch: {\n                initialTouch: e.target,\n                target: e.currentTarget,\n                endTime: now(),\n                x: {\n                    location: e.pageX,\n                    client: e.clientX\n                },\n                y: {\n                    location: e.pageY,\n                    client: e.clientY\n                }\n            },\n            x: e.pageX,\n            y: e.pageY,\n            target: e.currentTarget,\n            event: e,\n            type: 'tap'\n        };\n\n        if (this.trigger('tap', data)) {\n            e.preventDefault();\n        }\n    };\n\n    UserEvents.prototype._eachTouch = function _eachTouch (methodName, e) {\n        var that = this,\n            dict = {},\n            touches = getTouches(e),\n            activeTouches = that.touches,\n            idx,\n            touch,\n            touchInfo,\n            matchingTouch;\n\n        for (idx = 0; idx < activeTouches.length; idx++) {\n            touch = activeTouches[idx];\n            dict[touch.id] = touch;\n        }\n\n        for (idx = 0; idx < touches.length; idx++) {\n            touchInfo = touches[idx];\n            matchingTouch = dict[touchInfo.id];\n\n            if (matchingTouch) {\n                matchingTouch[methodName](touchInfo);\n            }\n        }\n    };\n\n    UserEvents.prototype._apiCall = function _apiCall (type, x, y, target) {\n        this[type]({\n            api: true,\n            pageX: x,\n            pageY: y,\n            clientX: x,\n            clientY: y,\n            target: target || this.element,\n            stopPropagation: noop,\n            preventDefault: noop\n        });\n    };\n\n    UserEvents.defaultThreshold = function defaultThreshold (value) {\n        DEFAULT_THRESHOLD = value;\n    };\n\n    UserEvents.minHold = function minHold (value) {\n        DEFAULT_MIN_HOLD = value;\n    };\n\n    return UserEvents;\n}(Observable));\n"],"mappings":"AAAA,SACIA,KAAK,EACLC,IAAI,QACD,cAAc;AAErB,SACIC,KAAK,EACLC,IAAI,EACJC,aAAa,EACbC,WAAW,EACXC,EAAE,EACFC,GAAG,EACHC,GAAG,EACHC,oBAAoB,QACjB,UAAU;AAEjB,SACIC,UAAU,QACP,cAAc;AAErB,IAAIC,MAAM,GAAGC,MAAM,CAACC,MAAM;AAE1B,IAAIC,cAAc,GAAG,UAAUC,CAAC,EAAE;EAC9BA,CAAC,CAACD,cAAc,EAAE;AACtB,CAAC;AAED,IACIE,gBAAgB,GAAG,GAAG;EACtBC,WAAW,GAAG,GAAG;EACjB;EACAC,iBAAiB,GAAG,CAAC;EACrBC,KAAK,GAAG,OAAO;EACfC,IAAI,GAAG,MAAM;EACbC,MAAM,GAAG,QAAQ;EACjBC,KAAK,GAAG,OAAO;EACfC,IAAI,GAAG,MAAM;EACbC,GAAG,GAAG,KAAK;EACXC,MAAM,GAAG,QAAQ;EACjBC,GAAG,GAAG,KAAK;EACXC,SAAS,GAAG,WAAW;EACvBC,OAAO,GAAG,SAAS;EACnBC,YAAY,GAAG,cAAc;EAC7BC,aAAa,GAAG,eAAe;EAC/BC,UAAU,GAAG,YAAY;EACzBC,UAAU,GAAG,YAAY;AAE7B,IAAIC,SAAS,GAAG;EACZ,KAAK,EAAE,CAAC;EACR,OAAO,EAAE,CAAC;EACV,OAAO,EAAE,CAAC;EACV,SAAS,EAAE;AACf,CAAC;AAED,SAASC,UAAU,CAACC,MAAM,EAAEC,MAAM,EAAE;EAChC,IAAIC,EAAE,GAAGF,MAAM,CAACG,CAAC,CAACC,QAAQ;IACtBC,EAAE,GAAGL,MAAM,CAACM,CAAC,CAACF,QAAQ;IACtBG,EAAE,GAAGN,MAAM,CAACE,CAAC,CAACC,QAAQ;IACtBI,EAAE,GAAGP,MAAM,CAACK,CAAC,CAACF,QAAQ;IACtBK,EAAE,GAAGP,EAAE,GAAGK,EAAE;IACZG,EAAE,GAAGL,EAAE,GAAGG,EAAE;EAEhB,OAAO;IACHG,MAAM,EAAE;MACJR,CAAC,EAAE,CAACD,EAAE,GAAGK,EAAE,IAAI,CAAC;MAChBD,CAAC,EAAE,CAACD,EAAE,GAAGG,EAAE,IAAI;IACnB,CAAC;IACDI,QAAQ,EAAEC,IAAI,CAACC,IAAI,CAACL,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE;EACzC,CAAC;AACL;AAEA,SAASK,UAAU,CAACnC,CAAC,EAAE;EACnB,IAAIoC,OAAO,GAAG1C,oBAAoB,EAAE;EACpC,IAAI2C,OAAO,GAAG,EAAE;IACZC,aAAa,GAAGtC,CAAC,CAACsC,aAAa,IAAItC,CAAC;IACpCuC,aAAa,GAAGvC,CAAC,CAACuC,aAAa;IAC/BC,GAAG,GAAG,CAAC;IACPC,MAAM;IAAEC,cAAc;IAAEC,KAAK;EAEjC,IAAI3C,CAAC,CAAC4C,GAAG,EAAE;IACPP,OAAO,CAACQ,IAAI,CAAC;MACTC,EAAE,EAAE,CAAC;MACLC,KAAK,EAAE/C,CAAC;MACRgD,MAAM,EAAEhD,CAAC,CAACgD,MAAM;MAChBT,aAAa,EAAEvC,CAAC,CAACgD,MAAM;MACvBxB,QAAQ,EAAExB,CAAC;MACXiD,IAAI,EAAE;IACV,CAAC,CAAC;EACN,CAAC,MAAM,IAAIjD,CAAC,CAACiD,IAAI,CAACC,KAAK,CAAC,OAAO,CAAC,EAAE;IAC9BR,cAAc,GAAGJ,aAAa,GAAGA,aAAa,CAACI,cAAc,GAAG,EAAE;IAElE,KAAKD,MAAM,GAAGC,cAAc,CAACD,MAAM,EAAED,GAAG,GAAGC,MAAM,EAAED,GAAG,EAAE,EAAE;MACtDG,KAAK,GAAGD,cAAc,CAACF,GAAG,CAAC;MAC3BH,OAAO,CAACQ,IAAI,CAAC;QACTrB,QAAQ,EAAEmB,KAAK;QACfI,KAAK,EAAE/C,CAAC;QACRgD,MAAM,EAAEL,KAAK,CAACK,MAAM;QACpBT,aAAa,EAAEA,aAAa;QAC5BO,EAAE,EAAEH,KAAK,CAACQ,UAAU;QACpBF,IAAI,EAAE;MACV,CAAC,CAAC;IACN;EACJ,CAAC,MAAM,IAAIb,OAAO,CAACgB,QAAQ,IAAIhB,OAAO,CAACiB,UAAU,EAAE;IAC/ChB,OAAO,CAACQ,IAAI,CAAC;MACTrB,QAAQ,EAAEc,aAAa;MACvBS,KAAK,EAAE/C,CAAC;MACRgD,MAAM,EAAEhD,CAAC,CAACgD,MAAM;MAChBT,aAAa,EAAEA,aAAa;MAC5BO,EAAE,EAAER,aAAa,CAACgB,SAAS;MAC3BL,IAAI,EAAE;IACV,CAAC,CAAC;EACN,CAAC,MAAM;IACHZ,OAAO,CAACQ,IAAI,CAAC;MACTC,EAAE,EAAE,CAAC;MACLC,KAAK,EAAE/C,CAAC;MACRgD,MAAM,EAAEhD,CAAC,CAACgD,MAAM;MAChBT,aAAa,EAAEA,aAAa;MAC5Bf,QAAQ,EAAExB,CAAC;MACXiD,IAAI,EAAE;IACV,CAAC,CAAC;EACN;EAEA,OAAOZ,OAAO;AAClB;AACA,OAAO,IAAIkB,SAAS,GAAI,UAAUtE,KAAK,EAAE;EACrC,SAASsE,SAAS,CAACC,IAAI,EAAEhC,QAAQ,EAAE;IAC/BvC,KAAK,CAACwE,IAAI,CAAC,IAAI,CAAC;IAChB,IAAIC,IAAI,GAAG,IAAI;IAEfA,IAAI,CAACtB,OAAO,GAAG1C,oBAAoB,EAAE;IACrCgE,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACvB,OAAO,CAACwB,QAAQ,IAAI,IAAI,CAACxB,OAAO,CAACwB,QAAQ,CAACC,OAAO;IAC/EH,IAAI,CAACF,IAAI,GAAGA,IAAI;IAChBE,IAAI,CAACI,mBAAmB,CAACtC,QAAQ,CAAC;IAClCkC,IAAI,CAACK,aAAa,GAAGL,IAAI,CAAClC,QAAQ;IAClCkC,IAAI,CAACM,QAAQ,GAAGN,IAAI,CAACO,KAAK,GAAG,CAAC;IAC9BP,IAAI,CAACQ,SAAS,GAAGzE,GAAG,EAAE;EAC1B;EAEA,IAAKR,KAAK,EAAGsE,SAAS,CAACY,SAAS,GAAGlF,KAAK;EACxCsE,SAAS,CAACa,SAAS,GAAGvE,MAAM,CAACwE,MAAM,CAAEpF,KAAK,IAAIA,KAAK,CAACmF,SAAS,CAAE;EAC/Db,SAAS,CAACa,SAAS,CAACE,WAAW,GAAGf,SAAS;EAE3CA,SAAS,CAACa,SAAS,CAACG,IAAI,GAAG,SAASA,IAAI,CAAE/C,QAAQ,EAAE;IAChD,IAAIkC,IAAI,GAAG,IAAI;MACXc,MAAM,GAAGhD,QAAQ,CAAC,MAAM,GAAGkC,IAAI,CAACF,IAAI,CAAC;MACrCU,SAAS,GAAGzE,GAAG,EAAE;MACjBgF,SAAS,GAAGP,SAAS,GAAGR,IAAI,CAACQ,SAAS,IAAI,CAAC;IAE/C,IAAI,CAACM,MAAM,IAAI,IAAI,CAACb,iBAAiB,EAAE;MACnC;IACJ;IAEAD,IAAI,CAACO,KAAK,GAAGO,MAAM,GAAGd,IAAI,CAAClC,QAAQ;IACnCkC,IAAI,CAACI,mBAAmB,CAACtC,QAAQ,CAAC;IAClCkC,IAAI,CAACgB,YAAY,GAAGF,MAAM,GAAGd,IAAI,CAACK,aAAa;IAC/CL,IAAI,CAACM,QAAQ,GAAGN,IAAI,CAACO,KAAK,GAAGQ,SAAS;IACtCf,IAAI,CAACQ,SAAS,GAAGA,SAAS;EAC9B,CAAC;EAEDX,SAAS,CAACa,SAAS,CAACN,mBAAmB,GAAG,SAASA,mBAAmB,CAAEtC,QAAQ,EAAE;IAC9E,IAAIkC,IAAI,GAAG,IAAI;MACXF,IAAI,GAAGE,IAAI,CAACF,IAAI;IAEpBE,IAAI,CAAClC,QAAQ,GAAGA,QAAQ,CAAC,MAAM,GAAGgC,IAAI,CAAC;IACvCE,IAAI,CAACiB,MAAM,GAAGnD,QAAQ,CAAC,QAAQ,GAAGgC,IAAI,CAAC;IACvCE,IAAI,CAACkB,MAAM,GAAGpD,QAAQ,CAAC,QAAQ,GAAGgC,IAAI,CAAC;EAC3C,CAAC;EAED,OAAOD,SAAS;AACpB,CAAC,CAACtE,KAAK,CAAE;AAET,OAAO,IAAI4F,KAAK,GAAI,UAAU5F,KAAK,EAAE;EACjC,SAAS4F,KAAK,CAACC,UAAU,EAAE9B,MAAM,EAAE+B,SAAS,EAAE;IAC1C9F,KAAK,CAACwE,IAAI,CAAC,IAAI,CAAC;IAEhB7D,MAAM,CAAC,IAAI,EAAE;MACT2B,CAAC,EAAE,IAAIgC,SAAS,CAAC,GAAG,EAAEwB,SAAS,CAACvD,QAAQ,CAAC;MACzCE,CAAC,EAAE,IAAI6B,SAAS,CAAC,GAAG,EAAEwB,SAAS,CAACvD,QAAQ,CAAC;MACzCyB,IAAI,EAAE8B,SAAS,CAAC9B,IAAI;MACpB+B,aAAa,EAAEF,UAAU,CAACE,aAAa;MACvCC,SAAS,EAAEH,UAAU,CAACG,SAAS,IAAI/D,SAAS,CAAC6D,SAAS,CAAC9B,IAAI,CAAC;MAC5D6B,UAAU,EAAEA,UAAU;MACtB9B,MAAM,EAAEA,MAAM;MACdT,aAAa,EAAEwC,SAAS,CAACxC,aAAa;MACtC2C,YAAY,EAAEH,SAAS,CAAC/B,MAAM;MAC9BF,EAAE,EAAEiC,SAAS,CAACjC,EAAE;MAChBqC,UAAU,EAAEJ,SAAS;MACrBK,OAAO,EAAEN,UAAU,CAACM,OAAO;MAC3BC,gBAAgB,EAAEP,UAAU,CAACO,gBAAgB;MAC7CC,MAAM,EAAE,KAAK;MACbC,SAAS,EAAE;IACf,CAAC,CAAC;EACN;EAEA,IAAKtG,KAAK,EAAG4F,KAAK,CAACV,SAAS,GAAGlF,KAAK;EACpC4F,KAAK,CAACT,SAAS,GAAGvE,MAAM,CAACwE,MAAM,CAAEpF,KAAK,IAAIA,KAAK,CAACmF,SAAS,CAAE;EAC3DS,KAAK,CAACT,SAAS,CAACE,WAAW,GAAGO,KAAK;EAEnCA,KAAK,CAACT,SAAS,CAACoB,KAAK,GAAG,SAASA,KAAK,GAAI;IACtC;IACA,IAAI,CAACC,YAAY,GAAGC,UAAU,CAACvG,KAAK,CAAC,IAAI,CAACwG,KAAK,EAAE,IAAI,CAAC,EAAE,IAAI,CAACb,UAAU,CAACc,OAAO,CAAC;IAChF,IAAI,CAACC,QAAQ,CAACzF,KAAK,EAAE,IAAI,CAAC+E,UAAU,CAAC;EACzC,CAAC;EAEDN,KAAK,CAACT,SAAS,CAAC0B,IAAI,GAAG,SAASA,IAAI,CAAEf,SAAS,EAAE;IAC7C,IAAIrB,IAAI,GAAG,IAAI;IAEfA,IAAI,CAACoB,UAAU,CAACM,OAAO,EAAE;IAEzB,IAAI1B,IAAI,CAACoB,UAAU,CAACM,OAAO,KAAK,CAAC,EAAE;MAC/B1B,IAAI,CAACqC,aAAa,GAAGL,UAAU,CAAC,YAAW;QACvC,IAAIhC,IAAI,CAACoB,UAAU,CAACM,OAAO,KAAK,CAAC,EAAE;UAC/B1B,IAAI,CAACmC,QAAQ,CAAClF,GAAG,EAAEoE,SAAS,CAAC;QACjC,CAAC,MAAM;UACHrB,IAAI,CAACmC,QAAQ,CAACjF,SAAS,EAAEmE,SAAS,CAAC;QACvC;QAEArB,IAAI,CAACoB,UAAU,CAACM,OAAO,GAAG,CAAC;MAC/B,CAAC,EAAElF,WAAW,CAAC;IACnB;EACJ,CAAC;EAED2E,KAAK,CAACT,SAAS,CAACuB,KAAK,GAAG,SAASA,KAAK,GAAI;IACtC,IAAI,CAACE,QAAQ,CAACxF,IAAI,EAAE,IAAI,CAAC8E,UAAU,CAAC;EACxC,CAAC;;EAED;EACAN,KAAK,CAACT,SAAS,CAACG,IAAI,GAAG,SAASA,IAAI,CAAEQ,SAAS,EAAE;IAC7C,IAAIrB,IAAI,GAAG,IAAI;IACf,IAAIsC,WAAW,GAAGjB,SAAS,CAAC9B,IAAI,KAAK,KAAK,IAAIS,IAAI,CAACoB,UAAU,CAACmB,cAAc;IAE5E,IAAIvC,IAAI,CAAC6B,SAAS,IAAIS,WAAW,EAAE;MAC/B;IACJ;IAEAtC,IAAI,CAACnC,CAAC,CAACgD,IAAI,CAACQ,SAAS,CAACvD,QAAQ,CAAC;IAC/BkC,IAAI,CAAChC,CAAC,CAAC6C,IAAI,CAACQ,SAAS,CAACvD,QAAQ,CAAC;IAE/B,IAAI,CAACkC,IAAI,CAAC4B,MAAM,EAAE;MACd,IAAI5B,IAAI,CAACwC,sBAAsB,EAAE,EAAE;QAC/B;MACJ;MAEA,IAAI,CAACC,UAAU,CAACC,OAAO,IAAID,UAAU,CAACC,OAAO,KAAK1C,IAAI,CAACoB,UAAU,EAAE;QAC/DpB,IAAI,CAAC2C,MAAM,CAACtB,SAAS,CAAC;MAC1B,CAAC,MAAM;QACH,OAAOrB,IAAI,CAAC4C,OAAO,EAAE;MACzB;IACJ;IAEA,IAAI,CAAC5C,IAAI,CAAC6B,SAAS,EAAE;MACjB7B,IAAI,CAACmC,QAAQ,CAACrF,IAAI,EAAEuE,SAAS,CAAC;IAClC;EACJ,CAAC;EACD;;EAEAF,KAAK,CAACT,SAAS,CAACmC,GAAG,GAAG,SAASA,GAAG,CAAExB,SAAS,EAAE;IAC3C,IAAI,CAACyB,OAAO,GAAG/G,GAAG,EAAE;IAEpB,IAAI,IAAI,CAAC8F,SAAS,EAAE;MAChB;IACJ;IAEA,IAAI,CAACA,SAAS,GAAG,IAAI;IACrB,IAAI,CAACM,QAAQ,CAAChF,OAAO,EAAEkE,SAAS,CAAC;IAEjC,IAAI,IAAI,CAACO,MAAM,EAAE;MACb,IAAI,CAACO,QAAQ,CAACpF,GAAG,EAAEsE,SAAS,CAAC;IACjC,CAAC,MAAM;MACH,IAAI,CAAC,IAAI,CAACC,aAAa,EAAE;QACrB,IAAI,IAAI,CAACK,gBAAgB,EAAE;UACvB,IAAI,CAACS,IAAI,CAACf,SAAS,CAAC;QACxB,CAAC,MAAM;UACH,IAAI,CAACc,QAAQ,CAAClF,GAAG,EAAEoE,SAAS,CAAC;QACjC;MACJ;IACJ;IAEA0B,YAAY,CAAC,IAAI,CAAChB,YAAY,CAAC;IAC/B,IAAI,CAACa,OAAO,EAAE;EAClB,CAAC;EAEDzB,KAAK,CAACT,SAAS,CAACkC,OAAO,GAAG,SAASA,OAAO,GAAI;IAC1C,IAAIxB,UAAU,GAAG,IAAI,CAACA,UAAU;MAC5B4B,aAAa,GAAG5B,UAAU,CAACzC,OAAO,IAAI,EAAE;IAE5C,IAAI,CAACkD,SAAS,GAAG,IAAI;IACrB,IAAI,CAACJ,UAAU,GAAG,IAAI;IAEtBsB,YAAY,CAAC,IAAI,CAAChB,YAAY,CAAC;IAC/B;IACA,IAAIkB,gBAAgB,GAAGD,aAAa,CAACE,OAAO,CAAC,IAAI,CAAC;IAClDF,aAAa,CAACG,MAAM,CAACF,gBAAgB,EAAE,CAAC,CAAC;EAC7C,CAAC;EAED9B,KAAK,CAACT,SAAS,CAAC0C,IAAI,GAAG,SAASA,IAAI,GAAI;IACpC,IAAI,CAACR,OAAO,EAAE;EAClB,CAAC;EAEDzB,KAAK,CAACT,SAAS,CAAC2C,MAAM,GAAG,SAASA,MAAM,GAAI;IACxC,IAAI,CAACT,OAAO,EAAE;EAClB,CAAC;EAEDzB,KAAK,CAACT,SAAS,CAAC4C,OAAO,GAAG,SAASA,OAAO,GAAI;IAC1C,OAAO,IAAI,CAAC1B,MAAM;EACtB,CAAC;EAEDT,KAAK,CAACT,SAAS,CAACiC,MAAM,GAAG,SAASA,MAAM,CAAEtB,SAAS,EAAE;IACjD0B,YAAY,CAAC,IAAI,CAAChB,YAAY,CAAC;IAC/B,IAAI,CAACwB,SAAS,GAAGxH,GAAG,EAAE;IACtB,IAAI,CAAC6F,MAAM,GAAG,IAAI;IAClB,IAAI,CAACO,QAAQ,CAACtF,KAAK,EAAEwE,SAAS,CAAC;EACnC,CAAC;EAEDF,KAAK,CAACT,SAAS,CAACyB,QAAQ,GAAG,SAASA,QAAQ,CAAEqB,IAAI,EAAEnC,SAAS,EAAE;IAC3D,IAAIrB,IAAI,GAAG,IAAI;MACXyD,WAAW,GAAGpC,SAAS,CAAChC,KAAK;MAC7BqE,IAAI,GAAG;QACHzE,KAAK,EAAEe,IAAI;QACXnC,CAAC,EAAEmC,IAAI,CAACnC,CAAC;QACTG,CAAC,EAAEgC,IAAI,CAAChC,CAAC;QACTsB,MAAM,EAAEU,IAAI,CAACV,MAAM;QACnBD,KAAK,EAAEoE;MACX,CAAC;IACL,IAAIzD,IAAI,CAACoB,UAAU,CAACuC,MAAM,CAACH,IAAI,EAAEE,IAAI,CAAC,EAAE;MACpCD,WAAW,CAACpH,cAAc,EAAE;IAChC;EACJ,CAAC;EAED8E,KAAK,CAACT,SAAS,CAAC8B,sBAAsB,GAAG,SAASA,sBAAsB,GAAI;IACxE,IAAIoB,MAAM,GAAG,IAAI,CAAC/F,CAAC,CAACmD,YAAY;MAC5B6C,MAAM,GAAG,IAAI,CAAC7F,CAAC,CAACgD,YAAY;IAChC,OAAOzC,IAAI,CAACC,IAAI,CAACoF,MAAM,GAAGA,MAAM,GAAGC,MAAM,GAAGA,MAAM,CAAC,IAAI,IAAI,CAACtC,SAAS;EACzE,CAAC;EAED,OAAOJ,KAAK;AAChB,CAAC,CAAC5F,KAAK,CAAE;AAET,SAASuI,eAAe,CAACC,QAAQ,EAAE;EAC/B,IAAIC,QAAQ,GAAGpI,WAAW,CAACqI,SAAS,CAACC,SAAS,CAAC;EAC/C,IAAIC,UAAU,GAAGH,QAAQ,CAACI,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC;IACnCvF,GAAG,GAAG,CAAC;IACPC,MAAM,GAAGoF,UAAU,CAACpF,MAAM;EAE9B,OAAOD,GAAG,GAAGC,MAAM,EAAED,GAAG,EAAE,EAAE;IACxBiF,QAAQ,CAACI,UAAU,CAACrF,GAAG,CAAC,CAAC;EAC7B;AACJ;AAEA,OAAO,IAAI2D,UAAU,GAAI,UAAUxG,UAAU,EAAE;EAC3C,SAASwG,UAAU,CAAC6B,OAAO,EAAEC,OAAO,EAAE;IAClCtI,UAAU,CAAC8D,IAAI,CAAC,IAAI,CAAC;IACrB,IAAIC,IAAI,GAAG,IAAI;IACf,IAAIwE,MAAM;IAEV,IAAI9F,OAAO,GAAG1C,oBAAoB,EAAE;IACpC,IAAI,CAAC0C,OAAO,GAAGA,OAAO;;IAEtB;IACA6F,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvB;IACA,IAAI,CAACA,OAAO,GAAGA,OAAO;IAEtBC,MAAM,GAAGxE,IAAI,CAACwE,MAAM,GAAGD,OAAO,CAACC,MAAM;IACrCxE,IAAI,CAACuB,SAAS,GAAGgD,OAAO,CAAChD,SAAS,IAAI9E,iBAAiB;IACvDuD,IAAI,CAACkC,OAAO,GAAGqC,OAAO,CAACrC,OAAO,IAAI3F,gBAAgB;IAClDyD,IAAI,CAACrB,OAAO,GAAG,EAAE;IACjBqB,IAAI,CAACyE,WAAW,GAAGF,OAAO,CAACG,UAAU,GAAG,CAAC,GAAG,CAAC;IAC7C1E,IAAI,CAAC2E,cAAc,GAAGJ,OAAO,CAACI,cAAc;IAC5C3E,IAAI,CAAC4E,gBAAgB,GAAGL,OAAO,CAACK,gBAAgB;IAChD5E,IAAI,CAACsB,aAAa,GAAG,CAACiD,OAAO,CAACM,OAAO,IAAI,CAACnG,OAAO,CAACoG,YAAY,EAAE;IAChE9E,IAAI,CAAC0B,OAAO,GAAG,CAAC;IAChB1B,IAAI,CAAC2B,gBAAgB,GAAG4C,OAAO,CAAC5C,gBAAgB;IAEhD,IAAIoD,mBAAmB,GAAG,CAACrG,OAAO,CAACO,KAAK,IAAIP,OAAO,CAACsG,oBAAoB;IAExE9I,MAAM,CAAC8D,IAAI,EAAE;MACTsE,OAAO,EAAEA,OAAO;MAChBW,OAAO,EAAEV,OAAO,CAACW,MAAM,IAAIH,mBAAmB,GAC1CT,OAAO,CAACa,aAAa,CAACC,eAAe,GACrCb,OAAO,CAACU,OAAO,IAAIX,OAAO;MAC9Be,eAAe,EAAEd,OAAO,CAACc,eAAe;MACxCC,OAAO,EAAE;IACb,CAAC,CAAC;IAEF,IAAI,CAACC,mBAAmB,GAAG9J,KAAK,CAAC,IAAI,CAAC+J,KAAK,EAAE,IAAI,CAAC;IAClD3J,EAAE,CAACmE,IAAI,CAACiF,OAAO,EAAEtJ,aAAa,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC4J,mBAAmB,CAAC;IAEjE,IAAI,CAACE,kBAAkB,GAAGhK,KAAK,CAAC,IAAI,CAACiK,IAAI,EAAE,IAAI,CAAC;IAChD7J,EAAE,CAACmE,IAAI,CAACiF,OAAO,EAAEtJ,aAAa,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC8J,kBAAkB,CAAC;IAErE,IAAI,CAACE,oBAAoB,GAAGlK,KAAK,CAAC,IAAI,CAACkH,MAAM,EAAE,IAAI,CAAC;IACpD9G,EAAE,CAACyI,OAAO,EAAE3I,aAAa,CAAC,MAAM,CAAC,EAAE6I,MAAM,EAAE,IAAI,CAACmB,oBAAoB,CAAC;IAErE,IAAI3F,IAAI,CAACsB,aAAa,EAAE;MACpB,IAAI,CAACsE,oBAAoB,GAAGnK,KAAK,CAAC,IAAI,CAACoK,MAAM,EAAE,IAAI,CAAC;MACpDhK,EAAE,CAACyI,OAAO,EAAE3I,aAAa,CAAC,OAAO,CAAC,EAAE6I,MAAM,EAAE,IAAI,CAACoB,oBAAoB,CAAC;IAC1E;IAEA,IAAIlH,OAAO,CAACgB,QAAQ,IAAIhB,OAAO,CAACiB,UAAU,EAAE;MACxC,IAAIjB,OAAO,CAACoH,OAAO,CAACC,OAAO,GAAG,EAAE,EAAE;QAC9B,IAAIC,aAAa,GAAG,4BAA4B;QAEhD1B,OAAO,CAAC2B,KAAK,CAAC,kBAAkB,CAAC,GAC7B1B,OAAO,CAAC2B,WAAW,IAAI3B,OAAO,CAAC2B,WAAW,KAAK,MAAM,GACjDF,aAAa,GAAG,GAAG,GAAGzB,OAAO,CAAC2B,WAAW,GACzCF,aAAa;MAEzB,CAAC,MAAM;QACH1B,OAAO,CAAC2B,KAAK,CAAC,cAAc,CAAC,GAAG1B,OAAO,CAAC2B,WAAW,IAAI,MAAM;MACjE;IACJ;IACA,IAAI3B,OAAO,CAAC4B,gBAAgB,EAAE;MAC1B,IAAI,CAACC,wBAAwB,GAAG/J,cAAc;MAC9CR,EAAE,CAACyI,OAAO,EAAE3I,aAAa,CAAC,WAAW,CAAC,EAAE,IAAI,CAACyK,wBAAwB,CAAC;IAC1E;;IAEA;IACA;IACA;;IAEA;IACA,IAAI,CAACC,qBAAqB,GAAG5K,KAAK,CAAC,IAAI,CAAC6K,OAAO,EAAE,IAAI,CAAC;IACtDzK,EAAE,CAACyI,OAAO,EAAE3I,aAAa,CAAC,WAAW,CAAC,EAAE6I,MAAM,EAAE,IAAI,CAAC6B,qBAAqB,CAAC;IAE3E,IAAIrG,IAAI,CAAC4E,gBAAgB,IAAIlG,OAAO,CAAC6H,YAAY,EAAE;MAC/C,IAAIC,cAAc,GAAGxG,IAAI,CAACiF,OAAO;QAC7BwB,oBAAoB,GAAGhL,KAAK,CAACuE,IAAI,CAAC0G,eAAe,EAAE1G,IAAI,CAAC;MAE5D8D,eAAe,CAAC,UAAS6C,SAAS,EAAE;QAChCH,cAAc,CAACI,gBAAgB,CAACD,SAAS,EAAEF,oBAAoB,EAAE,IAAI,CAAC;MAC1E,CAAC,CAAC;IACN;IAEAzG,IAAI,CAAC6G,IAAI,CAAC,CACNnK,KAAK,EACLC,IAAI,EACJM,GAAG,EACHC,SAAS,EACTL,KAAK,EACLC,IAAI,EACJC,GAAG,EACHI,OAAO,EACPH,MAAM,EACNI,YAAY,EACZC,aAAa,EACbC,UAAU,EACVC,UAAU,EACVX,MAAM,CACT,EAAE2H,OAAO,CAAC;EACf;EAEA,IAAKtI,UAAU,EAAGwG,UAAU,CAAChC,SAAS,GAAGxE,UAAU;EACnDwG,UAAU,CAAC/B,SAAS,GAAGvE,MAAM,CAACwE,MAAM,CAAE1E,UAAU,IAAIA,UAAU,CAACyE,SAAS,CAAE;EAC1E+B,UAAU,CAAC/B,SAAS,CAACE,WAAW,GAAG6B,UAAU;EAE7CA,UAAU,CAAC/B,SAAS,CAACgG,eAAe,GAAG,SAASA,eAAe,CAAEpK,CAAC,EAAE;IAChE,IAAI,IAAI,CAACwK,QAAQ,EAAE,EAAE;MACjBxK,CAAC,CAACD,cAAc,EAAE;IACtB;EACJ,CAAC;EAEDoG,UAAU,CAAC/B,SAAS,CAACqG,OAAO,GAAG,SAASA,OAAO,GAAI;IAC/C,IAAI/G,IAAI,GAAG,IAAI;IACf,IAAIuE,OAAO,GAAG,IAAI,CAACA,OAAO;IAC1B,IAAID,OAAO,GAAG,IAAI,CAACA,OAAO;IAE1B,IAAItE,IAAI,CAACgH,UAAU,EAAE;MACjB;IACJ;IAEAhH,IAAI,CAACgH,UAAU,GAAG,IAAI;IAEtB,IAAIhH,IAAI,CAAC4E,gBAAgB,IAAI,IAAI,CAAClG,OAAO,CAAC6H,YAAY,EAAE;MACpD,IAAIC,cAAc,GAAGxG,IAAI,CAACiF,OAAO;MACjCnB,eAAe,CAAC,UAAS6C,SAAS,EAAE;QAChCH,cAAc,CAACS,mBAAmB,CAACN,SAAS,EAAE3G,IAAI,CAAC0G,eAAe,CAAC;MACvE,CAAC,CAAC;IACN;IAEA5K,GAAG,CAACkE,IAAI,CAACiF,OAAO,EAAEtJ,aAAa,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC4J,mBAAmB,CAAC;IAClEzJ,GAAG,CAACkE,IAAI,CAACiF,OAAO,EAAEtJ,aAAa,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC8J,kBAAkB,CAAC;IAEtE3J,GAAG,CAACwI,OAAO,EAAE3I,aAAa,CAAC,MAAM,CAAC,EAAE,IAAI,CAACgK,oBAAoB,CAAC;IAE9D,IAAI3F,IAAI,CAACsB,aAAa,EAAE;MACpBxF,GAAG,CAACwI,OAAO,EAAE3I,aAAa,CAAC,OAAO,CAAC,EAAE,IAAI,CAACiK,oBAAoB,CAAC;IACnE;IAEA,IAAIrB,OAAO,CAAC4B,gBAAgB,EAAE;MAC1BrK,GAAG,CAACwI,OAAO,EAAE3I,aAAa,CAAC,WAAW,CAAC,EAAE,IAAI,CAACyK,wBAAwB,CAAC;IAC3E;IAEAtK,GAAG,CAACwI,OAAO,EAAE3I,aAAa,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC0K,qBAAqB,CAAC;IAEpErG,IAAI,CAACkH,WAAW,EAAE;IAClBlH,IAAI,CAACmH,MAAM,EAAE;IAEb,OAAOnH,IAAI,CAACiF,OAAO;IACnB,OAAOjF,IAAI,CAACsE,OAAO;IACnB,OAAOtE,IAAI,CAACnB,aAAa;EAC7B,CAAC;EAED4D,UAAU,CAAC/B,SAAS,CAAC0G,OAAO,GAAG,SAASA,OAAO,GAAI;IAC/C3E,UAAU,CAACC,OAAO,GAAG,IAAI;EAC7B,CAAC;EAEDD,UAAU,CAAC/B,SAAS,CAAC2C,MAAM,GAAG,SAASA,MAAM,GAAI;IAC7C,IAAI,CAAC6D,WAAW,EAAE;IAClB,IAAI,CAACG,OAAO,CAACrK,MAAM,CAAC;EACxB,CAAC;;EAED;EACAyF,UAAU,CAAC/B,SAAS,CAACiD,MAAM,GAAG,SAASA,MAAM,CAAEtE,KAAK,EAAEqE,IAAI,EAAE;IACxD,IAAI1D,IAAI,GAAG,IAAI;MACXrB,OAAO,GAAGqB,IAAI,CAACrB,OAAO;IAC1B,IAAIgI,SAAS,GAAGtH,KAAK;IAErB,IAAI,IAAI,CAACiI,aAAa,EAAE,EAAE;MACtB,QAAQX,SAAS;QACb,KAAK7J,IAAI;UACL6J,SAAS,GAAGtJ,aAAa;UACzB;QACJ,KAAKN,GAAG;UACJ4J,SAAS,GAAGrJ,UAAU;UACtB;QACJ,KAAKL,GAAG;UACJ0J,SAAS,GAAGpJ,UAAU;UACtB;QACJ;UACI;MAAM;MAGdrB,MAAM,CAACwH,IAAI,EAAE;QACT/E,OAAO,EAAEA;MACb,CAAC,EAAElB,UAAU,CAACkB,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1C;IAEA,OAAO,IAAI,CAAC0I,OAAO,CAACV,SAAS,EAAEzK,MAAM,CAACwH,IAAI,EAAE;MACxCnE,IAAI,EAAEoH;IACV,CAAC,CAAC,CAAC;EACP,CAAC;EACD;;EAEAlE,UAAU,CAAC/B,SAAS,CAACoB,KAAK,GAAG,SAASA,KAAK,CAAEjE,CAAC,EAAEG,CAAC,EAAEsB,MAAM,EAAE;IACvD,IAAI,CAACiI,QAAQ,CAAC,QAAQ,EAAE1J,CAAC,EAAEG,CAAC,EAAEsB,MAAM,CAAC;EACzC,CAAC;EAEDmD,UAAU,CAAC/B,SAAS,CAACG,IAAI,GAAG,SAASA,IAAI,CAAEhD,CAAC,EAAEG,CAAC,EAAE;IAC7C,IAAI,CAACuJ,QAAQ,CAAC,OAAO,EAAE1J,CAAC,EAAEG,CAAC,CAAC;EAChC,CAAC;EAEDyE,UAAU,CAAC/B,SAAS,CAACmC,GAAG,GAAG,SAASA,GAAG,CAAEhF,CAAC,EAAEG,CAAC,EAAE;IAC3C,IAAI,CAACuJ,QAAQ,CAAC,MAAM,EAAE1J,CAAC,EAAEG,CAAC,CAAC;EAC/B,CAAC;EAEDyE,UAAU,CAAC/B,SAAS,CAAC4G,aAAa,GAAG,SAASA,aAAa,GAAI;IAC3D,OAAO,IAAI,CAAC3I,OAAO,CAACI,MAAM,GAAG,CAAC;EAClC,CAAC;EAED0D,UAAU,CAAC/B,SAAS,CAAC8G,kBAAkB,GAAG,SAASA,kBAAkB,GAAI;IACrE,OAAO,IAAI,CAAC7I,OAAO,CAACI,MAAM,IAAI,IAAI,CAAC0F,WAAW;EAClD,CAAC;EAEDhC,UAAU,CAAC/B,SAAS,CAACwG,WAAW,GAAG,SAASA,WAAW,GAAI;IACvD,IAAIvI,OAAO,GAAG,IAAI,CAACA,OAAO;IAC1B,OAAOA,OAAO,CAACI,MAAM,GAAG,CAAC,EAAE;MACvBJ,OAAO,CAAC8I,GAAG,EAAE,CAAC7E,OAAO,EAAE;IAC3B;EACJ,CAAC;EAEDH,UAAU,CAAC/B,SAAS,CAACoG,QAAQ,GAAG,SAASA,QAAQ,GAAI;IACjD,OAAOtL,IAAI,CAAC,IAAI,CAACmD,OAAO,EAAE,UAASM,KAAK,EAAE;MACtC,OAAOA,KAAK,CAACqE,OAAO,EAAE;IAC1B,CAAC,CAAC,CAACvE,MAAM;EACb,CAAC;EAED0D,UAAU,CAAC/B,SAAS,CAAC4F,OAAO,GAAG,SAASA,OAAO,CAAEhK,CAAC,EAAE;IAChD,IAAI,CAAC,IAAI,CAACqI,cAAc,IAAI,IAAI,CAAC0C,OAAO,CAACzK,MAAM,EAAE;MAAEyC,KAAK,EAAE/C;IAAE,CAAC,CAAC,EAAE;MAC5DA,CAAC,CAACD,cAAc,EAAE;IACtB;EACJ,CAAC;EAEDoG,UAAU,CAAC/B,SAAS,CAACiC,MAAM,GAAG,SAASA,MAAM,CAAErG,CAAC,EAAE;IAC9C,IAAI0D,IAAI,GAAG,IAAI;MACXlB,GAAG,GAAG,CAAC;MACP0F,MAAM,GAAGxE,IAAI,CAACwE,MAAM;MACpBlF,MAAM;MACNX,OAAO,GAAGF,UAAU,CAACnC,CAAC,CAAC;MACvByC,MAAM,GAAGJ,OAAO,CAACI,MAAM;MACvBE,KAAK;MACLyI,KAAK,GAAGpL,CAAC,CAACoL,KAAK;IAEnB,IAAIA,KAAK,IAAIA,KAAK,GAAG,CAAC,IAAI1H,IAAI,CAACwH,kBAAkB,EAAE,EAAE;MACjD;IACJ;IAEA/E,UAAU,CAACC,OAAO,GAAG,IAAI;IACzB1C,IAAI,CAACnB,aAAa,GAAGvC,CAAC,CAACuC,aAAa;IAEpC,IAAImB,IAAI,CAACqF,eAAe,EAAE;MACtB/I,CAAC,CAAC+I,eAAe,EAAE;IACvB;IAEA,OAAOvG,GAAG,GAAGC,MAAM,EAAED,GAAG,EAAE,EAAE;MACxB,IAAIkB,IAAI,CAACwH,kBAAkB,EAAE,EAAE;QAC3B;MACJ;MAEAvI,KAAK,GAAGN,OAAO,CAACG,GAAG,CAAC;MAEpB,IAAI0F,MAAM,EAAE;QACRlF,MAAM,GAAGL,KAAK,CAACJ,aAAa;MAChC,CAAC,MAAM;QACHS,MAAM,GAAGU,IAAI,CAACsE,OAAO;MACzB;MAEA,IAAIhF,MAAM,IAAIA,MAAM,CAACP,MAAM,KAAK,CAAC,EAAE;QAC/B;MACJ;MAEAE,KAAK,GAAG,IAAIkC,KAAK,CAACnB,IAAI,EAAEV,MAAM,EAAEL,KAAK,CAAC;MACtCe,IAAI,CAACrB,OAAO,CAACQ,IAAI,CAACF,KAAK,CAAC;MACxBA,KAAK,CAAC6C,KAAK,EAAE;MAEb,IAAI9B,IAAI,CAACsH,aAAa,EAAE,EAAE;QACtBtH,IAAI,CAAC2D,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;MACnC;IACJ;EACJ,CAAC;EAEDlB,UAAU,CAAC/B,SAAS,CAAC8E,KAAK,GAAG,SAASA,KAAK,CAAElJ,CAAC,EAAE;IAC5C,IAAI,CAACqL,UAAU,CAAC,MAAM,EAAErL,CAAC,CAAC;EAC9B,CAAC;EAEDmG,UAAU,CAAC/B,SAAS,CAACgF,IAAI,GAAG,SAASA,IAAI,CAAEpJ,CAAC,EAAE;IAC1C,IAAI,CAACqL,UAAU,CAAC,KAAK,EAAErL,CAAC,CAAC;EAC7B,CAAC;EAEDmG,UAAU,CAAC/B,SAAS,CAACmF,MAAM,GAAG,SAASA,MAAM,CAAEvJ,CAAC,EAAE;IAC9C,IAAIoH,IAAI,GAAG;MACPzE,KAAK,EAAE;QACHuC,YAAY,EAAElF,CAAC,CAACgD,MAAM;QACtBA,MAAM,EAAEhD,CAAC,CAACuC,aAAa;QACvBiE,OAAO,EAAE/G,GAAG,EAAE;QACd8B,CAAC,EAAE;UACCC,QAAQ,EAAExB,CAAC,CAACsL,KAAK;UACjB3G,MAAM,EAAE3E,CAAC,CAACuL;QACd,CAAC;QACD7J,CAAC,EAAE;UACCF,QAAQ,EAAExB,CAAC,CAACwL,KAAK;UACjB7G,MAAM,EAAE3E,CAAC,CAACyL;QACd;MACJ,CAAC;MACDlK,CAAC,EAAEvB,CAAC,CAACsL,KAAK;MACV5J,CAAC,EAAE1B,CAAC,CAACwL,KAAK;MACVxI,MAAM,EAAEhD,CAAC,CAACuC,aAAa;MACvBQ,KAAK,EAAE/C,CAAC;MACRiD,IAAI,EAAE;IACV,CAAC;IAED,IAAI,IAAI,CAAC8H,OAAO,CAAC,KAAK,EAAE3D,IAAI,CAAC,EAAE;MAC3BpH,CAAC,CAACD,cAAc,EAAE;IACtB;EACJ,CAAC;EAEDoG,UAAU,CAAC/B,SAAS,CAACiH,UAAU,GAAG,SAASA,UAAU,CAAEK,UAAU,EAAE1L,CAAC,EAAE;IAClE,IAAI0D,IAAI,GAAG,IAAI;MACXiI,IAAI,GAAG,CAAC,CAAC;MACTtJ,OAAO,GAAGF,UAAU,CAACnC,CAAC,CAAC;MACvB0G,aAAa,GAAGhD,IAAI,CAACrB,OAAO;MAC5BG,GAAG;MACHG,KAAK;MACLoC,SAAS;MACT6G,aAAa;IAEjB,KAAKpJ,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGkE,aAAa,CAACjE,MAAM,EAAED,GAAG,EAAE,EAAE;MAC7CG,KAAK,GAAG+D,aAAa,CAAClE,GAAG,CAAC;MAC1BmJ,IAAI,CAAChJ,KAAK,CAACG,EAAE,CAAC,GAAGH,KAAK;IAC1B;IAEA,KAAKH,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGH,OAAO,CAACI,MAAM,EAAED,GAAG,EAAE,EAAE;MACvCuC,SAAS,GAAG1C,OAAO,CAACG,GAAG,CAAC;MACxBoJ,aAAa,GAAGD,IAAI,CAAC5G,SAAS,CAACjC,EAAE,CAAC;MAElC,IAAI8I,aAAa,EAAE;QACfA,aAAa,CAACF,UAAU,CAAC,CAAC3G,SAAS,CAAC;MACxC;IACJ;EACJ,CAAC;EAEDoB,UAAU,CAAC/B,SAAS,CAAC6G,QAAQ,GAAG,SAASA,QAAQ,CAAEhI,IAAI,EAAE1B,CAAC,EAAEG,CAAC,EAAEsB,MAAM,EAAE;IACnE,IAAI,CAACC,IAAI,CAAC,CAAC;MACPL,GAAG,EAAE,IAAI;MACT0I,KAAK,EAAE/J,CAAC;MACRiK,KAAK,EAAE9J,CAAC;MACR6J,OAAO,EAAEhK,CAAC;MACVkK,OAAO,EAAE/J,CAAC;MACVsB,MAAM,EAAEA,MAAM,IAAI,IAAI,CAACgF,OAAO;MAC9Be,eAAe,EAAE3J,IAAI;MACrBW,cAAc,EAAEX;IACpB,CAAC,CAAC;EACN,CAAC;EAED+G,UAAU,CAAC0F,gBAAgB,GAAG,SAASA,gBAAgB,CAAEC,KAAK,EAAE;IAC5D3L,iBAAiB,GAAG2L,KAAK;EAC7B,CAAC;EAED3F,UAAU,CAACP,OAAO,GAAG,SAASA,OAAO,CAAEkG,KAAK,EAAE;IAC1C7L,gBAAgB,GAAG6L,KAAK;EAC5B,CAAC;EAED,OAAO3F,UAAU;AACrB,CAAC,CAACxG,UAAU,CAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}