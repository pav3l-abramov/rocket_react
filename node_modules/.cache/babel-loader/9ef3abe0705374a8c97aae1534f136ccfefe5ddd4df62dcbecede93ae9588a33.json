{"ast":null,"code":"import { geometry as g } from '@progress/kendo-drawing';\nimport { addClass, setDefaultOptions, valueOrDefault, defined, mousewheelDelta, limitValue, deepExtend, elementOffset, isArray, round } from '../common';\nimport { EPSG3857 } from './crs';\nimport { Attribution } from './attribution';\nimport { Navigator } from './navigator';\nimport { ZoomControl } from './zoom';\nimport { Location } from './location';\nimport { Extent } from './extent';\nimport { Tooltip } from './tooltip/tooltip';\nimport { TileLayer } from './layers/tile';\nimport { BubbleLayer } from './layers/bubble';\nimport { ShapeLayer } from './layers/shape';\nimport { MarkerLayer } from './layers/marker';\nimport { removeChildren, setDefaultEvents, toHyphens, proxy, now, on, off, getSupportedFeatures, convertToHtml } from './utils';\nimport { Scroller } from './scroller/scroller';\nimport { Observable } from './scroller/observable';\nimport MapService from './../services/map-service';\nimport { CENTER_CHANGE, INIT, ZOOM_CHANGE } from './constants';\nvar math = Math,\n  min = math.min,\n  pow = math.pow,\n  Point = g.Point,\n  MARKER = \"marker\",\n  LOCATION = \"location\",\n  FRICTION = 0.9,\n  FRICTION_MOBILE = 0.93,\n  MOUSEWHEEL = 'DOMMouseScroll mousewheel',\n  VELOCITY_MULTIPLIER = 5,\n  DEFAULT_ZOOM_RATE = 1;\nvar layersMap = {\n  bubble: BubbleLayer,\n  shape: ShapeLayer,\n  tile: TileLayer\n};\nlayersMap[MARKER] = MarkerLayer;\nfunction renderPos(pos) {\n  var result = [];\n  if (pos) {\n    var parts = toHyphens(pos).split(\"-\");\n    for (var i = 0; i < parts.length; i++) {\n      result.push(\"k-pos-\" + parts[i]);\n    }\n  }\n  return result.join(\" \");\n}\nvar Map = function (Observable) {\n  function Map(element, options, themeOptions, context) {\n    if (options === void 0) options = {};\n    if (themeOptions === void 0) themeOptions = {};\n    if (context === void 0) context = {};\n    Observable.call(this);\n    this._init(element, options, themeOptions, context);\n  }\n  if (Observable) Map.__proto__ = Observable;\n  Map.prototype = Object.create(Observable && Observable.prototype);\n  Map.prototype.constructor = Map;\n  Map.prototype.destroy = function destroy() {\n    var this$1 = this;\n    this.scroller.destroy();\n    if (this._tooltip) {\n      this._tooltip.destroy();\n    }\n    if (this.navigator) {\n      this.navigator.destroy();\n    }\n    if (this.attribution) {\n      this.attribution.destroy();\n    }\n    if (this.zoomControl) {\n      this.zoomControl.destroy();\n    }\n    if (isArray(this.markers)) {\n      this.markers.forEach(function (markerLayer) {\n        markerLayer.destroy();\n      });\n    } else {\n      this.markers.destroy();\n    }\n    for (var i = 0; i < this.layers.length; i++) {\n      this$1.layers[i].destroy();\n    }\n    off(this.element, MOUSEWHEEL, this._mousewheelHandler);\n    Observable.prototype.destroy.call(this);\n  };\n  Map.prototype._init = function _init(element, options, themeOptions, context) {\n    if (options === void 0) options = {};\n    if (themeOptions === void 0) themeOptions = {};\n    if (context === void 0) context = {};\n    this.support = getSupportedFeatures();\n    this.context = context;\n    this.initObserver(context);\n    this.initServices(context);\n    this._notifyObserver(INIT);\n    this._initOptions(options);\n    this._setEvents(options);\n    this.crs = new EPSG3857();\n    this._initElement(element);\n    this._viewOrigin = this._getOrigin();\n    this._tooltip = this._createTooltip();\n    this._initScroller();\n    this._initMarkers();\n    this._initControls();\n    this._initLayers();\n    this._reset();\n    this._mousewheelHandler = this._mousewheel.bind(this);\n    on(this.element, MOUSEWHEEL, this._mousewheelHandler);\n  };\n  Map.prototype._initOptions = function _initOptions(options) {\n    this.options = deepExtend({}, this.options, options);\n  };\n  Map.prototype._initElement = function _initElement(element) {\n    this.element = element;\n    addClass(element, \"k-map\");\n    element.style.position = \"relative\";\n    element.setAttribute(\"data-role\", \"map\");\n    removeChildren(element);\n    var div = convertToHtml(\"<div />\");\n    this.element.appendChild(div);\n  };\n  Map.prototype.initServices = function initServices(context) {\n    if (context === void 0) context = {};\n    this.widgetService = new MapService(this, context);\n  };\n  Map.prototype.initObserver = function initObserver(context) {\n    if (context === void 0) context = {};\n    this.observers = [];\n    this.addObserver(context.observer);\n  };\n  Map.prototype.addObserver = function addObserver(observer) {\n    if (observer) {\n      this.observers.push(observer);\n    }\n  };\n  Map.prototype.removeObserver = function removeObserver(observer) {\n    var index = this.observers.indexOf(observer);\n    if (index >= 0) {\n      this.observers.splice(index, 1);\n    }\n  };\n  Map.prototype.requiresHandlers = function requiresHandlers(eventNames) {\n    var observers = this.observers;\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].requiresHandlers(eventNames)) {\n        return true;\n      }\n    }\n  };\n  Map.prototype.trigger = function trigger(name, args) {\n    if (args === void 0) args = {};\n    args.sender = this;\n    var observers = this.observers;\n    var isDefaultPrevented = false;\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].trigger(name, args)) {\n        isDefaultPrevented = true;\n      }\n    }\n    if (!isDefaultPrevented) {\n      Observable.prototype.trigger.call(this, name, args);\n    }\n    return isDefaultPrevented;\n  };\n  Map.prototype._notifyObserver = function _notifyObserver(name, args) {\n    if (args === void 0) args = {};\n    args.sender = this;\n    var observers = this.observers;\n    var isDefaultPrevented = false;\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].trigger(name, args)) {\n        isDefaultPrevented = true;\n      }\n    }\n    return isDefaultPrevented;\n  };\n  Map.prototype.zoom = function zoom(level) {\n    var options = this.options;\n    var result;\n    if (defined(level)) {\n      var zoomLevel = math.round(limitValue(level, options.minZoom, options.maxZoom));\n      if (options.zoom !== zoomLevel) {\n        options.zoom = zoomLevel;\n        this.widgetService.notify(ZOOM_CHANGE, {\n          zoom: options.zoom\n        });\n        this._reset();\n      }\n      result = this;\n    } else {\n      result = options.zoom;\n    }\n    return result;\n  };\n  Map.prototype.center = function center(center$1) {\n    var result;\n    if (center$1) {\n      var current = Location.create(center$1);\n      var previous = Location.create(this.options.center);\n      if (!current.equals(previous)) {\n        this.options.center = current.toArray();\n        this.widgetService.notify(CENTER_CHANGE, {\n          center: this.options.center\n        });\n        this._reset();\n      }\n      result = this;\n    } else {\n      result = Location.create(this.options.center);\n    }\n    return result;\n  };\n  Map.prototype.extent = function extent(extent$1) {\n    var result;\n    if (extent$1) {\n      this._setExtent(extent$1);\n      result = this;\n    } else {\n      result = this._getExtent();\n    }\n    return result;\n  };\n  Map.prototype.setOptions = function setOptions(options) {\n    if (options === void 0) options = {};\n    var element = this.element;\n    this.destroy();\n    removeChildren(element);\n    this._init(element, options, {}, this.context);\n    this._reset();\n  };\n  Map.prototype.locationToLayer = function locationToLayer(location, zoom) {\n    var clamp = !this.options.wraparound;\n    var locationObject = Location.create(location);\n    return this.crs.toPoint(locationObject, this._layerSize(zoom), clamp);\n  };\n  Map.prototype.layerToLocation = function layerToLocation(point, zoom) {\n    var clamp = !this.options.wraparound;\n    var pointObject = Point.create(point);\n    return this.crs.toLocation(pointObject, this._layerSize(zoom), clamp);\n  };\n  Map.prototype.locationToView = function locationToView(location) {\n    var locationObject = Location.create(location);\n    var origin = this.locationToLayer(this._viewOrigin);\n    var point = this.locationToLayer(locationObject);\n    return point.translateWith(origin.scale(-1));\n  };\n  Map.prototype.viewToLocation = function viewToLocation(point, zoom) {\n    var origin = this.locationToLayer(this._getOrigin(), zoom);\n    var pointObject = Point.create(point);\n    var pointResult = pointObject.clone().translateWith(origin);\n    return this.layerToLocation(pointResult, zoom);\n  };\n  Map.prototype.eventOffset = function eventOffset(e) {\n    var x;\n    var y;\n    var offset = elementOffset(this.element);\n    if (e.x && e.x[LOCATION] || e.y && e.y[LOCATION]) {\n      x = e.x[LOCATION] - offset.left;\n      y = e.y[LOCATION] - offset.top;\n    } else {\n      var event = e.originalEvent || e;\n      x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n      y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n    }\n    var point = new g.Point(x, y);\n    return point;\n  };\n  Map.prototype.eventToView = function eventToView(e) {\n    var cursor = this.eventOffset(e);\n    return this.locationToView(this.viewToLocation(cursor));\n  };\n  Map.prototype.eventToLayer = function eventToLayer(e) {\n    return this.locationToLayer(this.eventToLocation(e));\n  };\n  Map.prototype.eventToLocation = function eventToLocation(e) {\n    var cursor = this.eventOffset(e);\n    return this.viewToLocation(cursor);\n  };\n  Map.prototype.viewSize = function viewSize() {\n    var element = this.element;\n    var scale = this._layerSize();\n    var width = element.clientWidth;\n    if (!this.options.wraparound) {\n      width = min(scale, width);\n    }\n    return {\n      width: width,\n      height: min(scale, element.clientHeight)\n    };\n  };\n  Map.prototype.exportVisual = function exportVisual() {\n    this._reset();\n    return false;\n  };\n  Map.prototype.hideTooltip = function hideTooltip() {\n    if (this._tooltip) {\n      this._tooltip.hide();\n    }\n  };\n  Map.prototype._setOrigin = function _setOrigin(origin, zoom) {\n    var size = this.viewSize(),\n      topLeft;\n    var originLocation = this._origin = Location.create(origin);\n    topLeft = this.locationToLayer(originLocation, zoom);\n    topLeft.x += size.width / 2;\n    topLeft.y += size.height / 2;\n    this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n    this.widgetService.notify(CENTER_CHANGE, {\n      center: this.options.center\n    });\n    return this;\n  };\n  Map.prototype._getOrigin = function _getOrigin(invalidate) {\n    var size = this.viewSize(),\n      topLeft;\n    if (invalidate || !this._origin) {\n      topLeft = this.locationToLayer(this.center());\n      topLeft.x -= size.width / 2;\n      topLeft.y -= size.height / 2;\n      this._origin = this.layerToLocation(topLeft);\n    }\n    return this._origin;\n  };\n  Map.prototype._setExtent = function _setExtent(newExtent) {\n    var this$1 = this;\n    var raw = Extent.create(newExtent);\n    var se = raw.se.clone();\n    if (this.options.wraparound && se.lng < 0 && newExtent.nw.lng > 0) {\n      se.lng = 180 + (180 + se.lng);\n    }\n    var extent = new Extent(raw.nw, se);\n    this.center(extent.center());\n    var width = this.element.clientWidth;\n    var height = this.element.clientHeight;\n    var zoom;\n    for (zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n      var topLeft = this$1.locationToLayer(extent.nw, zoom);\n      var bottomRight = this$1.locationToLayer(extent.se, zoom);\n      var layerWidth = math.abs(bottomRight.x - topLeft.x);\n      var layerHeight = math.abs(bottomRight.y - topLeft.y);\n      if (layerWidth <= width && layerHeight <= height) {\n        break;\n      }\n    }\n    this.zoom(zoom);\n  };\n  Map.prototype._getExtent = function _getExtent() {\n    var nw = this._getOrigin();\n    var bottomRight = this.locationToLayer(nw);\n    var size = this.viewSize();\n    bottomRight.x += size.width;\n    bottomRight.y += size.height;\n    var se = this.layerToLocation(bottomRight);\n    return new Extent(nw, se);\n  };\n  Map.prototype._zoomAround = function _zoomAround(pivot, level) {\n    this._setOrigin(this.layerToLocation(pivot, level), level);\n    this.zoom(level);\n  };\n  Map.prototype._initControls = function _initControls() {\n    var controls = this.options.controls;\n    if (controls.attribution) {\n      this._createAttribution(controls.attribution);\n    }\n    if (!this.support.mobileOS) {\n      if (controls.navigator) {\n        this._createNavigator(controls.navigator);\n      }\n      if (controls.zoom) {\n        this._createZoomControl(controls.zoom);\n      }\n    }\n  };\n  Map.prototype._createControlElement = function _createControlElement(options, defaultPosition) {\n    var pos = options.position || defaultPosition;\n    var posSelector = '.' + renderPos(pos).replace(' ', '.');\n    var wrap = this.element.querySelector('.k-map-controls' + posSelector) || [];\n    if (wrap.length === 0) {\n      var div$1 = document.createElement(\"div\");\n      addClass(div$1, 'k-map-controls ' + renderPos(pos));\n      wrap = div$1;\n      this.element.appendChild(wrap);\n    }\n    var div = document.createElement(\"div\");\n    wrap.appendChild(div);\n    return div;\n  };\n  Map.prototype._createAttribution = function _createAttribution(options) {\n    var element = this._createControlElement(options, 'bottomRight');\n    this.attribution = new Attribution(element, options);\n  };\n  Map.prototype._createNavigator = function _createNavigator(options) {\n    var element = this._createControlElement(options, 'topLeft');\n    var navigator = this.navigator = new Navigator(element, options);\n    this._navigatorPan = this._navigatorPan.bind(this);\n    navigator.bind('pan', this._navigatorPan);\n    this._navigatorCenter = this._navigatorCenter.bind(this);\n    navigator.bind('center', this._navigatorCenter);\n  };\n  Map.prototype._navigatorPan = function _navigatorPan(e) {\n    var scroller = this.scroller;\n    var x = scroller.scrollLeft + e.x;\n    var y = scroller.scrollTop - e.y;\n    var bounds = this._virtualSize;\n    var width = this.element.clientWidth;\n    var height = this.element.clientHeight;\n\n    // TODO: Move limits to scroller\n    x = limitValue(x, bounds.x.min, bounds.x.max - width);\n    y = limitValue(y, bounds.y.min, bounds.y.max - height);\n    this.scroller.one('scroll', proxy(this._scrollEnd, this));\n    this.scroller.scrollTo(-x, -y);\n  };\n  Map.prototype._navigatorCenter = function _navigatorCenter() {\n    this.center(this.options.center);\n  };\n  Map.prototype._createZoomControl = function _createZoomControl(options) {\n    var element = this._createControlElement(options, 'topLeft');\n    var zoomControl = this.zoomControl = new ZoomControl(element, options);\n    this._zoomControlChange = this._zoomControlChange.bind(this);\n    zoomControl.bind('change', this._zoomControlChange);\n  };\n  Map.prototype._zoomControlChange = function _zoomControlChange(e) {\n    if (!this.trigger('zoomStart', {\n      originalEvent: e\n    })) {\n      this.zoom(this.zoom() + e.delta);\n      this.trigger('zoomEnd', {\n        originalEvent: e\n      });\n    }\n  };\n  Map.prototype._initScroller = function _initScroller() {\n    var friction = this.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n    var zoomable = this.options.zoomable !== false;\n    var scroller = this.scroller = new Scroller(this.element.children[0], {\n      friction: friction,\n      velocityMultiplier: VELOCITY_MULTIPLIER,\n      zoom: zoomable,\n      mousewheelScrolling: false,\n      supportDoubleTap: true\n    });\n    scroller.bind('scroll', proxy(this._scroll, this));\n    scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n    scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n    scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n    scroller.userEvents.bind('doubleTap', proxy(this._doubleTap, this));\n    scroller.userEvents.bind('tap', proxy(this._tap, this));\n    this.scrollElement = scroller.scrollElement;\n  };\n  Map.prototype._initLayers = function _initLayers() {\n    var this$1 = this;\n    var defs = this.options.layers,\n      layers = this.layers = [];\n    for (var i = 0; i < defs.length; i++) {\n      var options = defs[i];\n      var layer = this$1._createLayer(options);\n      layers.push(layer);\n    }\n  };\n  Map.prototype._createLayer = function _createLayer(options) {\n    var type = options.type || 'shape';\n    var layerDefaults = this.options.layerDefaults[type];\n    var layerOptions = type === MARKER ? deepExtend({}, this.options.markerDefaults, options) : deepExtend({}, layerDefaults, options);\n    var layerConstructor = layersMap[type];\n    var layer = new layerConstructor(this, layerOptions);\n    if (type === MARKER) {\n      this.markers = layer;\n    }\n    return layer;\n  };\n  Map.prototype._createTooltip = function _createTooltip() {\n    return new Tooltip(this.widgetService, this.options.tooltip);\n  };\n\n  /* eslint-disable arrow-body-style */\n  Map.prototype._initMarkers = function _initMarkers() {\n    var markerLayers = (this.options.layers || []).filter(function (x) {\n      return x && x.type === MARKER;\n    });\n    if (markerLayers.length > 0) {\n      // render the markers from options.layers\n      // instead of options.markers\n      return;\n    }\n    this.markers = new MarkerLayer(this, this.options.markerDefaults);\n    this.markers.add(this.options.markers);\n  };\n  /* eslint-enable arrow-body-style */\n\n  Map.prototype._scroll = function _scroll(e) {\n    var origin = this.locationToLayer(this._viewOrigin).round();\n    var movable = e.sender.movable;\n    var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n    origin.x += offset.x;\n    origin.y += offset.y;\n    this._scrollOffset = offset;\n    this._tooltip.offset = offset;\n    this.hideTooltip();\n    this._setOrigin(this.layerToLocation(origin));\n    this.trigger('pan', {\n      originalEvent: e,\n      origin: this._getOrigin(),\n      center: this.center()\n    });\n  };\n  Map.prototype._scrollEnd = function _scrollEnd(e) {\n    if (!this._scrollOffset || !this._panComplete()) {\n      return;\n    }\n    this._scrollOffset = null;\n    this._panEndTimestamp = now();\n    this.trigger('panEnd', {\n      originalEvent: e,\n      origin: this._getOrigin(),\n      center: this.center()\n    });\n  };\n  Map.prototype._panComplete = function _panComplete() {\n    return now() - (this._panEndTimestamp || 0) > 50;\n  };\n  Map.prototype._scaleStart = function _scaleStart(e) {\n    if (this.trigger('zoomStart', {\n      originalEvent: e\n    })) {\n      var touch = e.touches[1];\n      if (touch) {\n        touch.cancel();\n      }\n    }\n  };\n  Map.prototype._scale = function _scale(e) {\n    var scale = this.scroller.movable.scale;\n    var zoom = this._scaleToZoom(scale);\n    var gestureCenter = new g.Point(e.center.x, e.center.y);\n    var centerLocation = this.viewToLocation(gestureCenter, zoom);\n    var centerPoint = this.locationToLayer(centerLocation, zoom);\n    var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n    this._zoomAround(originPoint, zoom);\n    this.trigger('zoomEnd', {\n      originalEvent: e\n    });\n  };\n  Map.prototype._scaleToZoom = function _scaleToZoom(scaleDelta) {\n    var scale = this._layerSize() * scaleDelta;\n    var tiles = scale / this.options.minSize;\n    var zoom = math.log(tiles) / math.log(2);\n    return math.round(zoom);\n  };\n  Map.prototype._reset = function _reset() {\n    if (this.attribution) {\n      this.attribution.filter(this.center(), this.zoom());\n    }\n    this._viewOrigin = this._getOrigin(true);\n    this._resetScroller();\n    this.hideTooltip();\n    this.trigger('beforeReset');\n    this.trigger('reset');\n  };\n  Map.prototype._resetScroller = function _resetScroller() {\n    var scroller = this.scroller;\n    var x = scroller.dimensions.x;\n    var y = scroller.dimensions.y;\n    var scale = this._layerSize();\n    var nw = this.extent().nw;\n    var topLeft = this.locationToLayer(nw).round();\n    scroller.movable.round = true;\n    scroller.reset();\n    scroller.userEvents.cancel();\n    var zoom = this.zoom();\n    scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n    scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n    var xBounds = {\n      min: -topLeft.x,\n      max: scale - topLeft.x\n    };\n    var yBounds = {\n      min: -topLeft.y,\n      max: scale - topLeft.y\n    };\n    if (this.options.wraparound) {\n      xBounds.max = 20 * scale;\n      xBounds.min = -xBounds.max;\n    }\n    if (this.options.pannable === false) {\n      var viewSize = this.viewSize();\n      xBounds.min = yBounds.min = 0;\n      xBounds.max = viewSize.width;\n      yBounds.max = viewSize.height;\n    }\n    x.makeVirtual();\n    y.makeVirtual();\n    x.virtualSize(xBounds.min, xBounds.max);\n    y.virtualSize(yBounds.min, yBounds.max);\n    this._virtualSize = {\n      x: xBounds,\n      y: yBounds\n    };\n  };\n\n  // kept for API compatibility, not used\n  Map.prototype._renderLayers = function _renderLayers() {};\n  Map.prototype._layerSize = function _layerSize(zoom) {\n    var newZoom = valueOrDefault(zoom, this.options.zoom);\n    return this.options.minSize * pow(2, newZoom);\n  };\n  Map.prototype._tap = function _tap(e) {\n    if (!this._panComplete()) {\n      return;\n    }\n    var cursor = this.eventOffset(e);\n    this.hideTooltip();\n    this.trigger('click', {\n      originalEvent: e,\n      location: this.viewToLocation(cursor)\n    });\n  };\n  Map.prototype._doubleTap = function _doubleTap(e) {\n    var options = this.options;\n    if (options.zoomable !== false) {\n      if (!this.trigger('zoomStart', {\n        originalEvent: e\n      })) {\n        var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;\n        var cursor = this.eventOffset(e);\n        var location = this.viewToLocation(cursor);\n        var postZoom = this.locationToLayer(location, toZoom);\n        var origin = postZoom.translate(-cursor.x, -cursor.y);\n        this._zoomAround(origin, toZoom);\n        this.trigger('zoomEnd', {\n          originalEvent: e\n        });\n      }\n    }\n  };\n  Map.prototype._mousewheel = function _mousewheel(e) {\n    e.preventDefault();\n    var delta = mousewheelDelta(e) > 0 ? -1 : 1;\n    var options = this.options;\n    var fromZoom = this.zoom();\n    var toZoom = limitValue(fromZoom + delta, options.minZoom, options.maxZoom);\n    if (options.zoomable !== false && toZoom !== fromZoom) {\n      if (!this.trigger('zoomStart', {\n        originalEvent: e\n      })) {\n        var cursor = this.eventOffset(e);\n        var location = this.viewToLocation(cursor);\n        var postZoom = this.locationToLayer(location, toZoom);\n        var origin = postZoom.translate(-cursor.x, -cursor.y);\n        this._zoomAround(origin, toZoom);\n        this.trigger('zoomEnd', {\n          originalEvent: e\n        });\n      }\n    }\n  };\n  Map.prototype._toDocumentCoordinates = function _toDocumentCoordinates(point) {\n    var offset = elementOffset(this.element);\n    return {\n      left: round(point.x + offset.left),\n      top: round(point.y + offset.top)\n    };\n  };\n  return Map;\n}(Observable);\nsetDefaultOptions(Map, {\n  name: 'Map',\n  controls: {\n    attribution: true,\n    navigator: {\n      panStep: 100\n    },\n    zoom: true\n  },\n  layers: [],\n  layerDefaults: {\n    shape: {\n      style: {\n        fill: {\n          color: '#fff'\n        },\n        stroke: {\n          color: '#aaa',\n          width: 0.5\n        }\n      }\n    },\n    bubble: {\n      style: {\n        fill: {\n          color: '#fff',\n          opacity: 0.5\n        },\n        stroke: {\n          color: '#aaa',\n          width: 0.5\n        }\n      }\n    },\n    marker: {\n      shape: 'pinTarget',\n      tooltip: {\n        position: 'top'\n      }\n    }\n  },\n  center: [0, 0],\n  zoom: 3,\n  minSize: 256,\n  minZoom: 1,\n  maxZoom: 19,\n  markers: [],\n  markerDefaults: {\n    shape: 'pinTarget',\n    tooltip: {\n      position: 'top'\n    }\n  },\n  wraparound: true,\n  // If set to true, GeoJSON layer \"Point\" features will be rendered as markers.\n  // Otherwise, the points will be rendered as circles.\n  // Defaults to `true` for KUI/jQuery, `false` everywhere else.\n  renderPointsAsMarkers: false\n});\nsetDefaultEvents(Map, ['beforeReset', 'click', 'markerActivate', 'markerClick', 'markerCreated',\n// Events for implementing custom tooltips.\n'markerMouseEnter', 'markerMouseLeave', 'pan', 'panEnd', 'reset', 'shapeClick', 'shapeCreated', 'shapeFeatureCreated', 'shapeMouseEnter', 'shapeMouseLeave', 'zoomEnd', 'zoomStart']);\nexport default Map;","map":{"version":3,"names":["geometry","g","addClass","setDefaultOptions","valueOrDefault","defined","mousewheelDelta","limitValue","deepExtend","elementOffset","isArray","round","EPSG3857","Attribution","Navigator","ZoomControl","Location","Extent","Tooltip","TileLayer","BubbleLayer","ShapeLayer","MarkerLayer","removeChildren","setDefaultEvents","toHyphens","proxy","now","on","off","getSupportedFeatures","convertToHtml","Scroller","Observable","MapService","CENTER_CHANGE","INIT","ZOOM_CHANGE","math","Math","min","pow","Point","MARKER","LOCATION","FRICTION","FRICTION_MOBILE","MOUSEWHEEL","VELOCITY_MULTIPLIER","DEFAULT_ZOOM_RATE","layersMap","bubble","shape","tile","renderPos","pos","result","parts","split","i","length","push","join","Map","element","options","themeOptions","context","call","_init","__proto__","prototype","Object","create","constructor","destroy","this$1","scroller","_tooltip","navigator","attribution","zoomControl","markers","forEach","markerLayer","layers","_mousewheelHandler","support","initObserver","initServices","_notifyObserver","_initOptions","_setEvents","crs","_initElement","_viewOrigin","_getOrigin","_createTooltip","_initScroller","_initMarkers","_initControls","_initLayers","_reset","_mousewheel","bind","style","position","setAttribute","div","appendChild","widgetService","observers","addObserver","observer","removeObserver","index","indexOf","splice","requiresHandlers","eventNames","idx","trigger","name","args","sender","isDefaultPrevented","zoom","level","zoomLevel","minZoom","maxZoom","notify","center","center$1","current","previous","equals","toArray","extent","extent$1","_setExtent","_getExtent","setOptions","locationToLayer","location","clamp","wraparound","locationObject","toPoint","_layerSize","layerToLocation","point","pointObject","toLocation","locationToView","origin","translateWith","scale","viewToLocation","pointResult","clone","eventOffset","e","x","y","offset","left","top","event","originalEvent","pageX","clientX","pageY","clientY","eventToView","cursor","eventToLayer","eventToLocation","viewSize","width","clientWidth","height","clientHeight","exportVisual","hideTooltip","hide","_setOrigin","size","topLeft","originLocation","_origin","invalidate","newExtent","raw","se","lng","nw","bottomRight","layerWidth","abs","layerHeight","_zoomAround","pivot","controls","_createAttribution","mobileOS","_createNavigator","_createZoomControl","_createControlElement","defaultPosition","posSelector","replace","wrap","querySelector","div$1","document","createElement","_navigatorPan","_navigatorCenter","scrollLeft","scrollTop","bounds","_virtualSize","max","one","_scrollEnd","scrollTo","_zoomControlChange","delta","friction","zoomable","children","velocityMultiplier","mousewheelScrolling","supportDoubleTap","_scroll","userEvents","_scaleStart","_scale","_doubleTap","_tap","scrollElement","defs","layer","_createLayer","type","layerDefaults","layerOptions","markerDefaults","layerConstructor","tooltip","markerLayers","filter","add","movable","_scrollOffset","_panComplete","_panEndTimestamp","touch","touches","cancel","_scaleToZoom","gestureCenter","centerLocation","centerPoint","originPoint","translate","scaleDelta","tiles","minSize","log","_resetScroller","dimensions","reset","forcedMinScale","maxScale","xBounds","yBounds","pannable","makeVirtual","virtualSize","_renderLayers","newZoom","toZoom","postZoom","preventDefault","fromZoom","_toDocumentCoordinates","panStep","fill","color","stroke","opacity","marker","renderPointsAsMarkers"],"sources":["C:/Users/Павел/Desktop/react humster/my-app/node_modules/@progress/kendo-charts/dist/es/map/map.js"],"sourcesContent":["import {\n    geometry as g\n} from '@progress/kendo-drawing';\n\nimport {\n    addClass,\n    setDefaultOptions,\n    valueOrDefault,\n    defined,\n    mousewheelDelta,\n    limitValue,\n    deepExtend,\n    elementOffset,\n    isArray,\n    round\n} from '../common';\n\nimport {\n    EPSG3857\n} from './crs';\n\nimport {\n    Attribution\n} from './attribution';\n\nimport {\n    Navigator\n} from './navigator';\n\nimport {\n    ZoomControl\n} from './zoom';\n\nimport {\n    Location\n} from './location';\n\nimport {\n    Extent\n} from './extent';\n\nimport { Tooltip } from './tooltip/tooltip';\n\nimport {\n    TileLayer\n} from './layers/tile';\n\nimport {\n    BubbleLayer\n} from './layers/bubble';\n\nimport {\n    ShapeLayer\n} from './layers/shape';\n\nimport {\n    MarkerLayer\n} from './layers/marker';\n\nimport {\n    removeChildren,\n    setDefaultEvents,\n    toHyphens,\n    proxy,\n    now,\n    on,\n    off,\n    getSupportedFeatures,\n    convertToHtml\n} from './utils';\n\nimport {\n    Scroller\n} from './scroller/scroller';\n\nimport {\n    Observable\n} from './scroller/observable';\n\nimport MapService from './../services/map-service';\n\nimport { CENTER_CHANGE, INIT, ZOOM_CHANGE } from './constants';\n\nvar math = Math,\n    min = math.min,\n    pow = math.pow,\n    Point = g.Point,\n    MARKER = \"marker\",\n    LOCATION = \"location\",\n    FRICTION = 0.9,\n    FRICTION_MOBILE = 0.93,\n    MOUSEWHEEL = 'DOMMouseScroll mousewheel',\n    VELOCITY_MULTIPLIER = 5,\n    DEFAULT_ZOOM_RATE = 1;\n\nvar layersMap = {\n    bubble: BubbleLayer,\n    shape: ShapeLayer,\n    tile: TileLayer\n};\nlayersMap[MARKER] = MarkerLayer;\n\nfunction renderPos(pos) {\n    var result = [];\n\n    if (pos) {\n        var parts = toHyphens(pos).split(\"-\");\n\n        for (var i = 0; i < parts.length; i++) {\n            result.push(\"k-pos-\" + parts[i]);\n        }\n    }\n\n    return result.join(\" \");\n}\n\nvar Map = (function (Observable) {\n    function Map(element, options, themeOptions, context) {\n        if ( options === void 0 ) options = {};\n        if ( themeOptions === void 0 ) themeOptions = {};\n        if ( context === void 0 ) context = {};\n\n        Observable.call(this);\n\n        this._init(element, options, themeOptions, context);\n    }\n\n    if ( Observable ) Map.__proto__ = Observable;\n    Map.prototype = Object.create( Observable && Observable.prototype );\n    Map.prototype.constructor = Map;\n\n    Map.prototype.destroy = function destroy () {\n        var this$1 = this;\n\n        this.scroller.destroy();\n\n        if (this._tooltip) {\n            this._tooltip.destroy();\n        }\n\n        if (this.navigator) {\n            this.navigator.destroy();\n        }\n        if (this.attribution) {\n            this.attribution.destroy();\n        }\n        if (this.zoomControl) {\n            this.zoomControl.destroy();\n        }\n\n        if (isArray(this.markers)) {\n            this.markers.forEach(function (markerLayer) {\n                markerLayer.destroy();\n            });\n        } else {\n            this.markers.destroy();\n        }\n\n        for (var i = 0; i < this.layers.length; i++) {\n            this$1.layers[i].destroy();\n        }\n\n        off(this.element, MOUSEWHEEL, this._mousewheelHandler);\n\n        Observable.prototype.destroy.call(this);\n    };\n\n    Map.prototype._init = function _init (element, options, themeOptions, context) {\n        if ( options === void 0 ) options = {};\n        if ( themeOptions === void 0 ) themeOptions = {};\n        if ( context === void 0 ) context = {};\n\n        this.support = getSupportedFeatures();\n        this.context = context;\n\n        this.initObserver(context);\n        this.initServices(context);\n        this._notifyObserver(INIT);\n\n        this._initOptions(options);\n        this._setEvents(options);\n        this.crs = new EPSG3857();\n\n        this._initElement(element);\n\n        this._viewOrigin = this._getOrigin();\n\n        this._tooltip = this._createTooltip();\n        this._initScroller();\n        this._initMarkers();\n        this._initControls();\n        this._initLayers();\n        this._reset();\n\n        this._mousewheelHandler = this._mousewheel.bind(this);\n        on(this.element, MOUSEWHEEL, this._mousewheelHandler);\n    };\n\n    Map.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Map.prototype._initElement = function _initElement (element) {\n        this.element = element;\n\n        addClass(element, \"k-map\");\n        element.style.position = \"relative\";\n        element.setAttribute(\"data-role\", \"map\");\n        removeChildren(element);\n\n        var div = convertToHtml(\"<div />\");\n        this.element.appendChild(div);\n    };\n\n    Map.prototype.initServices = function initServices (context) {\n        if ( context === void 0 ) context = {};\n\n        this.widgetService = new MapService(this, context);\n    };\n\n    Map.prototype.initObserver = function initObserver (context) {\n        if ( context === void 0 ) context = {};\n\n        this.observers = [];\n        this.addObserver(context.observer);\n    };\n\n    Map.prototype.addObserver = function addObserver (observer) {\n        if (observer) {\n            this.observers.push(observer);\n        }\n    };\n\n    Map.prototype.removeObserver = function removeObserver (observer) {\n        var index = this.observers.indexOf(observer);\n\n        if (index >= 0) {\n            this.observers.splice(index, 1);\n        }\n    };\n\n    Map.prototype.requiresHandlers = function requiresHandlers (eventNames) {\n        var observers = this.observers;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].requiresHandlers(eventNames)) {\n                return true;\n            }\n        }\n    };\n\n    Map.prototype.trigger = function trigger (name, args) {\n        if ( args === void 0 ) args = {};\n\n        args.sender = this;\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        if (!isDefaultPrevented) {\n            Observable.prototype.trigger.call(this, name, args);\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Map.prototype._notifyObserver = function _notifyObserver (name, args) {\n        if ( args === void 0 ) args = {};\n\n        args.sender = this;\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Map.prototype.zoom = function zoom (level) {\n        var options = this.options;\n        var result;\n\n        if (defined(level)) {\n            var zoomLevel = math.round(limitValue(level, options.minZoom, options.maxZoom));\n\n            if (options.zoom !== zoomLevel) {\n                options.zoom = zoomLevel;\n                this.widgetService.notify(ZOOM_CHANGE, { zoom: options.zoom });\n\n                this._reset();\n            }\n            result = this;\n        } else {\n            result = options.zoom;\n        }\n\n        return result;\n    };\n\n    Map.prototype.center = function center (center$1) {\n        var result;\n\n        if (center$1) {\n            var current = Location.create(center$1);\n            var previous = Location.create(this.options.center);\n            if (!current.equals(previous)) {\n                this.options.center = current.toArray();\n                this.widgetService.notify(CENTER_CHANGE, { center: this.options.center });\n                this._reset();\n            }\n\n            result = this;\n        } else {\n            result = Location.create(this.options.center);\n        }\n\n        return result;\n    };\n\n    Map.prototype.extent = function extent (extent$1) {\n        var result;\n\n        if (extent$1) {\n            this._setExtent(extent$1);\n            result = this;\n        } else {\n            result = this._getExtent();\n        }\n\n        return result;\n    };\n\n    Map.prototype.setOptions = function setOptions (options) {\n        if ( options === void 0 ) options = {};\n\n        var element = this.element;\n\n        this.destroy();\n        removeChildren(element);\n        this._init(element, options, {}, this.context);\n\n        this._reset();\n    };\n\n    Map.prototype.locationToLayer = function locationToLayer (location, zoom) {\n        var clamp = !this.options.wraparound;\n        var locationObject = Location.create(location);\n\n        return this.crs.toPoint(locationObject, this._layerSize(zoom), clamp);\n    };\n\n    Map.prototype.layerToLocation = function layerToLocation (point, zoom) {\n        var clamp = !this.options.wraparound;\n        var pointObject = Point.create(point);\n\n        return this.crs.toLocation(pointObject, this._layerSize(zoom), clamp);\n    };\n\n    Map.prototype.locationToView = function locationToView (location) {\n        var locationObject = Location.create(location);\n        var origin = this.locationToLayer(this._viewOrigin);\n        var point = this.locationToLayer(locationObject);\n\n        return point.translateWith(origin.scale(-1));\n    };\n\n    Map.prototype.viewToLocation = function viewToLocation (point, zoom) {\n        var origin = this.locationToLayer(this._getOrigin(), zoom);\n        var pointObject = Point.create(point);\n        var pointResult = pointObject.clone().translateWith(origin);\n\n        return this.layerToLocation(pointResult, zoom);\n    };\n\n    Map.prototype.eventOffset = function eventOffset (e) {\n        var x;\n        var y;\n        var offset = elementOffset(this.element);\n\n        if ((e.x && e.x[LOCATION]) || (e.y && e.y[LOCATION])) {\n            x = e.x[LOCATION] - offset.left;\n            y = e.y[LOCATION] - offset.top;\n        } else {\n            var event = e.originalEvent || e;\n            x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n            y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n        }\n\n        var point = new g.Point(x, y);\n\n        return point;\n    };\n\n    Map.prototype.eventToView = function eventToView (e) {\n        var cursor = this.eventOffset(e);\n        return this.locationToView(this.viewToLocation(cursor));\n    };\n\n    Map.prototype.eventToLayer = function eventToLayer (e) {\n        return this.locationToLayer(this.eventToLocation(e));\n    };\n\n    Map.prototype.eventToLocation = function eventToLocation (e) {\n        var cursor = this.eventOffset(e);\n        return this.viewToLocation(cursor);\n    };\n\n    Map.prototype.viewSize = function viewSize () {\n        var element = this.element;\n        var scale = this._layerSize();\n        var width = element.clientWidth;\n\n        if (!this.options.wraparound) {\n            width = min(scale, width);\n        }\n\n        return {\n            width: width,\n            height: min(scale, element.clientHeight)\n        };\n    };\n\n    Map.prototype.exportVisual = function exportVisual () {\n        this._reset();\n        return false;\n    };\n\n    Map.prototype.hideTooltip = function hideTooltip () {\n        if (this._tooltip) {\n            this._tooltip.hide();\n        }\n    };\n\n    Map.prototype._setOrigin = function _setOrigin (origin, zoom) {\n        var size = this.viewSize(),\n            topLeft;\n\n        var originLocation = this._origin = Location.create(origin);\n        topLeft = this.locationToLayer(originLocation, zoom);\n        topLeft.x += size.width / 2;\n        topLeft.y += size.height / 2;\n        this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n        this.widgetService.notify(CENTER_CHANGE, { center: this.options.center });\n\n        return this;\n    };\n\n    Map.prototype._getOrigin = function _getOrigin (invalidate) {\n        var size = this.viewSize(),\n            topLeft;\n\n        if (invalidate || !this._origin) {\n            topLeft = this.locationToLayer(this.center());\n            topLeft.x -= size.width / 2;\n            topLeft.y -= size.height / 2;\n            this._origin = this.layerToLocation(topLeft);\n        }\n\n        return this._origin;\n    };\n\n    Map.prototype._setExtent = function _setExtent (newExtent) {\n        var this$1 = this;\n\n        var raw = Extent.create(newExtent);\n        var se = raw.se.clone();\n\n        if (this.options.wraparound && se.lng < 0 && newExtent.nw.lng > 0) {\n            se.lng = 180 + (180 + se.lng);\n        }\n\n        var extent = new Extent(raw.nw, se);\n        this.center(extent.center());\n        var width = this.element.clientWidth;\n        var height = this.element.clientHeight;\n        var zoom;\n\n        for (zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n            var topLeft = this$1.locationToLayer(extent.nw, zoom);\n            var bottomRight = this$1.locationToLayer(extent.se, zoom);\n            var layerWidth = math.abs(bottomRight.x - topLeft.x);\n            var layerHeight = math.abs(bottomRight.y - topLeft.y);\n\n            if (layerWidth <= width && layerHeight <= height) {\n                break;\n            }\n        }\n\n        this.zoom(zoom);\n    };\n\n    Map.prototype._getExtent = function _getExtent () {\n        var nw = this._getOrigin();\n        var bottomRight = this.locationToLayer(nw);\n        var size = this.viewSize();\n\n        bottomRight.x += size.width;\n        bottomRight.y += size.height;\n\n        var se = this.layerToLocation(bottomRight);\n\n        return new Extent(nw, se);\n    };\n\n    Map.prototype._zoomAround = function _zoomAround (pivot, level) {\n        this._setOrigin(this.layerToLocation(pivot, level), level);\n        this.zoom(level);\n    };\n\n    Map.prototype._initControls = function _initControls () {\n        var controls = this.options.controls;\n        if (controls.attribution) {\n            this._createAttribution(controls.attribution);\n        }\n\n        if (!this.support.mobileOS) {\n            if (controls.navigator) {\n                this._createNavigator(controls.navigator);\n            }\n\n            if (controls.zoom) {\n                this._createZoomControl(controls.zoom);\n            }\n        }\n    };\n\n    Map.prototype._createControlElement = function _createControlElement (options, defaultPosition) {\n        var pos = options.position || defaultPosition;\n        var posSelector = '.' + renderPos(pos).replace(' ', '.');\n        var wrap = this.element.querySelector('.k-map-controls' + posSelector) || [];\n\n        if (wrap.length === 0) {\n            var div$1 = document.createElement(\"div\");\n            addClass(div$1, 'k-map-controls ' + renderPos(pos));\n            wrap = div$1;\n            this.element.appendChild(wrap);\n        }\n\n        var div = document.createElement(\"div\");\n\n        wrap.appendChild(div);\n\n        return div;\n    };\n\n    Map.prototype._createAttribution = function _createAttribution (options) {\n        var element = this._createControlElement(options, 'bottomRight');\n        this.attribution = new Attribution(element, options);\n    };\n\n    Map.prototype._createNavigator = function _createNavigator (options) {\n        var element = this._createControlElement(options, 'topLeft');\n        var navigator = this.navigator = new Navigator(element, options);\n\n        this._navigatorPan = this._navigatorPan.bind(this);\n        navigator.bind('pan', this._navigatorPan);\n\n        this._navigatorCenter = this._navigatorCenter.bind(this);\n        navigator.bind('center', this._navigatorCenter);\n    };\n\n    Map.prototype._navigatorPan = function _navigatorPan (e) {\n        var scroller = this.scroller;\n        var x = scroller.scrollLeft + e.x;\n        var y = scroller.scrollTop - e.y;\n        var bounds = this._virtualSize;\n        var width = this.element.clientWidth;\n        var height = this.element.clientHeight;\n\n        // TODO: Move limits to scroller\n        x = limitValue(x, bounds.x.min, bounds.x.max - width);\n        y = limitValue(y, bounds.y.min, bounds.y.max - height);\n\n        this.scroller.one('scroll', proxy(this._scrollEnd, this));\n\n        this.scroller.scrollTo(-x, -y);\n    };\n\n    Map.prototype._navigatorCenter = function _navigatorCenter () {\n        this.center(this.options.center);\n    };\n\n    Map.prototype._createZoomControl = function _createZoomControl (options) {\n        var element = this._createControlElement(options, 'topLeft');\n        var zoomControl = this.zoomControl = new ZoomControl(element, options);\n\n        this._zoomControlChange = this._zoomControlChange.bind(this);\n        zoomControl.bind('change', this._zoomControlChange);\n    };\n\n    Map.prototype._zoomControlChange = function _zoomControlChange (e) {\n        if (!this.trigger('zoomStart', { originalEvent: e })) {\n            this.zoom(this.zoom() + e.delta);\n\n            this.trigger('zoomEnd', {\n                originalEvent: e\n            });\n        }\n    };\n\n    Map.prototype._initScroller = function _initScroller () {\n        var friction = this.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n        var zoomable = this.options.zoomable !== false;\n        var scroller = this.scroller = new Scroller(this.element.children[0], {\n            friction: friction,\n            velocityMultiplier: VELOCITY_MULTIPLIER,\n            zoom: zoomable,\n            mousewheelScrolling: false,\n            supportDoubleTap: true\n        });\n\n        scroller.bind('scroll', proxy(this._scroll, this));\n        scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n\n        scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n        scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n        scroller.userEvents.bind('doubleTap', proxy(this._doubleTap, this));\n        scroller.userEvents.bind('tap', proxy(this._tap, this));\n\n        this.scrollElement = scroller.scrollElement;\n    };\n\n    Map.prototype._initLayers = function _initLayers () {\n        var this$1 = this;\n\n        var defs = this.options.layers,\n            layers = this.layers = [];\n\n        for (var i = 0; i < defs.length; i++) {\n            var options = defs[i];\n\n            var layer = this$1._createLayer(options);\n            layers.push(layer);\n        }\n    };\n\n    Map.prototype._createLayer = function _createLayer (options) {\n        var type = options.type || 'shape';\n        var layerDefaults = this.options.layerDefaults[type];\n        var layerOptions = type === MARKER ?\n            deepExtend({}, this.options.markerDefaults, options) :\n            deepExtend({}, layerDefaults, options);\n\n        var layerConstructor = layersMap[type];\n        var layer = new layerConstructor(this, layerOptions);\n\n        if (type === MARKER) {\n            this.markers = layer;\n        }\n\n        return layer;\n    };\n\n    Map.prototype._createTooltip = function _createTooltip () {\n        return new Tooltip(this.widgetService, this.options.tooltip);\n    };\n\n    /* eslint-disable arrow-body-style */\n    Map.prototype._initMarkers = function _initMarkers () {\n        var markerLayers = (this.options.layers || []).filter(function (x) {\n            return x && x.type === MARKER;\n        });\n\n        if (markerLayers.length > 0) {\n            // render the markers from options.layers\n            // instead of options.markers\n            return;\n        }\n\n        this.markers = new MarkerLayer(this, this.options.markerDefaults);\n        this.markers.add(this.options.markers);\n    };\n    /* eslint-enable arrow-body-style */\n\n    Map.prototype._scroll = function _scroll (e) {\n        var origin = this.locationToLayer(this._viewOrigin).round();\n        var movable = e.sender.movable;\n        var offset = new g.Point(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n\n        origin.x += offset.x;\n        origin.y += offset.y;\n        this._scrollOffset = offset;\n\n        this._tooltip.offset = offset;\n        this.hideTooltip();\n\n        this._setOrigin(this.layerToLocation(origin));\n\n        this.trigger('pan', {\n            originalEvent: e,\n            origin: this._getOrigin(),\n            center: this.center()\n        });\n    };\n\n    Map.prototype._scrollEnd = function _scrollEnd (e) {\n        if (!this._scrollOffset || !this._panComplete()) {\n            return;\n        }\n\n        this._scrollOffset = null;\n        this._panEndTimestamp = now();\n\n        this.trigger('panEnd', {\n            originalEvent: e,\n            origin: this._getOrigin(),\n            center: this.center()\n        });\n    };\n\n    Map.prototype._panComplete = function _panComplete () {\n        return now() - (this._panEndTimestamp || 0) > 50;\n    };\n\n    Map.prototype._scaleStart = function _scaleStart (e) {\n        if (this.trigger('zoomStart', { originalEvent: e })) {\n            var touch = e.touches[1];\n\n            if (touch) {\n                touch.cancel();\n            }\n        }\n    };\n\n    Map.prototype._scale = function _scale (e) {\n        var scale = this.scroller.movable.scale;\n        var zoom = this._scaleToZoom(scale);\n        var gestureCenter = new g.Point(e.center.x, e.center.y);\n        var centerLocation = this.viewToLocation(gestureCenter, zoom);\n        var centerPoint = this.locationToLayer(centerLocation, zoom);\n        var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n\n        this._zoomAround(originPoint, zoom);\n\n        this.trigger('zoomEnd', {\n            originalEvent: e\n        });\n    };\n\n    Map.prototype._scaleToZoom = function _scaleToZoom (scaleDelta) {\n        var scale = this._layerSize() * scaleDelta;\n        var tiles = scale / this.options.minSize;\n        var zoom = math.log(tiles) / math.log(2);\n\n        return math.round(zoom);\n    };\n\n    Map.prototype._reset = function _reset () {\n        if (this.attribution) {\n            this.attribution.filter(this.center(), this.zoom());\n        }\n\n        this._viewOrigin = this._getOrigin(true);\n\n        this._resetScroller();\n        this.hideTooltip();\n\n        this.trigger('beforeReset');\n        this.trigger('reset');\n    };\n\n    Map.prototype._resetScroller = function _resetScroller () {\n        var scroller = this.scroller;\n        var x = scroller.dimensions.x;\n        var y = scroller.dimensions.y;\n        var scale = this._layerSize();\n        var nw = this.extent().nw;\n        var topLeft = this.locationToLayer(nw).round();\n\n        scroller.movable.round = true;\n        scroller.reset();\n        scroller.userEvents.cancel();\n\n        var zoom = this.zoom();\n\n        scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n        scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n\n        var xBounds = {\n            min: -topLeft.x,\n            max: scale - topLeft.x\n        };\n\n        var yBounds = {\n            min: -topLeft.y,\n            max: scale - topLeft.y\n        };\n\n        if (this.options.wraparound) {\n            xBounds.max = 20 * scale;\n            xBounds.min = -xBounds.max;\n        }\n\n        if (this.options.pannable === false) {\n            var viewSize = this.viewSize();\n            xBounds.min = yBounds.min = 0;\n            xBounds.max = viewSize.width;\n            yBounds.max = viewSize.height;\n        }\n\n        x.makeVirtual();\n        y.makeVirtual();\n\n        x.virtualSize(xBounds.min, xBounds.max);\n        y.virtualSize(yBounds.min, yBounds.max);\n\n        this._virtualSize = {\n            x: xBounds,\n            y: yBounds\n        };\n    };\n\n    // kept for API compatibility, not used\n    Map.prototype._renderLayers = function _renderLayers () {\n    };\n\n    Map.prototype._layerSize = function _layerSize (zoom) {\n        var newZoom = valueOrDefault(zoom, this.options.zoom);\n        return this.options.minSize * pow(2, newZoom);\n    };\n\n    Map.prototype._tap = function _tap (e) {\n        if (!this._panComplete()) {\n            return;\n        }\n\n        var cursor = this.eventOffset(e);\n        this.hideTooltip();\n\n        this.trigger('click', {\n            originalEvent: e,\n            location: this.viewToLocation(cursor)\n        });\n    };\n\n    Map.prototype._doubleTap = function _doubleTap (e) {\n        var options = this.options;\n\n        if (options.zoomable !== false) {\n            if (!this.trigger('zoomStart', { originalEvent: e })) {\n                var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;\n                var cursor = this.eventOffset(e);\n                var location = this.viewToLocation(cursor);\n                var postZoom = this.locationToLayer(location, toZoom);\n                var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n                this._zoomAround(origin, toZoom);\n\n                this.trigger('zoomEnd', {\n                    originalEvent: e\n                });\n            }\n        }\n    };\n\n    Map.prototype._mousewheel = function _mousewheel (e) {\n        e.preventDefault();\n        var delta = mousewheelDelta(e) > 0 ? -1 : 1;\n        var options = this.options;\n        var fromZoom = this.zoom();\n        var toZoom = limitValue(fromZoom + delta, options.minZoom, options.maxZoom);\n\n        if (options.zoomable !== false && toZoom !== fromZoom) {\n            if (!this.trigger('zoomStart', { originalEvent: e })) {\n                var cursor = this.eventOffset(e);\n                var location = this.viewToLocation(cursor);\n                var postZoom = this.locationToLayer(location, toZoom);\n                var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n                this._zoomAround(origin, toZoom);\n\n                this.trigger('zoomEnd', {\n                    originalEvent: e\n                });\n            }\n        }\n    };\n\n    Map.prototype._toDocumentCoordinates = function _toDocumentCoordinates (point) {\n        var offset = elementOffset(this.element);\n\n        return {\n            left: round(point.x + offset.left),\n            top: round(point.y + offset.top)\n        };\n    };\n\n    return Map;\n}(Observable));\n\nsetDefaultOptions(Map, {\n    name: 'Map',\n    controls: {\n        attribution: true,\n        navigator: {\n            panStep: 100\n        },\n        zoom: true\n    },\n    layers: [],\n    layerDefaults: {\n        shape: {\n            style: {\n                fill: {\n                    color: '#fff'\n                },\n                stroke: {\n                    color: '#aaa',\n                    width: 0.5\n                }\n            }\n        },\n        bubble: {\n            style: {\n                fill: {\n                    color: '#fff',\n                    opacity: 0.5\n                },\n                stroke: {\n                    color: '#aaa',\n                    width: 0.5\n                }\n            }\n        },\n        marker: {\n            shape: 'pinTarget',\n            tooltip: {\n                position: 'top'\n            }\n        }\n    },\n    center: [\n        0,\n        0\n    ],\n    zoom: 3,\n    minSize: 256,\n    minZoom: 1,\n    maxZoom: 19,\n    markers: [],\n    markerDefaults: {\n        shape: 'pinTarget',\n        tooltip: {\n            position: 'top'\n        }\n    },\n    wraparound: true,\n    // If set to true, GeoJSON layer \"Point\" features will be rendered as markers.\n    // Otherwise, the points will be rendered as circles.\n    // Defaults to `true` for KUI/jQuery, `false` everywhere else.\n    renderPointsAsMarkers: false\n});\n\nsetDefaultEvents(Map, [\n    'beforeReset',\n    'click',\n    'markerActivate',\n    'markerClick',\n    'markerCreated',\n\n    // Events for implementing custom tooltips.\n    'markerMouseEnter',\n    'markerMouseLeave',\n\n    'pan',\n    'panEnd',\n    'reset',\n    'shapeClick',\n    'shapeCreated',\n    'shapeFeatureCreated',\n    'shapeMouseEnter',\n    'shapeMouseLeave',\n    'zoomEnd',\n    'zoomStart'\n]);\n\nexport default Map;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}