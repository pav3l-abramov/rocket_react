{"ast":null,"code":"import { DomEventsBuilder } from '../services';\nimport { DateCategoryAxis, Point } from '../core';\nimport { MOUSEWHEEL_DELAY, MOUSEWHEEL, SELECT_START, SELECT, SELECT_END } from './constants';\nimport { LEFT, RIGHT, MIN_VALUE, MAX_VALUE, X } from '../common/constants';\nimport { addClass, Class, removeClass, deepExtend, elementStyles, eventElement, setDefaultOptions, limitValue, round, bindEvents, unbindEvents, mousewheelDelta, hasClasses } from '../common';\nimport { parseDate } from '../date-utils';\nvar ZOOM_ACCELERATION = 3;\nvar SELECTOR_HEIGHT_ADJUST = 0.1;\nfunction createDiv(className) {\n  var element = document.createElement(\"div\");\n  if (className) {\n    element.className = className;\n  }\n  return element;\n}\nfunction closestHandle(element) {\n  var current = element;\n  while (current && !hasClasses(current, \"k-handle\")) {\n    current = current.parentNode;\n  }\n  return current;\n}\nvar Selection = function (Class) {\n  function Selection(chart, categoryAxis, options, observer) {\n    Class.call(this);\n    var chartElement = chart.element;\n    this.options = deepExtend({}, this.options, options);\n    this.chart = chart;\n    this.observer = observer;\n    this.chartElement = chartElement;\n    this.categoryAxis = categoryAxis;\n    this._dateAxis = this.categoryAxis instanceof DateCategoryAxis;\n    this.initOptions();\n    this.visible = this.options.visible && chartElement.offsetHeight;\n    if (this.visible) {\n      this.createElements();\n      this.set(this._index(this.options.from), this._index(this.options.to));\n      this.bindEvents();\n    }\n  }\n  if (Class) Selection.__proto__ = Class;\n  Selection.prototype = Object.create(Class && Class.prototype);\n  Selection.prototype.constructor = Selection;\n  Selection.prototype.onPane = function onPane(pane) {\n    return this.categoryAxis.pane === pane;\n  };\n  Selection.prototype.createElements = function createElements() {\n    var options = this.options;\n    var wrapper = this.wrapper = createDiv(\"k-selector\");\n    elementStyles(wrapper, {\n      top: options.offset.top,\n      left: options.offset.left,\n      width: options.width,\n      height: options.height,\n      direction: 'ltr'\n    });\n    var selection = this.selection = createDiv(\"k-selection\");\n    this.leftMask = createDiv(\"k-mask\");\n    this.rightMask = createDiv(\"k-mask\");\n    wrapper.appendChild(this.leftMask);\n    wrapper.appendChild(this.rightMask);\n    wrapper.appendChild(selection);\n    selection.appendChild(createDiv(\"k-selection-bg\"));\n    var leftHandle = this.leftHandle = createDiv(\"k-handle k-left-handle\");\n    var rightHandle = this.rightHandle = createDiv(\"k-handle k-right-handle\");\n    leftHandle.appendChild(createDiv());\n    rightHandle.appendChild(createDiv());\n    selection.appendChild(leftHandle);\n    selection.appendChild(rightHandle);\n    this.chartElement.appendChild(wrapper);\n    var selectionStyles = elementStyles(selection, [\"borderLeftWidth\", \"borderRightWidth\", \"height\"]);\n    var leftHandleHeight = elementStyles(leftHandle, \"height\").height;\n    var rightHandleHeight = elementStyles(rightHandle, \"height\").height;\n    options.selection = {\n      border: {\n        left: selectionStyles.borderLeftWidth,\n        right: selectionStyles.borderRightWidth\n      }\n    };\n    elementStyles(leftHandle, {\n      top: (selectionStyles.height - leftHandleHeight) / 2\n    });\n    elementStyles(rightHandle, {\n      top: (selectionStyles.height - rightHandleHeight) / 2\n    });\n    wrapper.style.cssText = wrapper.style.cssText;\n  };\n  Selection.prototype.bindEvents = function bindEvents$1() {\n    var obj;\n    if (this.options.mousewheel !== false) {\n      this._mousewheelHandler = this._mousewheel.bind(this);\n      bindEvents(this.wrapper, (obj = {}, obj[MOUSEWHEEL] = this._mousewheelHandler, obj));\n    }\n    this._domEvents = DomEventsBuilder.create(this.wrapper, {\n      stopPropagation: true,\n      // applicable for the jQuery UserEvents\n      start: this._start.bind(this),\n      move: this._move.bind(this),\n      end: this._end.bind(this),\n      tap: this._tap.bind(this),\n      press: this._press.bind(this),\n      gesturestart: this._gesturestart.bind(this),\n      gesturechange: this._gesturechange.bind(this),\n      gestureend: this._gestureend.bind(this)\n    });\n  };\n  Selection.prototype.initOptions = function initOptions() {\n    var ref = this;\n    var options = ref.options;\n    var categoryAxis = ref.categoryAxis;\n    var box = categoryAxis.pane.chartsBox();\n    var intlService = this.chart.chartService.intl;\n    if (this._dateAxis) {\n      deepExtend(options, {\n        min: parseDate(intlService, options.min),\n        max: parseDate(intlService, options.max),\n        from: parseDate(intlService, options.from),\n        to: parseDate(intlService, options.to)\n      });\n    }\n    var ref$1 = elementStyles(this.chartElement, [\"paddingLeft\", \"paddingTop\"]);\n    var paddingLeft = ref$1.paddingLeft;\n    var paddingTop = ref$1.paddingTop;\n    this.options = deepExtend({}, {\n      width: box.width(),\n      height: box.height() + SELECTOR_HEIGHT_ADJUST,\n      //workaround for sub-pixel hover on the paths in chrome\n      padding: {\n        left: paddingLeft,\n        top: paddingTop\n      },\n      offset: {\n        left: box.x1 + paddingLeft,\n        top: box.y1 + paddingTop\n      },\n      from: options.min,\n      to: options.max\n    }, options);\n  };\n  Selection.prototype.destroy = function destroy() {\n    var obj;\n    if (this._domEvents) {\n      this._domEvents.destroy();\n      delete this._domEvents;\n    }\n    clearTimeout(this._mwTimeout);\n    this._state = null;\n    if (this.wrapper) {\n      if (this._mousewheelHandler) {\n        unbindEvents(this.wrapper, (obj = {}, obj[MOUSEWHEEL] = this._mousewheelHandler, obj));\n        this._mousewheelHandler = null;\n      }\n      this.chartElement.removeChild(this.wrapper);\n      this.wrapper = null;\n    }\n  };\n  Selection.prototype._rangeEventArgs = function _rangeEventArgs(range) {\n    return {\n      axis: this.categoryAxis.options,\n      from: this._value(range.from),\n      to: this._value(range.to)\n    };\n  };\n  Selection.prototype._start = function _start(e) {\n    var options = this.options;\n    var target = eventElement(e);\n    if (this._state || !target) {\n      return;\n    }\n    this.chart._unsetActivePoint();\n    this._state = {\n      moveTarget: closestHandle(target) || target,\n      startLocation: e.x ? e.x.location : 0,\n      range: {\n        from: this._index(options.from),\n        to: this._index(options.to)\n      }\n    };\n    var args = this._rangeEventArgs({\n      from: this._index(options.from),\n      to: this._index(options.to)\n    });\n    if (this.trigger(SELECT_START, args)) {\n      this._state = null;\n    }\n  };\n  Selection.prototype._press = function _press(e) {\n    var handle;\n    if (this._state) {\n      handle = this._state.moveTarget;\n    } else {\n      handle = closestHandle(eventElement(e));\n    }\n    if (handle) {\n      addClass(handle, \"k-handle-active\");\n    }\n  };\n  Selection.prototype._move = function _move(e) {\n    if (!this._state) {\n      return;\n    }\n    var ref = this;\n    var state = ref._state;\n    var options = ref.options;\n    var categoryAxis = ref.categoryAxis;\n    var range = state.range;\n    var target = state.moveTarget;\n    var reverse = categoryAxis.options.reverse;\n    var from = this._index(options.from);\n    var to = this._index(options.to);\n    var min = this._index(options.min);\n    var max = this._index(options.max);\n    var delta = state.startLocation - e.x.location;\n    var oldRange = {\n      from: range.from,\n      to: range.to\n    };\n    var span = range.to - range.from;\n    var scale = elementStyles(this.wrapper, \"width\").width / (categoryAxis.categoriesCount() - 1);\n    var offset = Math.round(delta / scale) * (reverse ? -1 : 1);\n    if (!target) {\n      return;\n    }\n    var leftHandle = hasClasses(target, \"k-left-handle\");\n    var rightHandle = hasClasses(target, \"k-right-handle\");\n    if (hasClasses(target, \"k-selection k-selection-bg\")) {\n      range.from = Math.min(Math.max(min, from - offset), max - span);\n      range.to = Math.min(range.from + span, max);\n    } else if (leftHandle && !reverse || rightHandle && reverse) {\n      range.from = Math.min(Math.max(min, from - offset), max - 1);\n      range.to = Math.max(range.from + 1, range.to);\n    } else if (leftHandle && reverse || rightHandle && !reverse) {\n      range.to = Math.min(Math.max(min + 1, to - offset), max);\n      range.from = Math.min(range.to - 1, range.from);\n    }\n    if (range.from !== oldRange.from || range.to !== oldRange.to) {\n      this.move(range.from, range.to);\n      this.trigger(SELECT, this._rangeEventArgs(range));\n    }\n  };\n  Selection.prototype._end = function _end() {\n    if (this._state) {\n      var moveTarget = this._state.moveTarget;\n      if (moveTarget) {\n        removeClass(moveTarget, \"k-handle-active\");\n      }\n      var range = this._state.range;\n      this.set(range.from, range.to);\n      this.trigger(SELECT_END, this._rangeEventArgs(range));\n      delete this._state;\n    }\n  };\n  Selection.prototype._tap = function _tap(e) {\n    var ref = this;\n    var options = ref.options;\n    var categoryAxis = ref.categoryAxis;\n    var coords = this.chart._eventCoordinates(e);\n    var categoryIx = categoryAxis.pointCategoryIndex(new Point(coords.x, categoryAxis.box.y1));\n    var from = this._index(options.from);\n    var to = this._index(options.to);\n    var min = this._index(options.min);\n    var max = this._index(options.max);\n    var span = to - from;\n    var mid = from + span / 2;\n    var range = {};\n    var rightClick = e.event.which === 3;\n    var offset = Math.round(mid - categoryIx);\n    if (this._state || rightClick) {\n      return;\n    }\n    this.chart._unsetActivePoint();\n    if (!categoryAxis.options.justified) {\n      offset--;\n    }\n    range.from = Math.min(Math.max(min, from - offset), max - span);\n    range.to = Math.min(range.from + span, max);\n    this._start(e);\n    if (this._state) {\n      this._state.range = range;\n      this.trigger(SELECT, this._rangeEventArgs(range));\n      this._end();\n    }\n  };\n  Selection.prototype._mousewheel = function _mousewheel(e) {\n    var this$1 = this;\n    var delta = mousewheelDelta(e);\n    this._start({\n      target: this.selection\n    });\n    if (this._state) {\n      var range = this._state.range;\n      e.preventDefault();\n      e.stopPropagation();\n      if (Math.abs(delta) > 1) {\n        delta *= ZOOM_ACCELERATION;\n      }\n      if (this.options.mousewheel.reverse) {\n        delta *= -1;\n      }\n      if (this.expand(delta)) {\n        this.trigger(SELECT, {\n          axis: this.categoryAxis.options,\n          delta: delta,\n          originalEvent: e,\n          from: this._value(range.from),\n          to: this._value(range.to)\n        });\n      }\n      if (this._mwTimeout) {\n        clearTimeout(this._mwTimeout);\n      }\n      this._mwTimeout = setTimeout(function () {\n        this$1._end();\n      }, MOUSEWHEEL_DELAY);\n    }\n  };\n  Selection.prototype._gesturestart = function _gesturestart(e) {\n    var options = this.options;\n    this._state = {\n      range: {\n        from: this._index(options.from),\n        to: this._index(options.to)\n      }\n    };\n    var args = this._rangeEventArgs(this._state.range);\n    if (this.trigger(SELECT_START, args)) {\n      this._state = null;\n    } else {\n      e.preventDefault();\n    }\n  };\n  Selection.prototype._gestureend = function _gestureend() {\n    if (this._state) {\n      this.trigger(SELECT_END, this._rangeEventArgs(this._state.range));\n      delete this._state;\n    }\n  };\n  Selection.prototype._gesturechange = function _gesturechange(e) {\n    var ref = this;\n    var chart = ref.chart;\n    var state = ref._state;\n    var options = ref.options;\n    var categoryAxis = ref.categoryAxis;\n    var range = state.range;\n    var p0 = chart._toModelCoordinates(e.touches[0].x.location).x;\n    var p1 = chart._toModelCoordinates(e.touches[1].x.location).x;\n    var left = Math.min(p0, p1);\n    var right = Math.max(p0, p1);\n    e.preventDefault();\n    range.from = categoryAxis.pointCategoryIndex(new Point(left)) || options.min;\n    range.to = categoryAxis.pointCategoryIndex(new Point(right)) || options.max;\n    this.move(range.from, range.to);\n    this.trigger(SELECT, this._rangeEventArgs(range));\n  };\n  Selection.prototype._index = function _index(value) {\n    var index = value;\n    if (value instanceof Date) {\n      index = this.categoryAxis.categoryIndex(value);\n    }\n    return index;\n  };\n  Selection.prototype._value = function _value(index) {\n    var value = index;\n    if (this._dateAxis) {\n      value = this.categoryAxis.categoryAt(index);\n      if (value > this.options.max) {\n        value = this.options.max;\n      }\n    }\n    return value;\n  };\n  Selection.prototype._slot = function _slot(value) {\n    var categoryAxis = this.categoryAxis;\n    var index = this._index(value);\n    return categoryAxis.getSlot(index, index, true);\n  };\n  Selection.prototype.move = function move(from, to) {\n    var options = this.options;\n    var reverse = this.categoryAxis.options.reverse;\n    var offset = options.offset;\n    var padding = options.padding;\n    var border = options.selection.border;\n    var left = reverse ? to : from;\n    var right = reverse ? from : to;\n    var edge = 'x' + (reverse ? 2 : 1);\n    var box = this._slot(left);\n    var leftMaskWidth = round(box[edge] - offset.left + padding.left);\n    elementStyles(this.leftMask, {\n      width: leftMaskWidth\n    });\n    elementStyles(this.selection, {\n      left: leftMaskWidth\n    });\n    box = this._slot(right);\n    var rightMaskWidth = round(options.width - (box[edge] - offset.left + padding.left));\n    elementStyles(this.rightMask, {\n      width: rightMaskWidth\n    });\n    var distance = options.width - rightMaskWidth;\n    if (distance !== options.width) {\n      distance += border.right;\n    }\n    elementStyles(this.rightMask, {\n      left: distance\n    });\n    elementStyles(this.selection, {\n      width: Math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0)\n    });\n  };\n  Selection.prototype.set = function set(from, to) {\n    var options = this.options;\n    var min = this._index(options.min);\n    var max = this._index(options.max);\n    var fromValue = limitValue(this._index(from), min, max);\n    var toValue = limitValue(this._index(to), fromValue + 1, max);\n    if (options.visible) {\n      this.move(fromValue, toValue);\n    }\n    options.from = this._value(fromValue);\n    options.to = this._value(toValue);\n  };\n  Selection.prototype.expand = function expand(delta) {\n    var options = this.options;\n    var min = this._index(options.min);\n    var max = this._index(options.max);\n    var zDir = options.mousewheel.zoom;\n    var from = this._index(options.from);\n    var to = this._index(options.to);\n    var range = {\n      from: from,\n      to: to\n    };\n    var oldRange = deepExtend({}, range);\n    if (this._state) {\n      range = this._state.range;\n    }\n    if (zDir !== RIGHT) {\n      range.from = limitValue(limitValue(from - delta, 0, to - 1), min, max);\n    }\n    if (zDir !== LEFT) {\n      range.to = limitValue(limitValue(to + delta, range.from + 1, max), min, max);\n    }\n    if (range.from !== oldRange.from || range.to !== oldRange.to) {\n      this.set(range.from, range.to);\n      return true;\n    }\n  };\n  Selection.prototype.zoom = function zoom(delta, coords) {\n    var options = this.options;\n    var min = this._index(options.min);\n    var max = this._index(options.max);\n    var from = this._index(options.from);\n    var to = this._index(options.to);\n    var range = {\n      from: from,\n      to: to\n    };\n    var oldRange = deepExtend({}, range);\n    var ref = this.categoryAxis.options;\n    var reverse = ref.reverse;\n    var origin = X + (reverse ? '2' : '1');\n    var lineBox = this.categoryAxis.lineBox();\n    var relative = Math.abs(lineBox[origin] - coords[X]);\n    var size = lineBox.width();\n    var position = round(relative / size, 2);\n    var minDelta = round(position * delta);\n    var maxDelta = round((1 - position) * delta);\n    if (this._state) {\n      range = this._state.range;\n    }\n    range.from = limitValue(limitValue(from - minDelta, 0, to - 1), min, max);\n    range.to = limitValue(limitValue(to + maxDelta, range.from + 1, max), min, max);\n    if (range.from !== oldRange.from || range.to !== oldRange.to) {\n      this.set(range.from, range.to);\n      return true;\n    }\n  };\n  Selection.prototype.trigger = function trigger(name, args) {\n    return (this.observer || this.chart).trigger(name, args);\n  };\n  return Selection;\n}(Class);\nsetDefaultOptions(Selection, {\n  visible: true,\n  mousewheel: {\n    zoom: \"both\"\n  },\n  min: MIN_VALUE,\n  max: MAX_VALUE\n});\nexport default Selection;","map":{"version":3,"names":["DomEventsBuilder","DateCategoryAxis","Point","MOUSEWHEEL_DELAY","MOUSEWHEEL","SELECT_START","SELECT","SELECT_END","LEFT","RIGHT","MIN_VALUE","MAX_VALUE","X","addClass","Class","removeClass","deepExtend","elementStyles","eventElement","setDefaultOptions","limitValue","round","bindEvents","unbindEvents","mousewheelDelta","hasClasses","parseDate","ZOOM_ACCELERATION","SELECTOR_HEIGHT_ADJUST","createDiv","className","element","document","createElement","closestHandle","current","parentNode","Selection","chart","categoryAxis","options","observer","call","chartElement","_dateAxis","initOptions","visible","offsetHeight","createElements","set","_index","from","to","__proto__","prototype","Object","create","constructor","onPane","pane","wrapper","top","offset","left","width","height","direction","selection","leftMask","rightMask","appendChild","leftHandle","rightHandle","selectionStyles","leftHandleHeight","rightHandleHeight","border","borderLeftWidth","right","borderRightWidth","style","cssText","bindEvents$1","obj","mousewheel","_mousewheelHandler","_mousewheel","bind","_domEvents","stopPropagation","start","_start","move","_move","end","_end","tap","_tap","press","_press","gesturestart","_gesturestart","gesturechange","_gesturechange","gestureend","_gestureend","ref","box","chartsBox","intlService","chartService","intl","min","max","ref$1","paddingLeft","paddingTop","padding","x1","y1","destroy","clearTimeout","_mwTimeout","_state","removeChild","_rangeEventArgs","range","axis","_value","e","target","_unsetActivePoint","moveTarget","startLocation","x","location","args","trigger","handle","state","reverse","delta","oldRange","span","scale","categoriesCount","Math","coords","_eventCoordinates","categoryIx","pointCategoryIndex","mid","rightClick","event","which","justified","this$1","preventDefault","abs","expand","originalEvent","setTimeout","p0","_toModelCoordinates","touches","p1","value","index","Date","categoryIndex","categoryAt","_slot","getSlot","edge","leftMaskWidth","rightMaskWidth","distance","fromValue","toValue","zDir","zoom","origin","lineBox","relative","size","position","minDelta","maxDelta","name"],"sources":["C:/Users/Павел/Desktop/react humster/my-app/node_modules/@progress/kendo-charts/dist/es/chart/selection.js"],"sourcesContent":["import { DomEventsBuilder } from '../services';\n\nimport { DateCategoryAxis, Point } from '../core';\n\nimport { MOUSEWHEEL_DELAY, MOUSEWHEEL, SELECT_START, SELECT, SELECT_END } from './constants';\n\nimport { LEFT, RIGHT, MIN_VALUE, MAX_VALUE, X } from '../common/constants';\nimport { addClass, Class, removeClass, deepExtend, elementStyles, eventElement, setDefaultOptions, limitValue, round, bindEvents, unbindEvents, mousewheelDelta, hasClasses } from '../common';\nimport { parseDate } from '../date-utils';\n\nvar ZOOM_ACCELERATION = 3;\nvar SELECTOR_HEIGHT_ADJUST = 0.1;\n\nfunction createDiv(className) {\n    var element = document.createElement(\"div\");\n    if (className) {\n        element.className = className;\n    }\n\n    return element;\n}\n\nfunction closestHandle(element) {\n    var current = element;\n    while (current && !hasClasses(current, \"k-handle\")) {\n        current = current.parentNode;\n    }\n\n    return current;\n}\n\nvar Selection = (function (Class) {\n    function Selection(chart, categoryAxis, options, observer) {\n        Class.call(this);\n\n        var chartElement = chart.element;\n\n        this.options = deepExtend({}, this.options, options);\n        this.chart = chart;\n        this.observer = observer;\n        this.chartElement = chartElement;\n        this.categoryAxis = categoryAxis;\n        this._dateAxis = this.categoryAxis instanceof DateCategoryAxis;\n\n        this.initOptions();\n\n        this.visible = this.options.visible && chartElement.offsetHeight;\n\n        if (this.visible) {\n            this.createElements();\n\n            this.set(this._index(this.options.from), this._index(this.options.to));\n\n            this.bindEvents();\n        }\n    }\n\n    if ( Class ) Selection.__proto__ = Class;\n    Selection.prototype = Object.create( Class && Class.prototype );\n    Selection.prototype.constructor = Selection;\n\n    Selection.prototype.onPane = function onPane (pane) {\n        return this.categoryAxis.pane === pane;\n    };\n\n    Selection.prototype.createElements = function createElements () {\n        var options = this.options;\n        var wrapper = this.wrapper = createDiv(\"k-selector\");\n        elementStyles(wrapper, {\n            top: options.offset.top,\n            left: options.offset.left,\n            width: options.width,\n            height: options.height,\n            direction: 'ltr'\n        });\n        var selection = this.selection = createDiv(\"k-selection\");\n        this.leftMask = createDiv(\"k-mask\");\n        this.rightMask = createDiv(\"k-mask\");\n\n        wrapper.appendChild(this.leftMask);\n        wrapper.appendChild(this.rightMask);\n        wrapper.appendChild(selection);\n\n        selection.appendChild(createDiv(\"k-selection-bg\"));\n\n        var leftHandle = this.leftHandle = createDiv(\"k-handle k-left-handle\");\n        var rightHandle = this.rightHandle = createDiv(\"k-handle k-right-handle\");\n        leftHandle.appendChild(createDiv());\n        rightHandle.appendChild(createDiv());\n\n        selection.appendChild(leftHandle);\n        selection.appendChild(rightHandle);\n\n        this.chartElement.appendChild(wrapper);\n        var selectionStyles = elementStyles(selection, [ \"borderLeftWidth\", \"borderRightWidth\", \"height\" ]);\n        var leftHandleHeight = elementStyles(leftHandle, \"height\").height;\n        var rightHandleHeight = elementStyles(rightHandle, \"height\").height;\n\n        options.selection = {\n            border: {\n                left: selectionStyles.borderLeftWidth,\n                right: selectionStyles.borderRightWidth\n            }\n        };\n\n        elementStyles(leftHandle, {\n            top: (selectionStyles.height - leftHandleHeight) / 2\n        });\n\n        elementStyles(rightHandle, {\n            top: (selectionStyles.height - rightHandleHeight) / 2\n        });\n\n        wrapper.style.cssText = wrapper.style.cssText;\n    };\n\n    Selection.prototype.bindEvents = function bindEvents$1 () {\n        var obj;\n\n        if (this.options.mousewheel !== false) {\n            this._mousewheelHandler = this._mousewheel.bind(this);\n            bindEvents(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));\n        }\n\n        this._domEvents = DomEventsBuilder.create(this.wrapper, {\n            stopPropagation: true, // applicable for the jQuery UserEvents\n            start: this._start.bind(this),\n            move: this._move.bind(this),\n            end: this._end.bind(this),\n            tap: this._tap.bind(this),\n            press: this._press.bind(this),\n            gesturestart: this._gesturestart.bind(this),\n            gesturechange: this._gesturechange.bind(this),\n            gestureend: this._gestureend.bind(this)\n        });\n    };\n\n    Selection.prototype.initOptions = function initOptions () {\n        var ref = this;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var box = categoryAxis.pane.chartsBox();\n        var intlService = this.chart.chartService.intl;\n\n        if (this._dateAxis) {\n            deepExtend(options, {\n                min: parseDate(intlService, options.min),\n                max: parseDate(intlService, options.max),\n                from: parseDate(intlService, options.from),\n                to: parseDate(intlService, options.to)\n            });\n        }\n\n        var ref$1 = elementStyles(this.chartElement, [ \"paddingLeft\", \"paddingTop\" ]);\n        var paddingLeft = ref$1.paddingLeft;\n        var paddingTop = ref$1.paddingTop;\n\n        this.options = deepExtend({}, {\n            width: box.width(),\n            height: box.height() + SELECTOR_HEIGHT_ADJUST, //workaround for sub-pixel hover on the paths in chrome\n            padding: {\n                left: paddingLeft,\n                top: paddingTop\n            },\n            offset: {\n                left: box.x1 + paddingLeft,\n                top: box.y1 + paddingTop\n            },\n            from: options.min,\n            to: options.max\n        }, options);\n    };\n\n    Selection.prototype.destroy = function destroy () {\n        var obj;\n\n        if (this._domEvents) {\n            this._domEvents.destroy();\n            delete this._domEvents;\n        }\n\n        clearTimeout(this._mwTimeout);\n        this._state = null;\n\n        if (this.wrapper) {\n            if (this._mousewheelHandler) {\n                unbindEvents(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));\n                this._mousewheelHandler = null;\n            }\n            this.chartElement.removeChild(this.wrapper);\n            this.wrapper = null;\n        }\n    };\n\n    Selection.prototype._rangeEventArgs = function _rangeEventArgs (range) {\n\n        return {\n            axis: this.categoryAxis.options,\n            from: this._value(range.from),\n            to: this._value(range.to)\n        };\n    };\n\n    Selection.prototype._start = function _start (e) {\n        var options = this.options;\n        var target = eventElement(e);\n\n        if (this._state || !target) {\n            return;\n        }\n\n        this.chart._unsetActivePoint();\n        this._state = {\n            moveTarget: closestHandle(target) || target,\n            startLocation: e.x ? e.x.location : 0,\n            range: {\n                from: this._index(options.from),\n                to: this._index(options.to)\n            }\n        };\n\n        var args = this._rangeEventArgs({\n            from: this._index(options.from),\n            to: this._index(options.to)\n        });\n\n        if (this.trigger(SELECT_START, args)) {\n            this._state = null;\n        }\n    };\n\n    Selection.prototype._press = function _press (e) {\n        var handle;\n        if (this._state) {\n            handle = this._state.moveTarget;\n        } else {\n            handle = closestHandle(eventElement(e));\n        }\n        if (handle) {\n            addClass(handle, \"k-handle-active\");\n        }\n    };\n\n    Selection.prototype._move = function _move (e) {\n        if (!this._state) {\n            return;\n        }\n\n        var ref = this;\n        var state = ref._state;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var range = state.range;\n        var target = state.moveTarget;\n        var reverse = categoryAxis.options.reverse;\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var delta = state.startLocation - e.x.location;\n        var oldRange = { from: range.from, to: range.to };\n        var span = range.to - range.from;\n        var scale = elementStyles(this.wrapper, \"width\").width / (categoryAxis.categoriesCount() - 1);\n        var offset = Math.round(delta / scale) * (reverse ? -1 : 1);\n\n        if (!target) {\n            return;\n        }\n\n        var leftHandle = hasClasses(target, \"k-left-handle\");\n        var rightHandle = hasClasses(target, \"k-right-handle\");\n\n        if (hasClasses(target, \"k-selection k-selection-bg\")) {\n            range.from = Math.min(\n                Math.max(min, from - offset),\n                max - span\n            );\n            range.to = Math.min(\n                range.from + span,\n                max\n            );\n        } else if ((leftHandle && !reverse) || (rightHandle && reverse)) {\n            range.from = Math.min(\n                Math.max(min, from - offset),\n                max - 1\n            );\n            range.to = Math.max(range.from + 1, range.to);\n        } else if ((leftHandle && reverse) || (rightHandle && !reverse)) {\n            range.to = Math.min(\n                Math.max(min + 1, to - offset),\n                max\n            );\n            range.from = Math.min(range.to - 1, range.from);\n        }\n\n        if (range.from !== oldRange.from || range.to !== oldRange.to) {\n            this.move(range.from, range.to);\n            this.trigger(SELECT, this._rangeEventArgs(range));\n        }\n    };\n\n    Selection.prototype._end = function _end () {\n        if (this._state) {\n            var moveTarget = this._state.moveTarget;\n            if (moveTarget) {\n                removeClass(moveTarget, \"k-handle-active\");\n            }\n\n            var range = this._state.range;\n            this.set(range.from, range.to);\n            this.trigger(SELECT_END, this._rangeEventArgs(range));\n\n            delete this._state;\n        }\n    };\n\n    Selection.prototype._tap = function _tap (e) {\n        var ref = this;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var coords = this.chart._eventCoordinates(e);\n        var categoryIx = categoryAxis.pointCategoryIndex(new Point(coords.x, categoryAxis.box.y1));\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var span = to - from;\n        var mid = from + span / 2;\n        var range = {};\n        var rightClick = e.event.which === 3;\n        var offset = Math.round(mid - categoryIx);\n\n        if (this._state || rightClick) {\n            return;\n        }\n\n\n        this.chart._unsetActivePoint();\n\n        if (!categoryAxis.options.justified) {\n            offset--;\n        }\n\n        range.from = Math.min(\n            Math.max(min, from - offset),\n            max - span\n        );\n\n        range.to = Math.min(range.from + span, max);\n\n        this._start(e);\n        if (this._state) {\n            this._state.range = range;\n            this.trigger(SELECT, this._rangeEventArgs(range));\n            this._end();\n        }\n    };\n\n    Selection.prototype._mousewheel = function _mousewheel (e) {\n        var this$1 = this;\n\n        var delta = mousewheelDelta(e);\n\n        this._start({ target: this.selection });\n\n        if (this._state) {\n            var range = this._state.range;\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (Math.abs(delta) > 1) {\n                delta *= ZOOM_ACCELERATION;\n            }\n\n            if (this.options.mousewheel.reverse) {\n                delta *= -1;\n            }\n\n            if (this.expand(delta)) {\n                this.trigger(SELECT, {\n                    axis: this.categoryAxis.options,\n                    delta: delta,\n                    originalEvent: e,\n                    from: this._value(range.from),\n                    to: this._value(range.to)\n                });\n            }\n\n            if (this._mwTimeout) {\n                clearTimeout(this._mwTimeout);\n            }\n\n            this._mwTimeout = setTimeout(function () {\n                this$1._end();\n            }, MOUSEWHEEL_DELAY);\n        }\n    };\n\n    Selection.prototype._gesturestart = function _gesturestart (e) {\n        var options = this.options;\n\n        this._state = {\n            range: {\n                from: this._index(options.from),\n                to: this._index(options.to)\n            }\n        };\n        var args = this._rangeEventArgs(this._state.range);\n\n        if (this.trigger(SELECT_START, args)) {\n            this._state = null;\n        } else {\n            e.preventDefault();\n        }\n    };\n\n    Selection.prototype._gestureend = function _gestureend () {\n        if (this._state) {\n            this.trigger(SELECT_END, this._rangeEventArgs(this._state.range));\n            delete this._state;\n        }\n    };\n\n    Selection.prototype._gesturechange = function _gesturechange (e) {\n        var ref = this;\n        var chart = ref.chart;\n        var state = ref._state;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var range = state.range;\n        var p0 = chart._toModelCoordinates(e.touches[0].x.location).x;\n        var p1 = chart._toModelCoordinates(e.touches[1].x.location).x;\n        var left = Math.min(p0, p1);\n        var right = Math.max(p0, p1);\n\n        e.preventDefault();\n\n        range.from = categoryAxis.pointCategoryIndex(new Point(left)) || options.min;\n\n        range.to = categoryAxis.pointCategoryIndex(new Point(right)) || options.max;\n\n        this.move(range.from, range.to);\n\n        this.trigger(SELECT, this._rangeEventArgs(range));\n    };\n\n    Selection.prototype._index = function _index (value) {\n        var index = value;\n\n        if (value instanceof Date) {\n            index = this.categoryAxis.categoryIndex(value);\n        }\n\n        return index;\n    };\n\n    Selection.prototype._value = function _value (index) {\n        var value = index;\n        if (this._dateAxis) {\n            value = this.categoryAxis.categoryAt(index);\n            if (value > this.options.max) {\n                value = this.options.max;\n            }\n        }\n\n        return value;\n    };\n\n    Selection.prototype._slot = function _slot (value) {\n        var categoryAxis = this.categoryAxis;\n        var index = this._index(value);\n\n        return categoryAxis.getSlot(index, index, true);\n    };\n\n    Selection.prototype.move = function move (from, to) {\n        var options = this.options;\n        var reverse = this.categoryAxis.options.reverse;\n        var offset = options.offset;\n        var padding = options.padding;\n        var border = options.selection.border;\n        var left = reverse ? to : from;\n        var right = reverse ? from : to;\n        var edge = 'x' + (reverse ? 2 : 1);\n\n        var box = this._slot(left);\n        var leftMaskWidth = round(box[edge] - offset.left + padding.left);\n\n        elementStyles(this.leftMask, {\n            width: leftMaskWidth\n        });\n        elementStyles(this.selection, {\n            left: leftMaskWidth\n        });\n\n        box = this._slot(right);\n\n        var rightMaskWidth = round(options.width - (box[edge] - offset.left + padding.left));\n        elementStyles(this.rightMask, {\n            width: rightMaskWidth\n        });\n\n        var distance = options.width - rightMaskWidth;\n        if (distance !== options.width) {\n            distance += border.right;\n        }\n\n        elementStyles(this.rightMask, {\n            left: distance\n        });\n        elementStyles(this.selection, {\n            width: Math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0)\n        });\n    };\n\n    Selection.prototype.set = function set (from, to) {\n        var options = this.options;\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var fromValue = limitValue(this._index(from), min, max);\n        var toValue = limitValue(this._index(to), fromValue + 1, max);\n\n        if (options.visible) {\n            this.move(fromValue, toValue);\n        }\n\n        options.from = this._value(fromValue);\n        options.to = this._value(toValue);\n    };\n\n    Selection.prototype.expand = function expand (delta) {\n        var options = this.options;\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var zDir = options.mousewheel.zoom;\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var range = { from: from, to: to };\n        var oldRange = deepExtend({}, range);\n\n        if (this._state) {\n            range = this._state.range;\n        }\n\n        if (zDir !== RIGHT) {\n            range.from = limitValue(\n                limitValue(from - delta, 0, to - 1),\n                min, max\n            );\n        }\n\n        if (zDir !== LEFT) {\n            range.to = limitValue(\n                limitValue(to + delta, range.from + 1, max),\n                min,\n                max\n             );\n        }\n\n        if (range.from !== oldRange.from || range.to !== oldRange.to) {\n            this.set(range.from, range.to);\n            return true;\n        }\n    };\n\n    Selection.prototype.zoom = function zoom (delta, coords) {\n        var options = this.options;\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var range = { from: from, to: to };\n        var oldRange = deepExtend({}, range);\n\n        var ref = this.categoryAxis.options;\n        var reverse = ref.reverse;\n        var origin = X + (reverse ? '2' : '1');\n        var lineBox = this.categoryAxis.lineBox();\n        var relative = Math.abs(lineBox[origin] - coords[X]);\n        var size = lineBox.width();\n        var position = round(relative / size, 2);\n        var minDelta = round(position * delta);\n        var maxDelta = round((1 - position) * delta);\n\n        if (this._state) {\n            range = this._state.range;\n        }\n\n        range.from = limitValue(\n            limitValue(from - minDelta, 0, to - 1),\n            min, max\n        );\n\n        range.to = limitValue(\n            limitValue(to + maxDelta, range.from + 1, max),\n            min,\n            max\n        );\n\n        if (range.from !== oldRange.from || range.to !== oldRange.to) {\n            this.set(range.from, range.to);\n            return true;\n        }\n    };\n\n    Selection.prototype.trigger = function trigger (name, args) {\n        return (this.observer || this.chart).trigger(name, args);\n    };\n\n    return Selection;\n}(Class));\n\nsetDefaultOptions(Selection, {\n    visible: true,\n    mousewheel: {\n        zoom: \"both\"\n    },\n    min: MIN_VALUE,\n    max: MAX_VALUE\n});\n\nexport default Selection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}