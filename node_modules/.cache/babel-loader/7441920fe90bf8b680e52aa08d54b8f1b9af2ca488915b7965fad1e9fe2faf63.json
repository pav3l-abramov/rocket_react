{"ast":null,"code":"import { drawing as draw, throttle, geometry } from '@progress/kendo-drawing';\nimport { RootElement, Title, CategoryAxis, Point } from '../core';\nimport Highlight from './highlight';\nimport Pannable from './pan-and-zoom/pannable';\nimport ZoomSelection from './pan-and-zoom/zoom-selection';\nimport MousewheelZoom from './pan-and-zoom/mousewheel-zoom';\nimport Legend from './legend/legend';\nimport PlotAreaFactory from './plotarea/plotarea-factory';\nimport Selection from './selection';\nimport SeriesBinder from './series-binder';\nimport Tooltip from './tooltip/tooltip';\nimport SharedTooltip from './tooltip/shared-tooltip';\nimport CategoricalPlotArea from './plotarea/categorical-plotarea';\nimport PlotAreaBase from './plotarea/plotarea-base';\nimport { ChartService, DomEventsBuilder } from '../services';\nimport getField from './utils/get-field';\nimport isDateAxis from './utils/is-date-axis';\nimport getDateField from './utils/get-date-field';\nimport { ChartPane, ChartPlotArea, findAxisByName } from './api-elements';\nimport { X, Y, VALUE, DEFAULT_WIDTH, DEFAULT_HEIGHT, DEFAULT_SERIES_OPACITY } from '../common/constants';\nimport { addClass, Class, setDefaultOptions, deepExtend, defined, find, isObject, isFunction, elementSize, elementOffset, elementScale, elementStyles, eventCoordinates, bindEvents, unbindEvents, mousewheelDelta, FontLoader, inArray, last, round, HashMap, valueOrDefault } from '../common';\nimport { dateComparer } from '../date-utils';\nimport { DRAG_START, DRAG, DRAG_END, ZOOM_START, ZOOM, ZOOM_END, SELECT_START, SELECT, SELECT_END, PLOT_AREA_HOVER, PLOT_AREA_LEAVE, RENDER, CATEGORY, PIE, DONUT, FUNNEL, COLUMN, MOUSEWHEEL, MOUSEWHEEL_DELAY, MOUSEWHEEL_ZOOM_RATE, SHOW_TOOLTIP, SERIES_HOVER } from './constants';\nimport './animations';\nimport './register-charts';\nvar AXIS_NAMES = [CATEGORY, VALUE, X, Y];\nvar MOUSEMOVE = \"mousemove\";\nvar CONTEXTMENU = \"contextmenu\";\nvar MOUSELEAVE = \"mouseleave\";\nvar MOUSEMOVE_DELAY = 20;\nvar Chart = function (Class) {\n  function Chart(element, userOptions, themeOptions, context) {\n    var this$1 = this;\n    if (context === void 0) context = {};\n    Class.call(this);\n    this.observers = [];\n    this.addObserver(context.observer);\n    this.chartService = new ChartService(this, context);\n    this.chartService.theme = themeOptions;\n    this._initElement(element);\n    var options = deepExtend({}, this.options, userOptions);\n    this._originalOptions = deepExtend({}, options);\n    this._theme = themeOptions;\n    this._initTheme(options, themeOptions);\n    this._initHandlers();\n    this._initSurface();\n    this.bindCategories();\n    FontLoader.preloadFonts(userOptions, function () {\n      this$1.fontLoaded = true;\n      if (!this$1._destroyed) {\n        this$1.trigger('init');\n        this$1._redraw();\n        this$1._attachEvents();\n      }\n    });\n  }\n  if (Class) Chart.__proto__ = Class;\n  Chart.prototype = Object.create(Class && Class.prototype);\n  Chart.prototype.constructor = Chart;\n  Chart.prototype._initElement = function _initElement(element) {\n    this._setElementClass(element);\n    element.style.position = \"relative\";\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n    this.element = element;\n  };\n  Chart.prototype._setElementClass = function _setElementClass(element) {\n    addClass(element, \"k-chart\");\n  };\n  Chart.prototype._initTheme = function _initTheme(options, themeOptions) {\n    var seriesCopies = [];\n    var series = options.series || [];\n    for (var i = 0; i < series.length; i++) {\n      seriesCopies.push(Object.assign({}, series[i]));\n    }\n    options.series = seriesCopies;\n    resolveAxisAliases(options);\n    this.applyDefaults(options, themeOptions);\n\n    // Clean up default if not overriden by data attributes\n    if (options.seriesColors === null) {\n      delete options.seriesColors;\n    }\n    this.options = deepExtend({}, themeOptions, options);\n    this.applySeriesColors();\n  };\n  Chart.prototype.getSize = function getSize() {\n    var chartArea = this.options.chartArea || {};\n    var width = chartArea.width ? parseInt(chartArea.width, 10) : Math.floor(this.element.offsetWidth);\n    var height = chartArea.height ? parseInt(chartArea.height, 10) : Math.floor(this.element.offsetHeight);\n    return {\n      width: width,\n      height: height\n    };\n  };\n  Chart.prototype.resize = function resize(force) {\n    var size = this.getSize();\n    var currentSize = this._size;\n    var hasSize = size.width > 0 || size.height > 0;\n    if (force || hasSize && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n      this._size = size;\n      this._resize(size, force);\n      this.trigger(\"resize\", size);\n    } else if (hasSize && this._selections && find(this._selections, function (s) {\n      return !s.visible;\n    })) {\n      this._destroySelections();\n      this._setupSelection();\n    }\n  };\n  Chart.prototype._resize = function _resize() {\n    this._noTransitionsRedraw();\n  };\n  Chart.prototype.redraw = function redraw(paneName) {\n    this.applyDefaults(this.options);\n    this.applySeriesColors();\n    if (paneName) {\n      var plotArea = this._model._plotArea;\n      var pane = plotArea.findPane(paneName);\n      plotArea.redraw(pane);\n    } else {\n      this._redraw();\n    }\n  };\n  Chart.prototype.getAxis = function getAxis(name) {\n    return findAxisByName(name, this._plotArea.axes);\n  };\n  Chart.prototype.findAxisByName = function findAxisByName(name) {\n    return this.getAxis(name);\n  };\n  Chart.prototype.findPaneByName = function findPaneByName(name) {\n    var panes = this._plotArea.panes;\n    for (var idx = 0; idx < panes.length; idx++) {\n      if (panes[idx].options.name === name) {\n        return new ChartPane(panes[idx]);\n      }\n    }\n  };\n  Chart.prototype.findPaneByIndex = function findPaneByIndex(idx) {\n    var panes = this._plotArea.panes;\n    if (panes[idx]) {\n      return new ChartPane(panes[idx]);\n    }\n  };\n  Chart.prototype.plotArea = function plotArea() {\n    return new ChartPlotArea(this._plotArea);\n  };\n  Chart.prototype.toggleHighlight = function toggleHighlight(show, filter) {\n    var plotArea = this._plotArea;\n    var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];\n    var points;\n    if (isFunction(filter)) {\n      points = plotArea.filterPoints(filter);\n    } else {\n      var seriesName, categoryName;\n      if (isObject(filter)) {\n        seriesName = filter.series;\n        categoryName = filter.category;\n      } else {\n        seriesName = categoryName = filter;\n      }\n      if (firstSeries.type === DONUT) {\n        points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);\n      } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {\n        points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);\n      } else {\n        points = plotArea.pointsBySeriesName(seriesName);\n      }\n    }\n    if (points) {\n      this.togglePointsHighlight(show, points);\n    }\n  };\n  Chart.prototype.togglePointsHighlight = function togglePointsHighlight(show, points) {\n    var highlight = this._highlight;\n    for (var idx = 0; idx < points.length; idx++) {\n      highlight.togglePointHighlight(points[idx], show);\n    }\n  };\n  Chart.prototype.showTooltip = function showTooltip(filter) {\n    var shared = this._sharedTooltip();\n    var ref = this;\n    var tooltip = ref._tooltip;\n    var plotArea = ref._plotArea;\n    var point, categoryIndex;\n    if (isFunction(filter)) {\n      point = plotArea.findPoint(filter);\n      if (point && shared) {\n        categoryIndex = point.categoryIx;\n      }\n    } else if (shared && defined(filter)) {\n      categoryIndex = plotArea.categoryAxis.categoryIndex(filter);\n    }\n    if (shared) {\n      if (categoryIndex >= 0) {\n        var points = this._plotArea.pointsByCategoryIndex(categoryIndex);\n        tooltip.showAt(points);\n      }\n    } else if (point) {\n      tooltip.show(point);\n    }\n  };\n  Chart.prototype.hideTooltip = function hideTooltip() {\n    this._tooltip.hide();\n  };\n  Chart.prototype._initSurface = function _initSurface() {\n    var surface = this.surface;\n    var wrap = this._surfaceWrap();\n    var chartArea = this.options.chartArea || {};\n    if (chartArea.width) {\n      elementSize(wrap, {\n        width: chartArea.width\n      });\n    }\n    if (chartArea.height) {\n      elementSize(wrap, {\n        height: chartArea.height\n      });\n    }\n    if (!surface || surface.options.type !== this.options.renderAs) {\n      this._destroySurface();\n      this.surface = draw.Surface.create(wrap, {\n        type: this.options.renderAs\n      });\n      this.surface.bind(\"mouseenter\", this._surfaceMouseenterHandler);\n      this.surface.bind(\"mouseleave\", this._surfaceMouseleaveHandler);\n    } else {\n      this.surface.clear();\n      this.surface.resize();\n    }\n  };\n  Chart.prototype._surfaceWrap = function _surfaceWrap() {\n    return this.element;\n  };\n  Chart.prototype._redraw = function _redraw() {\n    var model = this._getModel();\n    this._size = {\n      width: model.options.width,\n      height: model.options.height\n    };\n    this._destroyView();\n    this._model = model;\n    this._plotArea = model._plotArea;\n    model.renderVisual();\n    if (this.options.transitions !== false) {\n      model.traverse(function (element) {\n        if (element.animation) {\n          element.animation.setup();\n        }\n      });\n    }\n    this._initSurface();\n    this.surface.draw(model.visual);\n    if (this.options.transitions !== false) {\n      model.traverse(function (element) {\n        if (element.animation) {\n          element.animation.play();\n        }\n      });\n    }\n    this._tooltip = this._createTooltip();\n    this._highlight = new Highlight();\n    this._setupSelection();\n    this._createPannable();\n    this._createZoomSelection();\n    this._createMousewheelZoom();\n    this.trigger(RENDER);\n    triggerPaneRender(this._plotArea.panes);\n    if (!this._navState) {\n      this._cancelDomEvents();\n    }\n  };\n  Chart.prototype.exportVisual = function exportVisual(exportOptions) {\n    var visual;\n    if (exportOptions && (exportOptions.width || exportOptions.height || exportOptions.options)) {\n      var currentOptions = this.options;\n      var options = deepExtend({}, exportOptions.options, {\n        chartArea: {\n          width: exportOptions.width,\n          height: exportOptions.height\n        }\n      });\n      clearMissingValues(this._originalOptions, options);\n      this.options = deepExtend({}, this._originalOptions, options);\n      this._initTheme(this.options, this._theme);\n      this.bindCategories();\n      var model = this._getModel();\n      model.renderVisual();\n      triggerPaneRender(model._plotArea.panes);\n      visual = model.visual;\n      this.options = currentOptions;\n    } else {\n      visual = this.surface.exportVisual();\n    }\n    return visual;\n  };\n  Chart.prototype._sharedTooltip = function _sharedTooltip() {\n    return this._plotArea instanceof CategoricalPlotArea && this.options.tooltip && this.options.tooltip.shared;\n  };\n  Chart.prototype._createPannable = function _createPannable() {\n    var options = this.options;\n    if (options.pannable !== false) {\n      this._pannable = new Pannable(this._plotArea, options.pannable);\n    }\n  };\n  Chart.prototype._createZoomSelection = function _createZoomSelection() {\n    var zoomable = this.options.zoomable;\n    var selection = (zoomable || {}).selection;\n    if (zoomable !== false && selection !== false) {\n      this._zoomSelection = new ZoomSelection(this, selection);\n    }\n  };\n  Chart.prototype._createMousewheelZoom = function _createMousewheelZoom() {\n    var zoomable = this.options.zoomable;\n    var mousewheel = (zoomable || {}).mousewheel;\n    if (zoomable !== false && mousewheel !== false) {\n      this._mousewheelZoom = new MousewheelZoom(this, mousewheel);\n    }\n  };\n  Chart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents() {\n    var pannable = this.options.pannable;\n    var zoomable = this.options.zoomable;\n    var selection = (zoomable || {}).selection;\n    var mousewheel = (zoomable || {}).mousewheel;\n    var allowDrag = !pannable && (zoomable === false || selection === false) && !this.requiresHandlers([DRAG_START, DRAG, DRAG_END]);\n    var allowZoom = (zoomable === false || mousewheel === false) && !this.requiresHandlers([ZOOM_START, ZOOM, ZOOM_END]);\n    var element = this.element;\n    if (this._dragZoomEnabled && allowDrag && allowZoom) {\n      element.style.touchAction = this._touchAction || '';\n      this._dragZoomEnabled = false;\n    } else if (!this._dragZoomEnabled && !(allowDrag && allowZoom)) {\n      element.style.touchAction = \"none\";\n      this._dragZoomEnabled = true;\n    }\n    this._toggleDomEvents(!allowDrag, !allowZoom);\n  };\n  Chart.prototype._toggleDomEvents = function _toggleDomEvents(drag, zoom) {\n    var domEvents = this.domEvents;\n    if (!domEvents) {\n      return;\n    }\n    if (domEvents.toggleDrag) {\n      domEvents.toggleDrag(drag);\n    }\n    if (domEvents.toggleZoom) {\n      domEvents.toggleZoom(zoom);\n    }\n  };\n  Chart.prototype._createTooltip = function _createTooltip() {\n    var ref = this;\n    var tooltipOptions = ref.options.tooltip;\n    var tooltip;\n    if (this._sharedTooltip()) {\n      tooltip = this._createSharedTooltip(tooltipOptions);\n    } else {\n      tooltip = new Tooltip(this.chartService, tooltipOptions);\n    }\n    return tooltip;\n  };\n  Chart.prototype._createSharedTooltip = function _createSharedTooltip(options) {\n    return new SharedTooltip(this._plotArea, options);\n  };\n  Chart.prototype.applyDefaults = function applyDefaults(options, themeOptions) {\n    applyAxisDefaults(options, themeOptions);\n    applySeriesDefaults(options, themeOptions);\n  };\n  Chart.prototype.applySeriesColors = function applySeriesColors() {\n    var options = this.options;\n    var series = options.series;\n    var colors = options.seriesColors || [];\n    for (var i = 0; i < series.length; i++) {\n      var currentSeries = series[i];\n      var seriesColor = colors[i % colors.length];\n      var defaults = currentSeries._defaults;\n      currentSeries.color = currentSeries.color || seriesColor;\n      if (defaults) {\n        defaults.color = defaults.color || seriesColor;\n      }\n    }\n  };\n  Chart.prototype._getModel = function _getModel() {\n    var options = this.options;\n    var plotArea = this._createPlotArea();\n    var model = new RootElement(this._modelOptions());\n    model.chart = this;\n    model._plotArea = plotArea;\n    var title = Title.buildTitle(options.title);\n    var subtitle = Title.buildTitle(options.subtitle, {\n      align: options.title.align,\n      position: options.title.position\n    });\n    model.append.apply(model, Title.orderTitles([title, subtitle]));\n    if (options.legend && options.legend.visible) {\n      model.append(new Legend(plotArea.options.legend, this.chartService));\n    }\n    model.append(plotArea);\n    model.reflow();\n    return model;\n  };\n  Chart.prototype._modelOptions = function _modelOptions() {\n    var options = this.options;\n    var size = this.getSize();\n    return deepExtend({\n      transitions: options.transitions,\n      width: size.width || DEFAULT_WIDTH,\n      height: size.height || DEFAULT_HEIGHT\n    }, options.chartArea);\n  };\n  Chart.prototype._createPlotArea = function _createPlotArea(skipSeries) {\n    var options = this.options;\n    var plotArea = PlotAreaFactory.current.create(skipSeries ? [] : options.series, options, this.chartService);\n    return plotArea;\n  };\n  Chart.prototype._setupSelection = function _setupSelection() {\n    var this$1 = this;\n    var ref = this;\n    var axes = ref._plotArea.axes;\n    var selections = this._selections = [];\n    for (var i = 0; i < axes.length; i++) {\n      var axis = axes[i];\n      var options = axis.options;\n      if (axis instanceof CategoryAxis && options.select && !options.vertical) {\n        var range = axis.range();\n        var selection = new Selection(this$1, axis, deepExtend({\n          min: range.min,\n          max: range.max\n        }, options.select));\n        selections.push(selection);\n      }\n    }\n  };\n  Chart.prototype._selectStart = function _selectStart(e) {\n    return this.trigger(SELECT_START, e);\n  };\n  Chart.prototype._select = function _select(e) {\n    return this.trigger(SELECT, e);\n  };\n  Chart.prototype._selectEnd = function _selectEnd(e) {\n    return this.trigger(SELECT_END, e);\n  };\n  Chart.prototype._initHandlers = function _initHandlers() {\n    this._clickHandler = this._click.bind(this);\n    this._mousewheelHandler = this._mousewheel.bind(this);\n    this._mouseleaveHandler = this._mouseleave.bind(this);\n    this._surfaceMouseenterHandler = this._mouseover.bind(this);\n    this._surfaceMouseleaveHandler = this._mouseout.bind(this);\n    this._mousemove = throttle(this._mousemove.bind(this), MOUSEMOVE_DELAY);\n  };\n  Chart.prototype.addObserver = function addObserver(observer) {\n    if (observer) {\n      this.observers.push(observer);\n    }\n  };\n  Chart.prototype.removeObserver = function removeObserver(observer) {\n    var index = this.observers.indexOf(observer);\n    if (index >= 0) {\n      this.observers.splice(index, 1);\n    }\n  };\n  Chart.prototype.requiresHandlers = function requiresHandlers(eventNames) {\n    var observers = this.observers;\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].requiresHandlers(eventNames)) {\n        return true;\n      }\n    }\n  };\n  Chart.prototype.trigger = function trigger(name, args) {\n    if (args === void 0) args = {};\n    if (name === SHOW_TOOLTIP) {\n      args.anchor.point = this._toDocumentCoordinates(args.anchor.point);\n    }\n    args.sender = this;\n    var observers = this.observers;\n    var isDefaultPrevented = false;\n    for (var idx = 0; idx < observers.length; idx++) {\n      if (observers[idx].trigger(name, args)) {\n        isDefaultPrevented = true;\n      }\n    }\n    return isDefaultPrevented;\n  };\n  Chart.prototype._attachEvents = function _attachEvents() {\n    var obj, obj$1;\n    var element = this.element;\n    this._touchAction = element.style.touchAction;\n    bindEvents(element, (obj = {}, obj[CONTEXTMENU] = this._clickHandler, obj[MOUSEWHEEL] = this._mousewheelHandler, obj[MOUSELEAVE] = this._mouseleaveHandler, obj));\n    if (this._shouldAttachMouseMove()) {\n      bindEvents(element, (obj$1 = {}, obj$1[MOUSEMOVE] = this._mousemove, obj$1));\n    }\n    this.domEvents = DomEventsBuilder.create(this.element, {\n      start: this._start.bind(this),\n      move: this._move.bind(this),\n      end: this._end.bind(this),\n      tap: this._tap.bind(this),\n      gesturestart: this._gesturestart.bind(this),\n      gesturechange: this._gesturechange.bind(this),\n      gestureend: this._gestureend.bind(this)\n    });\n    this._toggleDragZoomEvents();\n  };\n  Chart.prototype._mouseleave = function _mouseleave(e) {\n    if (this._hoveredPoint) {\n      this._hoveredPoint.out(this, e);\n      this._hoveredPoint = null;\n    }\n    if (this._plotAreaHovered) {\n      this._plotAreaHovered = false;\n      this.trigger(PLOT_AREA_LEAVE);\n    }\n  };\n  Chart.prototype._cancelDomEvents = function _cancelDomEvents() {\n    if (this.domEvents && this.domEvents.cancel) {\n      this.domEvents.cancel();\n    }\n  };\n  Chart.prototype._gesturestart = function _gesturestart(e) {\n    if (this._mousewheelZoom && !this._stopChartHandlers(e)) {\n      this._gestureDistance = e.distance;\n      this._unsetActivePoint();\n      this.surface.suspendTracking();\n    }\n  };\n  Chart.prototype._gestureend = function _gestureend(e) {\n    if (this._zooming && !this._stopChartHandlers(e)) {\n      if (this.surface) {\n        this.surface.resumeTracking();\n      }\n      this._zooming = false;\n      this.trigger(ZOOM_END, {});\n    }\n  };\n  Chart.prototype._gesturechange = function _gesturechange(e) {\n    var mousewheelZoom = this._mousewheelZoom;\n    if (mousewheelZoom && !this._stopChartHandlers(e)) {\n      e.preventDefault();\n      var previousGestureDistance = this._gestureDistance;\n      var scaleDelta = -e.distance / previousGestureDistance + 1;\n      if (Math.abs(scaleDelta) >= 0.1) {\n        scaleDelta = Math.round(scaleDelta * 10);\n        this._gestureDistance = e.distance;\n        var args = {\n          delta: scaleDelta,\n          axisRanges: axisRanges(this._plotArea.axes),\n          originalEvent: e\n        };\n        if (this._zooming || !this.trigger(ZOOM_START, args)) {\n          var coords = this._eventCoordinates(e);\n          if (!this._zooming) {\n            this._zooming = true;\n          }\n          var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta, coords);\n          if (ranges && !this.trigger(ZOOM, args)) {\n            mousewheelZoom.zoom();\n          }\n        }\n      }\n    }\n  };\n  Chart.prototype._mouseout = function _mouseout(e) {\n    if (e.element) {\n      var element = this._drawingChartElement(e.element, e);\n      if (element && element.leave) {\n        element.leave(this, e.originalEvent);\n      }\n    }\n  };\n  Chart.prototype._start = function _start(e) {\n    var coords = this._eventCoordinates(e);\n    if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {\n      return;\n    }\n    if (this.requiresHandlers([DRAG_START, DRAG, DRAG_END])) {\n      this._startNavigation(e, coords, DRAG_START);\n    }\n    if (this._pannable && this._pannable.start(e)) {\n      this.surface.suspendTracking();\n      this._unsetActivePoint();\n      this._suppressHover = true;\n      this.chartService.panning = true;\n    }\n    if (this._zoomSelection) {\n      if (this._zoomSelection.start(e)) {\n        this.trigger(ZOOM_START, {\n          axisRanges: axisRanges(this._plotArea.axes),\n          originalEvent: e\n        });\n      }\n    }\n  };\n  Chart.prototype._move = function _move(e) {\n    var ref = this;\n    var state = ref._navState;\n    var pannable = ref._pannable;\n    if (this._stopChartHandlers(e)) {\n      return;\n    }\n    if (pannable) {\n      var ranges = pannable.move(e);\n      if (ranges && !this.trigger(DRAG, {\n        axisRanges: ranges,\n        originalEvent: e\n      })) {\n        pannable.pan();\n      }\n    } else if (state) {\n      var ranges$1 = {};\n      var axes = state.axes;\n      for (var i = 0; i < axes.length; i++) {\n        var currentAxis = axes[i];\n        var axisName = currentAxis.options.name;\n        if (axisName) {\n          var axis = currentAxis.options.vertical ? e.y : e.x;\n          var delta = axis.startLocation - axis.location;\n          if (delta !== 0) {\n            ranges$1[currentAxis.options.name] = currentAxis.translateRange(delta);\n          }\n        }\n      }\n      state.axisRanges = ranges$1;\n      this.trigger(DRAG, {\n        axisRanges: ranges$1,\n        originalEvent: e\n      });\n    }\n    if (this._zoomSelection) {\n      this._zoomSelection.move(e);\n    }\n  };\n  Chart.prototype._end = function _end(e) {\n    if (this._stopChartHandlers(e)) {\n      return;\n    }\n    var pannable = this._pannable;\n    if (pannable && pannable.end(e)) {\n      this.surface.resumeTracking();\n      this.trigger(DRAG_END, {\n        axisRanges: axisRanges(this._plotArea.axes),\n        originalEvent: e\n      });\n      this._suppressHover = false;\n      this.chartService.panning = false;\n    } else {\n      this._endNavigation(e, DRAG_END);\n    }\n    if (this._zoomSelection) {\n      var ranges = this._zoomSelection.end(e);\n      if (ranges && !this.trigger(ZOOM, {\n        axisRanges: ranges,\n        originalEvent: e\n      })) {\n        this._zoomSelection.zoom();\n        this.trigger(ZOOM_END, {\n          axisRanges: ranges,\n          originalEvent: e\n        });\n      }\n    }\n  };\n  Chart.prototype._stopChartHandlers = function _stopChartHandlers(e) {\n    var selections = this._selections || [];\n    if (!selections.length) {\n      return false;\n    }\n    var coords = this._eventCoordinates(e);\n    var pane = this._plotArea.paneByPoint(coords);\n    if (pane) {\n      for (var idx = 0; idx < selections.length; idx++) {\n        if (selections[idx].onPane(pane)) {\n          return true;\n        }\n      }\n    }\n  };\n  Chart.prototype._mousewheelZoomRate = function _mousewheelZoomRate() {\n    var zoomable = this.options.zoomable;\n    var mousewheel = (zoomable || {}).mousewheel || {};\n    return valueOrDefault(mousewheel.rate, MOUSEWHEEL_ZOOM_RATE);\n  };\n  Chart.prototype._mousewheel = function _mousewheel(e) {\n    var this$1 = this;\n    var delta = mousewheelDelta(e);\n    var mousewheelZoom = this._mousewheelZoom;\n    var coords = this._eventCoordinates(e);\n    if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {\n      return;\n    }\n    if (mousewheelZoom) {\n      var args = {\n        delta: delta,\n        axisRanges: axisRanges(this._plotArea.axes),\n        originalEvent: e\n      };\n      if (this._zooming || !this.trigger(ZOOM_START, args)) {\n        e.preventDefault();\n        if (!this._zooming) {\n          this._unsetActivePoint();\n          this.surface.suspendTracking();\n          this._zooming = true;\n        }\n        if (this._mwTimeout) {\n          clearTimeout(this._mwTimeout);\n        }\n        args.axisRanges = mousewheelZoom.updateRanges(delta, coords);\n        if (args.axisRanges && !this.trigger(ZOOM, args)) {\n          mousewheelZoom.zoom();\n        }\n        this._mwTimeout = setTimeout(function () {\n          this$1.trigger(ZOOM_END, args);\n          this$1._zooming = false;\n          if (this$1.surface) {\n            this$1.surface.resumeTracking();\n          }\n        }, MOUSEWHEEL_DELAY);\n      }\n    } else {\n      var state = this._navState;\n      if (!state) {\n        var prevented = this._startNavigation(e, coords, ZOOM_START);\n        if (!prevented) {\n          state = this._navState;\n        }\n      }\n      if (state) {\n        var totalDelta = state.totalDelta || delta;\n        state.totalDelta = totalDelta + delta;\n        var axes = this._navState.axes;\n        var ranges = {};\n        for (var i = 0; i < axes.length; i++) {\n          var currentAxis = axes[i];\n          var axisName = currentAxis.options.name;\n          if (axisName) {\n            ranges[axisName] = currentAxis.scaleRange(-totalDelta * this$1._mousewheelZoomRate(), coords);\n          }\n        }\n        this.trigger(ZOOM, {\n          delta: delta,\n          axisRanges: ranges,\n          originalEvent: e\n        });\n        if (this._mwTimeout) {\n          clearTimeout(this._mwTimeout);\n        }\n        this._mwTimeout = setTimeout(function () {\n          this$1._endNavigation(e, ZOOM_END);\n        }, MOUSEWHEEL_DELAY);\n      }\n    }\n  };\n  Chart.prototype._startNavigation = function _startNavigation(e, coords, chartEvent) {\n    var plotArea = this._model._plotArea;\n    var pane = plotArea.findPointPane(coords);\n    var axes = plotArea.axes.slice(0);\n    if (!pane) {\n      return;\n    }\n    var ranges = axisRanges(axes);\n    var prevented = this.trigger(chartEvent, {\n      axisRanges: ranges,\n      originalEvent: e\n    });\n    if (prevented) {\n      this._cancelDomEvents();\n    } else {\n      this._suppressHover = true;\n      this._unsetActivePoint();\n      this._navState = {\n        axisRanges: ranges,\n        pane: pane,\n        axes: axes\n      };\n    }\n  };\n  Chart.prototype._endNavigation = function _endNavigation(e, chartEvent) {\n    if (this._navState) {\n      this.trigger(chartEvent, {\n        axisRanges: this._navState.axisRanges,\n        originalEvent: e\n      });\n      this._suppressHover = false;\n      this._navState = null;\n    }\n  };\n  Chart.prototype._getChartElement = function _getChartElement(e, match) {\n    var element = this.surface.eventTarget(e);\n    if (element) {\n      return this._drawingChartElement(element, e, match);\n    }\n  };\n  Chart.prototype._drawingChartElement = function _drawingChartElement(element, e, match) {\n    var current = element;\n    var chartElement;\n    while (current && !chartElement) {\n      chartElement = current.chartElement;\n      current = current.parent;\n    }\n    if (chartElement) {\n      if (chartElement.aliasFor) {\n        chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));\n      }\n      if (match) {\n        chartElement = chartElement.closest(match);\n        if (chartElement && chartElement.aliasFor) {\n          chartElement = chartElement.aliasFor();\n        }\n      }\n      return chartElement;\n    }\n  };\n  Chart.prototype._eventCoordinates = function _eventCoordinates(e) {\n    var coordinates = eventCoordinates(e);\n    return this._toModelCoordinates(coordinates.x, coordinates.y);\n  };\n  Chart.prototype._elementPadding = function _elementPadding() {\n    if (!this._padding) {\n      var ref = elementStyles(this.element, [\"paddingLeft\", \"paddingTop\"]);\n      var paddingLeft = ref.paddingLeft;\n      var paddingTop = ref.paddingTop;\n      this._padding = {\n        top: paddingTop,\n        left: paddingLeft\n      };\n    }\n    return this._padding;\n  };\n  Chart.prototype._toDocumentCoordinates = function _toDocumentCoordinates(point) {\n    var padding = this._elementPadding();\n    var offset = elementOffset(this.element);\n    return {\n      left: round(point.x + padding.left + offset.left),\n      top: round(point.y + padding.top + offset.top)\n    };\n  };\n\n  // TODO: Breaking change due to peer version change\n  // Reuse by exposing _surfacePoint on Surface\n  Chart.prototype._toModelCoordinates = function _toModelCoordinates(clientX, clientY) {\n    var element = this.element;\n    var offset = elementOffset(element);\n    var padding = this._elementPadding();\n    var inverseTransform = elementScale(element).invert();\n    var point = new geometry.Point(clientX - offset.left - padding.left, clientY - offset.top - padding.top).transform(inverseTransform);\n    return new Point(point.x, point.y);\n  };\n  Chart.prototype._tap = function _tap(e) {\n    var this$1 = this;\n    var drawingElement = this.surface.eventTarget(e);\n    var element = this._drawingChartElement(drawingElement, e);\n    var sharedTooltip = this._sharedTooltip();\n    if (!this._startHover(drawingElement, e) && !sharedTooltip) {\n      this._unsetActivePoint();\n    }\n    if (sharedTooltip) {\n      this._trackSharedTooltip(this._eventCoordinates(e), e, true);\n    }\n    this._propagateClick(element, e);\n\n    //part of fix for hover issue on windows touch\n    this.handlingTap = true;\n    setTimeout(function () {\n      this$1.handlingTap = false;\n    }, 0);\n  };\n  Chart.prototype._click = function _click(e) {\n    var element = this._getChartElement(e);\n    this._propagateClick(element, e);\n  };\n  Chart.prototype._propagateClick = function _propagateClick(element, e) {\n    var this$1 = this;\n    var current = element;\n    while (current) {\n      if (current.click) {\n        current.click(this$1, e);\n      }\n      current = current.parent;\n    }\n  };\n  Chart.prototype._startHover = function _startHover(element, e) {\n    if (this._suppressHover) {\n      return false;\n    }\n    var point = this._drawingChartElement(element, e, function (element) {\n      return (element.hover || element.over) && !(element instanceof PlotAreaBase);\n    });\n    var activePoint = this._activePoint;\n    var multipleSeries = this._plotArea.series.length > 1;\n    var hasInactiveOpacity = this._hasInactiveOpacity();\n    this._updateHoveredPoint(point, e);\n    if (point && activePoint !== point && point.hover) {\n      this._activePoint = point;\n      if (!this._sharedTooltip() && !point.hover(this, e)) {\n        this._displayTooltip(point);\n        if (hasInactiveOpacity) {\n          this._displayInactiveOpacity(point, multipleSeries);\n        } else {\n          this._highlight.show(point);\n        }\n      }\n    } else if (!point && hasInactiveOpacity) {\n      if (multipleSeries && this._activeChartInstance) {\n        this._updateSeriesOpacity(point, true);\n        this._applySeriesOpacity(this._activeChartInstance.children, null, true);\n        this._activeChartInstance = null;\n      }\n      this._highlight && this._highlight.hide();\n      this._activePoint = null;\n    }\n    return point;\n  };\n  Chart.prototype._displayTooltip = function _displayTooltip(point) {\n    var tooltipOptions = deepExtend({}, this.options.tooltip, point.options.tooltip);\n    if (tooltipOptions.visible) {\n      this._tooltip.show(point);\n    }\n  };\n  Chart.prototype._displayInactiveOpacity = function _displayInactiveOpacity(activePoint, multipleSeries, highlightPoints) {\n    var chartInstance = this._activeChartInstance = this._chartInstanceFromPoint(activePoint);\n    if (!chartInstance) {\n      return;\n    }\n    if (multipleSeries) {\n      this._updateSeriesOpacity(activePoint);\n      this._applySeriesOpacity(chartInstance.children, null, true);\n      this._applySeriesOpacity(chartInstance.children, activePoint.series);\n      this._highlight.show(highlightPoints || activePoint);\n    } else {\n      var inactivePoints;\n      if (!chartInstance.supportsPointInactiveOpacity()) {\n        this._highlight.show(activePoint);\n        return;\n      }\n      inactivePoints = this._getInactivePoints(activePoint, chartInstance);\n      if (inactivePoints && inactivePoints.length) {\n        this._highlight.show(inactivePoints, 1 - this._getInactiveOpacityForSeries(activePoint.series));\n      }\n    }\n  };\n  Chart.prototype._getInactivePoints = function _getInactivePoints(activePoint, chartInstance) {\n    var allPoints = this._getAllPointsOfType(chartInstance, activePoint.constructor);\n    return allPoints.filter(function (point) {\n      return point !== activePoint;\n    });\n  };\n  Chart.prototype._getAllPointsOfType = function _getAllPointsOfType(container, type) {\n    var this$1 = this;\n    var points = [];\n    for (var i = 0; i < container.children.length; i++) {\n      var element = container.children[i];\n      if (element.constructor === type) {\n        points.push(element);\n      } else if (element.children && element.children.length) {\n        points = points.concat(this$1._getAllPointsOfType(element, type));\n      }\n    }\n    return points;\n  };\n  Chart.prototype._updateHoveredPoint = function _updateHoveredPoint(point, e) {\n    var hoveredPoint = this._hoveredPoint;\n    if (hoveredPoint && hoveredPoint !== point) {\n      hoveredPoint.out(this, e);\n      this._hoveredPoint = null;\n    }\n    if (point && hoveredPoint !== point && point.over) {\n      this._hoveredPoint = point;\n      point.over(this, e);\n    }\n  };\n  Chart.prototype._updateSeriesOpacity = function _updateSeriesOpacity(point, resetOpacity) {\n    var this$1 = this;\n    var plotArea = this._plotArea;\n    var length = plotArea.series.length;\n    for (var i = 0; i < length; i++) {\n      var currSeries = plotArea.series[i];\n      var defaultOpacity = this$1._getDefaultOpacityForSeries(currSeries);\n      var inactiveOpacity = this$1._getInactiveOpacityForSeries(currSeries);\n      if (!resetOpacity && currSeries !== point.series) {\n        currSeries.defaultOpacity = defaultOpacity;\n        currSeries.opacity = inactiveOpacity;\n        if (currSeries.line) {\n          currSeries.line.opacity = inactiveOpacity;\n        }\n      } else {\n        currSeries.opacity = defaultOpacity;\n        if (currSeries.line) {\n          currSeries.line.opacity = defaultOpacity;\n        }\n      }\n    }\n  };\n  Chart.prototype._applySeriesOpacity = function _applySeriesOpacity(elements, activeSeries, reset, series) {\n    var this$1 = this;\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var currSeries = element.series || series;\n      var shouldHighlight = currSeries && (currSeries.highlight || {}).visible;\n      if (shouldHighlight && element.visual) {\n        var opacity = series ? series.opacity : element.series.opacity;\n        if (currSeries !== activeSeries || reset) {\n          element.visual.opacity(reset ? 1 : opacity);\n        }\n      }\n      if (element.children && element.children.length) {\n        this$1._applySeriesOpacity(element.children, activeSeries, reset, element.series);\n      }\n    }\n  };\n  Chart.prototype._chartInstanceFromPoint = function _chartInstanceFromPoint(point) {\n    var chartInstance = point.parent;\n    while (chartInstance && !chartInstance.plotArea) {\n      chartInstance = chartInstance.parent;\n    }\n    return chartInstance;\n  };\n  Chart.prototype._hasInactiveOpacity = function _hasInactiveOpacity() {\n    var hasDefaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity !== undefined;\n    var hasInactiveOpacity = this.options.series.filter(function (s) {\n      return s.highlight.inactiveOpacity !== undefined;\n    }).length > 0;\n    return hasDefaultInactiveOpacity || hasInactiveOpacity;\n  };\n  Chart.prototype._getInactiveOpacityForSeries = function _getInactiveOpacityForSeries(series) {\n    var defaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity;\n    var seriesInactiveOpacity = series.highlight.inactiveOpacity;\n    return seriesInactiveOpacity || defaultInactiveOpacity || series.opacity || DEFAULT_SERIES_OPACITY;\n  };\n  Chart.prototype._getDefaultOpacityForSeries = function _getDefaultOpacityForSeries(series) {\n    return series.defaultOpacity || series.opacity || DEFAULT_SERIES_OPACITY;\n  };\n  Chart.prototype._mouseover = function _mouseover(e) {\n    var obj;\n    var point = this._startHover(e.element, e.originalEvent);\n    if (point && point.tooltipTracking && !this._mouseMoveTrackHandler && !this._sharedTooltip()) {\n      this._mouseMoveTrackHandler = this._mouseMoveTracking.bind(this);\n      bindEvents(document, (obj = {}, obj[MOUSEMOVE] = this._mouseMoveTrackHandler, obj));\n    }\n  };\n  Chart.prototype._mouseMoveTracking = function _mouseMoveTracking(e) {\n    var obj;\n    var ref = this;\n    var options = ref.options;\n    var tooltip = ref._tooltip;\n    var highlight = ref._highlight;\n    var point = ref._activePoint;\n    var coords = this._eventCoordinates(e);\n    if (this._plotArea.box.containsPoint(coords)) {\n      if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {\n        var seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);\n        if (seriesPoint && seriesPoint !== point) {\n          this._activePoint = seriesPoint;\n          if (!seriesPoint.hover(this, e)) {\n            var tooltipOptions = deepExtend({}, options.tooltip, seriesPoint.options.tooltip);\n            if (tooltipOptions.visible) {\n              tooltip.show(seriesPoint);\n            }\n            highlight.show(seriesPoint);\n          }\n        }\n      }\n    } else {\n      unbindEvents(document, (obj = {}, obj[MOUSEMOVE] = this._mouseMoveTrackHandler, obj));\n      this._unsetActivePoint();\n      this._mouseMoveTrackHandler = null;\n    }\n  };\n  Chart.prototype._mousemove = function _mousemove(e) {\n    var coords = this._eventCoordinates(e);\n    var plotArea = this._plotArea;\n    this._trackCrosshairs(coords);\n    if (plotArea.hover) {\n      var overPlotArea = plotArea.backgroundContainsPoint(coords);\n      if (overPlotArea) {\n        this._plotAreaHovered = true;\n        this._plotArea.hover(this, e);\n      } else if (this._plotAreaHovered && !overPlotArea) {\n        this._plotAreaHovered = false;\n        this.trigger(PLOT_AREA_LEAVE);\n      }\n    }\n    if (this._sharedTooltip()) {\n      this._trackSharedTooltip(coords, e);\n    }\n  };\n  Chart.prototype._trackCrosshairs = function _trackCrosshairs(coords) {\n    var crosshairs = this._plotArea.crosshairs;\n    for (var i = 0; i < crosshairs.length; i++) {\n      var current = crosshairs[i];\n      if (current.box.containsPoint(coords)) {\n        current.showAt(coords);\n      } else {\n        current.hide();\n      }\n    }\n  };\n  Chart.prototype._trackSharedTooltip = function _trackSharedTooltip(coords, e, toggle) {\n    if (this._suppressHover) {\n      return;\n    }\n    var ref = this;\n    var tooltipOptions = ref.options.tooltip;\n    var plotArea = ref._plotArea;\n    var categoryAxis = ref._plotArea.categoryAxis;\n    var tooltip = ref._tooltip;\n    var highlight = ref._highlight;\n    if (plotArea.backgroundContainsPoint(coords)) {\n      var index = categoryAxis.pointCategoryIndex(coords);\n      if (index !== this._tooltipCategoryIx || !this._sharedHighlight && toggle) {\n        var points = plotArea.pointsByCategoryIndex(index);\n        var pointArgs = points.map(function (point) {\n          return point.eventArgs(e);\n        });\n        var hoverArgs = pointArgs[0] || {};\n        hoverArgs.categoryPoints = pointArgs;\n        if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {\n          if (tooltipOptions.visible) {\n            tooltip.showAt(points, coords);\n          }\n          highlight.show(points);\n          this._sharedHighlight = true;\n        } else {\n          tooltip.hide();\n        }\n        this._tooltipCategoryIx = index;\n      } else if (toggle && this._sharedHighlight) {\n        highlight.hide();\n        tooltip.hide();\n        this._sharedHighlight = false;\n      }\n    } else if (this._sharedHighlight) {\n      highlight.hide();\n      tooltip.hide();\n      this._tooltipCategoryIx = null;\n      this._sharedHighlight = false;\n    }\n  };\n  Chart.prototype.hideElements = function hideElements(options) {\n    var plotArea = this._plotArea;\n    this._mousemove.cancel();\n    plotArea.hideCrosshairs();\n    this._unsetActivePoint(options);\n  };\n  Chart.prototype._unsetActivePoint = function _unsetActivePoint(options) {\n    var ref = this;\n    var tooltip = ref._tooltip;\n    var highlight = ref._highlight;\n    this._activePoint = null;\n    this._hoveredPoint = null;\n    if (tooltip && !(options && options.keepTooltipOpen)) {\n      tooltip.hide();\n    }\n    this._tooltipCategoryIx = null;\n    this._sharedHighlight = false;\n    if (highlight) {\n      highlight.hide();\n    }\n  };\n  Chart.prototype._deferRedraw = function _deferRedraw() {\n    this._redraw();\n  };\n  Chart.prototype._clearRedrawTimeout = function _clearRedrawTimeout() {\n    if (this._redrawTimeout) {\n      clearInterval(this._redrawTimeout);\n      this._redrawTimeout = null;\n    }\n  };\n  Chart.prototype.bindCategories = function bindCategories() {\n    var this$1 = this;\n    var options = this.options;\n    var definitions = [].concat(options.categoryAxis);\n    for (var axisIx = 0; axisIx < definitions.length; axisIx++) {\n      var axis = definitions[axisIx];\n      if (axis.autoBind !== false) {\n        this$1.bindCategoryAxisFromSeries(axis, axisIx);\n      }\n    }\n  };\n  Chart.prototype.bindCategoryAxisFromSeries = function bindCategoryAxisFromSeries(axis, axisIx) {\n    var this$1 = this;\n    var series = this.options.series;\n    var seriesLength = series.length;\n    var uniqueCategories = new HashMap(); //perf improvement in case type category with dates\n    var items = [];\n    var bindable = false;\n    var dateAxis;\n    for (var seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n      var s = series[seriesIx];\n      var onAxis = s.categoryAxis === axis.name || !s.categoryAxis && axisIx === 0;\n      var data = s.data;\n      var dataLength = data.length;\n      var bind = s.categoryField && onAxis;\n      bindable = bind || bindable;\n      if (bind && dataLength > 0) {\n        dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));\n        var getFn = dateAxis ? getDateField : getField;\n        for (var dataIx = 0; dataIx < dataLength; dataIx++) {\n          var dataRow = data[dataIx];\n          var category = getFn(s.categoryField, dataRow, this$1.chartService.intl);\n          if (dateAxis || !uniqueCategories.get(category)) {\n            items.push([category, dataRow]);\n            if (!dateAxis) {\n              uniqueCategories.set(category, true);\n            }\n          }\n        }\n      }\n    }\n    if (items.length > 0) {\n      if (dateAxis) {\n        items = uniqueDates(items, function (a, b) {\n          return dateComparer(a[0], b[0]);\n        });\n      }\n      var result = transpose(items);\n      axis.categories = result[0];\n    } else if (bindable) {\n      axis.categories = [];\n    }\n  };\n  Chart.prototype._isBindable = function _isBindable(series) {\n    var valueFields = SeriesBinder.current.valueFields(series);\n    var result = true;\n    for (var i = 0; i < valueFields.length; i++) {\n      var field = valueFields[i];\n      if (field === VALUE) {\n        field = \"field\";\n      } else {\n        field = field + \"Field\";\n      }\n      if (!defined(series[field])) {\n        result = false;\n        break;\n      }\n    }\n    return result;\n  };\n  Chart.prototype._noTransitionsRedraw = function _noTransitionsRedraw() {\n    var options = this.options;\n    var transitionsState;\n    if (options.transitions !== false) {\n      options.transitions = false;\n      transitionsState = true;\n    }\n    this._redraw();\n    if (transitionsState) {\n      options.transitions = true;\n    }\n  };\n  Chart.prototype._legendItemHover = function _legendItemHover(seriesIndex, pointIndex) {\n    var ref = this;\n    var plotArea = ref._plotArea;\n    var highlight = ref._highlight;\n    var currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];\n    var items;\n    if (inArray(currentSeries.type, [PIE, DONUT, FUNNEL])) {\n      items = plotArea.findPoint(function (point) {\n        return point.series.index === seriesIndex && point.index === pointIndex;\n      });\n    } else {\n      items = plotArea.pointsBySeriesIndex(seriesIndex);\n    }\n    if (this._hasInactiveOpacity() && currentSeries.visible && items) {\n      var multipleSeries = plotArea.series.length > 1;\n      var point = items.length ? items[0] : items;\n      this._displayInactiveOpacity(point, multipleSeries, items);\n    } else {\n      highlight.show(items);\n    }\n  };\n  Chart.prototype._shouldAttachMouseMove = function _shouldAttachMouseMove() {\n    return this._plotArea.crosshairs.length || this._tooltip && this._sharedTooltip() || this.requiresHandlers([PLOT_AREA_HOVER, PLOT_AREA_LEAVE]);\n  };\n  Chart.prototype.updateMouseMoveHandler = function updateMouseMoveHandler() {\n    var obj, obj$1;\n    unbindEvents(this.element, (obj = {}, obj[MOUSEMOVE] = this._mousemove, obj));\n    if (this._shouldAttachMouseMove()) {\n      bindEvents(this.element, (obj$1 = {}, obj$1[MOUSEMOVE] = this._mousemove, obj$1));\n    }\n  };\n  Chart.prototype.applyOptions = function applyOptions(options, theme) {\n    clearMissingValues(this._originalOptions, options);\n    this._originalOptions = deepExtend(this._originalOptions, options);\n    this.options = deepExtend({}, this._originalOptions);\n    if (theme) {\n      this._theme = theme;\n      this.chartService.theme = theme;\n    }\n    this._initTheme(this.options, this._theme);\n    this._toggleDragZoomEvents();\n  };\n  Chart.prototype.setOptions = function setOptions(options, theme) {\n    this.applyOptions(options, theme);\n    this.bindCategories();\n    this.redraw();\n    this.updateMouseMoveHandler();\n  };\n  Chart.prototype.setDirection = function setDirection(rtl) {\n    this.chartService.rtl = Boolean(rtl);\n    if (this.surface && this.surface.type === 'svg') {\n      this._destroySurface();\n    }\n  };\n  Chart.prototype.setIntlService = function setIntlService(intl) {\n    this.chartService.intl = intl;\n  };\n  Chart.prototype.noTransitionsRedraw = function noTransitionsRedraw() {\n    this._noTransitionsRedraw();\n  };\n  Chart.prototype.destroy = function destroy() {\n    var obj, obj$1;\n    this._destroyed = true;\n    unbindEvents(this.element, (obj = {}, obj[CONTEXTMENU] = this._clickHandler, obj[MOUSEWHEEL] = this._mousewheelHandler, obj[MOUSEMOVE] = this._mousemove, obj[MOUSELEAVE] = this._mouseleaveHandler, obj));\n    if (this.domEvents) {\n      this.domEvents.destroy();\n      delete this.domEvents;\n    }\n    if (this._mouseMoveTrackHandler) {\n      unbindEvents(document, (obj$1 = {}, obj$1[MOUSEMOVE] = this._mouseMoveTrackHandler, obj$1));\n    }\n    this._destroyView();\n    this._destroySurface();\n    this._clearRedrawTimeout();\n  };\n  Chart.prototype._destroySurface = function _destroySurface() {\n    var surface = this.surface;\n    if (surface) {\n      surface.unbind(\"mouseenter\", this._surfaceMouseenterHandler);\n      surface.unbind(\"mouseleave\", this._surfaceMouseleaveHandler);\n      surface.destroy();\n      this.surface = null;\n    }\n  };\n  Chart.prototype._destroySelections = function _destroySelections() {\n    var selections = this._selections;\n    if (selections) {\n      while (selections.length > 0) {\n        selections.shift().destroy();\n      }\n    }\n  };\n  Chart.prototype._destroyView = function _destroyView() {\n    var model = this._model;\n    if (model) {\n      model.destroy();\n      this._model = null;\n    }\n    this._unsetActivePoint();\n    this._destroySelections();\n    if (this._tooltip) {\n      this._tooltip.destroy();\n    }\n    if (this._highlight) {\n      this._highlight.destroy();\n    }\n    if (this._zoomSelection) {\n      this._zoomSelection.destroy();\n      delete this._zoomSelection;\n    }\n    if (this._pannable) {\n      this._pannable.destroy();\n      delete this._pannable;\n    }\n    if (this._mousewheelZoom) {\n      this._mousewheelZoom.destroy();\n      delete this._mousewheelZoom;\n    }\n  };\n  return Chart;\n}(Class);\nfunction resolveAxisAliases(options) {\n  var aliases = AXIS_NAMES;\n  for (var idx = 0; idx < aliases.length; idx++) {\n    var alias = aliases[idx] + \"Axes\";\n    if (options[alias]) {\n      options[aliases[idx] + \"Axis\"] = options[alias];\n      delete options[alias];\n    }\n  }\n}\nfunction pointByCategoryName(points, name) {\n  if (points) {\n    for (var idx = 0; idx < points.length; idx++) {\n      if (points[idx].category === name) {\n        return [points[idx]];\n      }\n    }\n  }\n}\nfunction applyAxisDefaults(options, themeOptions) {\n  var themeAxisDefaults = (themeOptions || {}).axisDefaults || {};\n  var axisName, axisDefaults, axes;\n  function mapAxisOptions(axisOptions) {\n    var axisColor = (axisOptions || {}).color || axisDefaults.color;\n    var result = deepExtend({}, themeAxisDefaults, themeAxisDefaults[axisName], axisDefaults, axisDefaults[axisName], {\n      line: {\n        color: axisColor\n      },\n      labels: {\n        color: axisColor\n      },\n      title: {\n        color: axisColor\n      }\n    }, axisOptions);\n    delete result[axisName];\n    return result;\n  }\n  for (var idx = 0; idx < AXIS_NAMES.length; idx++) {\n    axisName = AXIS_NAMES[idx] + \"Axis\";\n    axisDefaults = options.axisDefaults || {};\n    axes = [].concat(options[axisName]);\n    axes = axes.map(mapAxisOptions);\n    options[axisName] = axes.length > 1 ? axes : axes[0];\n  }\n}\nfunction applySeriesDefaults(options, themeOptions) {\n  var series = options.series;\n  var seriesLength = series.length;\n  var seriesDefaults = options.seriesDefaults;\n  var commonDefaults = deepExtend({}, options.seriesDefaults);\n  var themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {};\n  var commonThemeDefaults = deepExtend({}, themeSeriesDefaults);\n  cleanupNestedSeriesDefaults(commonDefaults);\n  cleanupNestedSeriesDefaults(commonThemeDefaults);\n  for (var i = 0; i < seriesLength; i++) {\n    var seriesType = series[i].type || options.seriesDefaults.type;\n    var baseOptions = deepExtend({\n      data: []\n    }, commonThemeDefaults, themeSeriesDefaults[seriesType], {\n      tooltip: options.tooltip\n    }, commonDefaults, seriesDefaults[seriesType]);\n    series[i]._defaults = baseOptions;\n    series[i] = deepExtend({}, baseOptions, series[i]);\n    series[i].data = series[i].data || [];\n  }\n}\nfunction cleanupNestedSeriesDefaults(seriesDefaults) {\n  delete seriesDefaults.bar;\n  delete seriesDefaults.column;\n  delete seriesDefaults.rangeColumn;\n  delete seriesDefaults.line;\n  delete seriesDefaults.verticalLine;\n  delete seriesDefaults.pie;\n  delete seriesDefaults.donut;\n  delete seriesDefaults.area;\n  delete seriesDefaults.verticalArea;\n  delete seriesDefaults.scatter;\n  delete seriesDefaults.scatterLine;\n  delete seriesDefaults.bubble;\n  delete seriesDefaults.candlestick;\n  delete seriesDefaults.ohlc;\n  delete seriesDefaults.boxPlot;\n  delete seriesDefaults.bullet;\n  delete seriesDefaults.verticalBullet;\n  delete seriesDefaults.polarArea;\n  delete seriesDefaults.polarLine;\n  delete seriesDefaults.radarArea;\n  delete seriesDefaults.radarLine;\n  delete seriesDefaults.waterfall;\n}\nfunction axisRanges(axes) {\n  var ranges = {};\n  for (var i = 0; i < axes.length; i++) {\n    var axis = axes[i];\n    var axisName = axis.options.name;\n    if (axisName) {\n      ranges[axisName] = axis.range();\n    }\n  }\n  return ranges;\n}\nfunction sortDates(dates, comparer) {\n  if (comparer === void 0) comparer = dateComparer;\n  for (var i = 1, length = dates.length; i < length; i++) {\n    if (comparer(dates[i], dates[i - 1]) < 0) {\n      dates.sort(comparer);\n      break;\n    }\n  }\n  return dates;\n}\nfunction uniqueDates(srcDates, comparer) {\n  if (comparer === void 0) comparer = dateComparer;\n  var dates = sortDates(srcDates, comparer);\n  var length = dates.length;\n  var result = length > 0 ? [dates[0]] : [];\n  for (var i = 1; i < length; i++) {\n    if (comparer(dates[i], last(result)) !== 0) {\n      result.push(dates[i]);\n    }\n  }\n  return result;\n}\nfunction transpose(rows) {\n  var rowCount = rows.length;\n  var result = [];\n  for (var rowIx = 0; rowIx < rowCount; rowIx++) {\n    var row = rows[rowIx];\n    var colCount = row.length;\n    for (var colIx = 0; colIx < colCount; colIx++) {\n      result[colIx] = result[colIx] || [];\n      result[colIx].push(row[colIx]);\n    }\n  }\n  return result;\n}\nvar DATA_FIELDS = ['data', 'categories'];\nfunction clearMissingValues(originalOptions, options) {\n  for (var field in options) {\n    if (!inArray(field, DATA_FIELDS) && options.hasOwnProperty(field)) {\n      var fieldValue = options[field];\n      var originalValue = originalOptions[field];\n      if (defined(originalValue)) {\n        var nullValue = fieldValue === null;\n        if (nullValue || !defined(fieldValue)) {\n          delete originalOptions[field];\n          if (nullValue) {\n            delete options[field];\n          }\n        } else if (originalValue && isObject(fieldValue)) {\n          if (isObject(originalValue)) {\n            clearMissingValues(originalValue, fieldValue);\n          }\n        }\n      }\n    }\n  }\n}\nfunction triggerPaneRender(panes) {\n  for (var idx = 0; idx < panes.length; idx++) {\n    panes[idx].notifyRender();\n  }\n}\nsetDefaultOptions(Chart, {\n  renderAs: \"\",\n  chartArea: {},\n  legend: {\n    visible: true,\n    labels: {}\n  },\n  categoryAxis: {},\n  seriesDefaults: {\n    type: COLUMN,\n    data: [],\n    highlight: {\n      visible: true\n    },\n    labels: {},\n    negativeValues: {\n      visible: false\n    }\n  },\n  series: [],\n  seriesColors: null,\n  tooltip: {\n    visible: false\n  },\n  transitions: true,\n  valueAxis: {},\n  plotArea: {},\n  title: {},\n  xAxis: {},\n  yAxis: {},\n  panes: [{}],\n  pannable: false,\n  zoomable: false\n});\nexport default Chart;","map":{"version":3,"names":["drawing","draw","throttle","geometry","RootElement","Title","CategoryAxis","Point","Highlight","Pannable","ZoomSelection","MousewheelZoom","Legend","PlotAreaFactory","Selection","SeriesBinder","Tooltip","SharedTooltip","CategoricalPlotArea","PlotAreaBase","ChartService","DomEventsBuilder","getField","isDateAxis","getDateField","ChartPane","ChartPlotArea","findAxisByName","X","Y","VALUE","DEFAULT_WIDTH","DEFAULT_HEIGHT","DEFAULT_SERIES_OPACITY","addClass","Class","setDefaultOptions","deepExtend","defined","find","isObject","isFunction","elementSize","elementOffset","elementScale","elementStyles","eventCoordinates","bindEvents","unbindEvents","mousewheelDelta","FontLoader","inArray","last","round","HashMap","valueOrDefault","dateComparer","DRAG_START","DRAG","DRAG_END","ZOOM_START","ZOOM","ZOOM_END","SELECT_START","SELECT","SELECT_END","PLOT_AREA_HOVER","PLOT_AREA_LEAVE","RENDER","CATEGORY","PIE","DONUT","FUNNEL","COLUMN","MOUSEWHEEL","MOUSEWHEEL_DELAY","MOUSEWHEEL_ZOOM_RATE","SHOW_TOOLTIP","SERIES_HOVER","AXIS_NAMES","MOUSEMOVE","CONTEXTMENU","MOUSELEAVE","MOUSEMOVE_DELAY","Chart","element","userOptions","themeOptions","context","this$1","call","observers","addObserver","observer","chartService","theme","_initElement","options","_originalOptions","_theme","_initTheme","_initHandlers","_initSurface","bindCategories","preloadFonts","fontLoaded","_destroyed","trigger","_redraw","_attachEvents","__proto__","prototype","Object","create","constructor","_setElementClass","style","position","firstChild","removeChild","seriesCopies","series","i","length","push","assign","resolveAxisAliases","applyDefaults","seriesColors","applySeriesColors","getSize","chartArea","width","parseInt","Math","floor","offsetWidth","height","offsetHeight","resize","force","size","currentSize","_size","hasSize","_resize","_selections","s","visible","_destroySelections","_setupSelection","_noTransitionsRedraw","redraw","paneName","plotArea","_model","_plotArea","pane","findPane","getAxis","name","axes","findPaneByName","panes","idx","findPaneByIndex","toggleHighlight","show","filter","firstSeries","srcSeries","points","filterPoints","seriesName","categoryName","category","type","pointByCategoryName","pointsBySeriesName","charts","togglePointsHighlight","highlight","_highlight","togglePointHighlight","showTooltip","shared","_sharedTooltip","ref","tooltip","_tooltip","point","categoryIndex","findPoint","categoryIx","categoryAxis","pointsByCategoryIndex","showAt","hideTooltip","hide","surface","wrap","_surfaceWrap","renderAs","_destroySurface","Surface","bind","_surfaceMouseenterHandler","_surfaceMouseleaveHandler","clear","model","_getModel","_destroyView","renderVisual","transitions","traverse","animation","setup","visual","play","_createTooltip","_createPannable","_createZoomSelection","_createMousewheelZoom","triggerPaneRender","_navState","_cancelDomEvents","exportVisual","exportOptions","currentOptions","clearMissingValues","pannable","_pannable","zoomable","selection","_zoomSelection","mousewheel","_mousewheelZoom","_toggleDragZoomEvents","allowDrag","requiresHandlers","allowZoom","_dragZoomEnabled","touchAction","_touchAction","_toggleDomEvents","drag","zoom","domEvents","toggleDrag","toggleZoom","tooltipOptions","_createSharedTooltip","applyAxisDefaults","applySeriesDefaults","colors","currentSeries","seriesColor","defaults","_defaults","color","_createPlotArea","_modelOptions","chart","title","buildTitle","subtitle","align","append","apply","orderTitles","legend","reflow","skipSeries","current","selections","axis","select","vertical","range","min","max","_selectStart","e","_select","_selectEnd","_clickHandler","_click","_mousewheelHandler","_mousewheel","_mouseleaveHandler","_mouseleave","_mouseover","_mouseout","_mousemove","removeObserver","index","indexOf","splice","eventNames","args","anchor","_toDocumentCoordinates","sender","isDefaultPrevented","obj","obj$1","_shouldAttachMouseMove","start","_start","move","_move","end","_end","tap","_tap","gesturestart","_gesturestart","gesturechange","_gesturechange","gestureend","_gestureend","_hoveredPoint","out","_plotAreaHovered","cancel","_stopChartHandlers","_gestureDistance","distance","_unsetActivePoint","suspendTracking","_zooming","resumeTracking","mousewheelZoom","preventDefault","previousGestureDistance","scaleDelta","abs","delta","axisRanges","originalEvent","coords","_eventCoordinates","ranges","updateRanges","_drawingChartElement","leave","backgroundContainsPoint","_startNavigation","_suppressHover","panning","state","pan","ranges$1","currentAxis","axisName","y","x","startLocation","location","translateRange","_endNavigation","paneByPoint","onPane","_mousewheelZoomRate","rate","_mwTimeout","clearTimeout","setTimeout","prevented","totalDelta","scaleRange","chartEvent","findPointPane","slice","_getChartElement","match","eventTarget","chartElement","parent","aliasFor","closest","coordinates","_toModelCoordinates","_elementPadding","_padding","paddingLeft","paddingTop","top","left","padding","offset","clientX","clientY","inverseTransform","invert","transform","drawingElement","sharedTooltip","_startHover","_trackSharedTooltip","_propagateClick","handlingTap","click","hover","over","activePoint","_activePoint","multipleSeries","hasInactiveOpacity","_hasInactiveOpacity","_updateHoveredPoint","_displayTooltip","_displayInactiveOpacity","_activeChartInstance","_updateSeriesOpacity","_applySeriesOpacity","children","highlightPoints","chartInstance","_chartInstanceFromPoint","inactivePoints","supportsPointInactiveOpacity","_getInactivePoints","_getInactiveOpacityForSeries","allPoints","_getAllPointsOfType","container","concat","hoveredPoint","resetOpacity","currSeries","defaultOpacity","_getDefaultOpacityForSeries","inactiveOpacity","opacity","line","elements","activeSeries","reset","shouldHighlight","hasDefaultInactiveOpacity","seriesDefaults","undefined","defaultInactiveOpacity","seriesInactiveOpacity","tooltipTracking","_mouseMoveTrackHandler","_mouseMoveTracking","document","box","containsPoint","getNearestPoint","seriesPoint","seriesIx","_trackCrosshairs","overPlotArea","crosshairs","toggle","pointCategoryIndex","_tooltipCategoryIx","_sharedHighlight","pointArgs","map","eventArgs","hoverArgs","categoryPoints","hideElements","hideCrosshairs","keepTooltipOpen","_deferRedraw","_clearRedrawTimeout","_redrawTimeout","clearInterval","definitions","axisIx","autoBind","bindCategoryAxisFromSeries","seriesLength","uniqueCategories","items","bindable","dateAxis","onAxis","data","dataLength","categoryField","getFn","dataIx","dataRow","intl","get","set","uniqueDates","a","b","result","transpose","categories","_isBindable","valueFields","field","transitionsState","_legendItemHover","seriesIndex","pointIndex","pointsBySeriesIndex","updateMouseMoveHandler","applyOptions","setOptions","setDirection","rtl","Boolean","setIntlService","noTransitionsRedraw","destroy","unbind","shift","aliases","alias","themeAxisDefaults","axisDefaults","mapAxisOptions","axisOptions","axisColor","labels","commonDefaults","themeSeriesDefaults","commonThemeDefaults","cleanupNestedSeriesDefaults","seriesType","baseOptions","bar","column","rangeColumn","verticalLine","pie","donut","area","verticalArea","scatter","scatterLine","bubble","candlestick","ohlc","boxPlot","bullet","verticalBullet","polarArea","polarLine","radarArea","radarLine","waterfall","sortDates","dates","comparer","sort","srcDates","rows","rowCount","rowIx","row","colCount","colIx","DATA_FIELDS","originalOptions","hasOwnProperty","fieldValue","originalValue","nullValue","notifyRender","negativeValues","valueAxis","xAxis","yAxis"],"sources":["C:/Users/Павел/Desktop/react humster/my-app/node_modules/@progress/kendo-charts/dist/es/chart/chart.js"],"sourcesContent":["import { drawing as draw, throttle, geometry } from '@progress/kendo-drawing';\n\nimport { RootElement, Title, CategoryAxis, Point } from '../core';\n\nimport Highlight from './highlight';\nimport Pannable from './pan-and-zoom/pannable';\nimport ZoomSelection from './pan-and-zoom/zoom-selection';\nimport MousewheelZoom from './pan-and-zoom/mousewheel-zoom';\nimport Legend from './legend/legend';\nimport PlotAreaFactory from './plotarea/plotarea-factory';\nimport Selection from './selection';\nimport SeriesBinder from './series-binder';\nimport Tooltip from './tooltip/tooltip';\nimport SharedTooltip from './tooltip/shared-tooltip';\nimport CategoricalPlotArea from './plotarea/categorical-plotarea';\nimport PlotAreaBase from './plotarea/plotarea-base';\nimport { ChartService, DomEventsBuilder } from '../services';\nimport getField from './utils/get-field';\nimport isDateAxis from './utils/is-date-axis';\nimport getDateField from './utils/get-date-field';\nimport { ChartPane, ChartPlotArea, findAxisByName } from './api-elements';\n\nimport { X, Y, VALUE, DEFAULT_WIDTH, DEFAULT_HEIGHT, DEFAULT_SERIES_OPACITY } from '../common/constants';\nimport { addClass, Class, setDefaultOptions, deepExtend, defined, find, isObject, isFunction, elementSize, elementOffset,\n         elementScale, elementStyles, eventCoordinates, bindEvents, unbindEvents, mousewheelDelta, FontLoader, inArray, last, round,\n         HashMap, valueOrDefault } from '../common';\n\nimport { dateComparer } from '../date-utils';\n\nimport { DRAG_START, DRAG, DRAG_END, ZOOM_START, ZOOM, ZOOM_END, SELECT_START, SELECT, SELECT_END, PLOT_AREA_HOVER, PLOT_AREA_LEAVE,\n    RENDER, CATEGORY, PIE, DONUT, FUNNEL, COLUMN, MOUSEWHEEL, MOUSEWHEEL_DELAY, MOUSEWHEEL_ZOOM_RATE, SHOW_TOOLTIP, SERIES_HOVER } from './constants';\n\nimport './animations';\nimport './register-charts';\n\nvar AXIS_NAMES = [ CATEGORY, VALUE, X, Y ];\n\nvar MOUSEMOVE = \"mousemove\";\nvar CONTEXTMENU = \"contextmenu\";\nvar MOUSELEAVE = \"mouseleave\";\nvar MOUSEMOVE_DELAY = 20;\n\nvar Chart = (function (Class) {\n    function Chart(element, userOptions, themeOptions, context) {\n        var this$1 = this;\n        if ( context === void 0 ) context = {};\n\n        Class.call(this);\n\n        this.observers = [];\n        this.addObserver(context.observer);\n        this.chartService = new ChartService(this, context);\n        this.chartService.theme = themeOptions;\n\n        this._initElement(element);\n\n        var options = deepExtend({}, this.options, userOptions);\n        this._originalOptions = deepExtend({}, options);\n        this._theme = themeOptions;\n        this._initTheme(options, themeOptions);\n\n        this._initHandlers();\n        this._initSurface();\n\n        this.bindCategories();\n        FontLoader.preloadFonts(userOptions, function () {\n            this$1.fontLoaded = true;\n            if (!this$1._destroyed) {\n                this$1.trigger('init');\n                this$1._redraw();\n                this$1._attachEvents();\n            }\n        });\n    }\n\n    if ( Class ) Chart.__proto__ = Class;\n    Chart.prototype = Object.create( Class && Class.prototype );\n    Chart.prototype.constructor = Chart;\n\n    Chart.prototype._initElement = function _initElement (element) {\n        this._setElementClass(element);\n        element.style.position = \"relative\";\n        while (element.firstChild) {\n            element.removeChild(element.firstChild);\n        }\n        this.element = element;\n    };\n\n    Chart.prototype._setElementClass = function _setElementClass (element) {\n        addClass(element, \"k-chart\");\n    };\n\n    Chart.prototype._initTheme = function _initTheme (options, themeOptions) {\n        var seriesCopies = [];\n        var series = options.series || [];\n\n        for (var i = 0; i < series.length; i++) {\n            seriesCopies.push(Object.assign({}, series[i]));\n        }\n        options.series = seriesCopies;\n\n        resolveAxisAliases(options);\n        this.applyDefaults(options, themeOptions);\n\n        // Clean up default if not overriden by data attributes\n        if (options.seriesColors === null) {\n            delete options.seriesColors;\n        }\n\n        this.options = deepExtend({}, themeOptions, options);\n        this.applySeriesColors();\n    };\n\n    Chart.prototype.getSize = function getSize () {\n        var chartArea = this.options.chartArea || {};\n        var width = chartArea.width ? parseInt(chartArea.width, 10) : Math.floor(this.element.offsetWidth);\n        var height = chartArea.height ? parseInt(chartArea.height, 10) : Math.floor(this.element.offsetHeight);\n\n        return {\n            width: width,\n            height: height\n        };\n    };\n\n    Chart.prototype.resize = function resize (force) {\n        var size = this.getSize();\n        var currentSize = this._size;\n        var hasSize = size.width > 0 || size.height > 0;\n\n        if (force || hasSize && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n            this._size = size;\n            this._resize(size, force);\n            this.trigger(\"resize\", size);\n        } else if (hasSize && this._selections && find(this._selections, function (s) { return !s.visible; })) {\n            this._destroySelections();\n            this._setupSelection();\n        }\n    };\n\n    Chart.prototype._resize = function _resize () {\n        this._noTransitionsRedraw();\n    };\n\n    Chart.prototype.redraw = function redraw (paneName) {\n        this.applyDefaults(this.options);\n        this.applySeriesColors();\n\n        if (paneName) {\n            var plotArea = this._model._plotArea;\n            var pane = plotArea.findPane(paneName);\n            plotArea.redraw(pane);\n        } else {\n            this._redraw();\n        }\n    };\n\n    Chart.prototype.getAxis = function getAxis (name) {\n        return findAxisByName(name, this._plotArea.axes);\n    };\n\n    Chart.prototype.findAxisByName = function findAxisByName (name) {\n        return this.getAxis(name);\n    };\n\n    Chart.prototype.findPaneByName = function findPaneByName (name) {\n        var panes = this._plotArea.panes;\n\n        for (var idx = 0; idx < panes.length; idx++) {\n            if (panes[idx].options.name === name) {\n                return new ChartPane(panes[idx]);\n            }\n        }\n    };\n\n    Chart.prototype.findPaneByIndex = function findPaneByIndex (idx) {\n        var panes = this._plotArea.panes;\n        if (panes[idx]) {\n            return new ChartPane(panes[idx]);\n        }\n    };\n\n    Chart.prototype.plotArea = function plotArea () {\n        return new ChartPlotArea(this._plotArea);\n    };\n\n    Chart.prototype.toggleHighlight = function toggleHighlight (show, filter) {\n        var plotArea = this._plotArea;\n        var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];\n        var points;\n\n        if (isFunction(filter)) {\n            points = plotArea.filterPoints(filter);\n        } else {\n            var seriesName, categoryName;\n            if (isObject(filter)) {\n                seriesName = filter.series;\n                categoryName = filter.category;\n            } else {\n                seriesName = categoryName = filter;\n            }\n\n            if (firstSeries.type === DONUT) {\n                points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);\n            } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {\n                points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);\n            } else {\n                points = plotArea.pointsBySeriesName(seriesName);\n            }\n        }\n\n        if (points) {\n            this.togglePointsHighlight(show, points);\n        }\n    };\n\n    Chart.prototype.togglePointsHighlight = function togglePointsHighlight (show, points) {\n        var highlight = this._highlight;\n        for (var idx = 0; idx < points.length; idx++) {\n            highlight.togglePointHighlight(points[idx], show);\n        }\n    };\n\n    Chart.prototype.showTooltip = function showTooltip (filter) {\n        var shared = this._sharedTooltip();\n        var ref = this;\n        var tooltip = ref._tooltip;\n        var plotArea = ref._plotArea;\n        var point, categoryIndex;\n\n        if (isFunction(filter)) {\n            point = plotArea.findPoint(filter);\n            if (point && shared) {\n                categoryIndex = point.categoryIx;\n            }\n        } else if (shared && defined(filter)) {\n            categoryIndex = plotArea.categoryAxis.categoryIndex(filter);\n        }\n\n        if (shared) {\n            if (categoryIndex >= 0) {\n                var points = this._plotArea.pointsByCategoryIndex(categoryIndex);\n                tooltip.showAt(points);\n            }\n        } else if (point) {\n            tooltip.show(point);\n        }\n    };\n\n    Chart.prototype.hideTooltip = function hideTooltip () {\n        this._tooltip.hide();\n    };\n\n    Chart.prototype._initSurface = function _initSurface () {\n        var surface = this.surface;\n        var wrap = this._surfaceWrap();\n\n        var chartArea = this.options.chartArea || {};\n        if (chartArea.width) {\n            elementSize(wrap, { width: chartArea.width });\n        }\n        if (chartArea.height) {\n            elementSize(wrap, { height: chartArea.height });\n        }\n\n        if (!surface || surface.options.type !== this.options.renderAs) {\n            this._destroySurface();\n\n            this.surface = draw.Surface.create(wrap, {\n                type: this.options.renderAs\n            });\n\n            this.surface.bind(\"mouseenter\", this._surfaceMouseenterHandler);\n            this.surface.bind(\"mouseleave\", this._surfaceMouseleaveHandler);\n\n        } else {\n            this.surface.clear();\n            this.surface.resize();\n        }\n    };\n\n    Chart.prototype._surfaceWrap = function _surfaceWrap () {\n        return this.element;\n    };\n\n    Chart.prototype._redraw = function _redraw () {\n        var model = this._getModel();\n        this._size = {\n            width: model.options.width,\n            height: model.options.height\n        };\n\n        this._destroyView();\n\n        this._model = model;\n        this._plotArea = model._plotArea;\n\n        model.renderVisual();\n\n        if (this.options.transitions !== false) {\n            model.traverse(function(element) {\n                if (element.animation) {\n                    element.animation.setup();\n                }\n            });\n        }\n\n        this._initSurface();\n        this.surface.draw(model.visual);\n\n        if (this.options.transitions !== false) {\n            model.traverse(function(element) {\n                if (element.animation) {\n                    element.animation.play();\n                }\n            });\n        }\n\n        this._tooltip = this._createTooltip();\n        this._highlight = new Highlight();\n        this._setupSelection();\n        this._createPannable();\n        this._createZoomSelection();\n        this._createMousewheelZoom();\n\n        this.trigger(RENDER);\n        triggerPaneRender(this._plotArea.panes);\n\n        if (!this._navState) {\n            this._cancelDomEvents();\n        }\n    };\n\n    Chart.prototype.exportVisual = function exportVisual (exportOptions) {\n        var visual;\n        if (exportOptions && (exportOptions.width || exportOptions.height || exportOptions.options)) {\n            var currentOptions = this.options;\n            var options = deepExtend({}, exportOptions.options, {\n                chartArea: {\n                    width: exportOptions.width,\n                    height: exportOptions.height\n                }\n            });\n\n            clearMissingValues(this._originalOptions, options);\n            this.options = deepExtend({}, this._originalOptions, options);\n            this._initTheme(this.options, this._theme);\n            this.bindCategories();\n\n            var model = this._getModel();\n\n            model.renderVisual();\n            triggerPaneRender(model._plotArea.panes);\n\n            visual = model.visual;\n\n            this.options = currentOptions;\n        } else {\n            visual = this.surface.exportVisual();\n        }\n\n        return visual;\n    };\n\n    Chart.prototype._sharedTooltip = function _sharedTooltip () {\n        return this._plotArea instanceof CategoricalPlotArea && this.options.tooltip && this.options.tooltip.shared;\n    };\n\n    Chart.prototype._createPannable = function _createPannable () {\n        var options = this.options;\n        if (options.pannable !== false) {\n            this._pannable = new Pannable(this._plotArea, options.pannable);\n        }\n    };\n\n    Chart.prototype._createZoomSelection = function _createZoomSelection () {\n        var zoomable = this.options.zoomable;\n        var selection = (zoomable || {}).selection;\n        if (zoomable !== false && selection !== false) {\n            this._zoomSelection = new ZoomSelection(this, selection);\n        }\n    };\n\n    Chart.prototype._createMousewheelZoom = function _createMousewheelZoom () {\n        var zoomable = this.options.zoomable;\n        var mousewheel = (zoomable || {}).mousewheel;\n        if (zoomable !== false && mousewheel !== false) {\n            this._mousewheelZoom = new MousewheelZoom(this, mousewheel);\n        }\n    };\n\n    Chart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {\n        var pannable = this.options.pannable;\n        var zoomable = this.options.zoomable;\n        var selection = (zoomable || {}).selection;\n        var mousewheel = (zoomable || {}).mousewheel;\n        var allowDrag = !pannable && (zoomable === false || selection === false) && !this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ]);\n        var allowZoom = (zoomable === false || mousewheel === false) && !this.requiresHandlers([ ZOOM_START, ZOOM, ZOOM_END ]);\n        var element = this.element;\n\n        if (this._dragZoomEnabled && allowDrag && allowZoom) {\n            element.style.touchAction = this._touchAction || '';\n            this._dragZoomEnabled = false;\n        } else if (!this._dragZoomEnabled && !(allowDrag && allowZoom)) {\n            element.style.touchAction = \"none\";\n\n            this._dragZoomEnabled = true;\n        }\n\n        this._toggleDomEvents(!allowDrag, !allowZoom);\n    };\n\n    Chart.prototype._toggleDomEvents = function _toggleDomEvents (drag, zoom) {\n        var domEvents = this.domEvents;\n        if (!domEvents) {\n            return;\n        }\n\n        if (domEvents.toggleDrag) {\n            domEvents.toggleDrag(drag);\n        }\n\n        if (domEvents.toggleZoom) {\n            domEvents.toggleZoom(zoom);\n        }\n    };\n\n    Chart.prototype._createTooltip = function _createTooltip () {\n        var ref = this;\n        var tooltipOptions = ref.options.tooltip;\n        var tooltip;\n\n        if (this._sharedTooltip()) {\n            tooltip = this._createSharedTooltip(tooltipOptions);\n        } else {\n            tooltip = new Tooltip(this.chartService, tooltipOptions);\n        }\n\n        return tooltip;\n    };\n\n    Chart.prototype._createSharedTooltip = function _createSharedTooltip (options) {\n        return new SharedTooltip(this._plotArea, options);\n    };\n\n    Chart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {\n        applyAxisDefaults(options, themeOptions);\n        applySeriesDefaults(options, themeOptions);\n    };\n\n    Chart.prototype.applySeriesColors = function applySeriesColors () {\n        var options = this.options;\n        var series = options.series;\n        var colors = options.seriesColors || [];\n\n        for (var i = 0; i < series.length; i++) {\n            var currentSeries = series[i];\n            var seriesColor = colors[i % colors.length];\n            var defaults = currentSeries._defaults;\n\n            currentSeries.color = currentSeries.color || seriesColor;\n            if (defaults) {\n                defaults.color = defaults.color || seriesColor;\n            }\n        }\n    };\n\n    Chart.prototype._getModel = function _getModel () {\n        var options = this.options;\n        var plotArea = this._createPlotArea();\n        var model = new RootElement(this._modelOptions());\n        model.chart = this;\n        model._plotArea = plotArea;\n\n        var title = Title.buildTitle(options.title);\n        var subtitle = Title.buildTitle(options.subtitle, {\n            align: options.title.align,\n            position: options.title.position\n        });\n        model.append.apply(model, Title.orderTitles([title, subtitle]));\n\n        if (options.legend && options.legend.visible) {\n            model.append(new Legend(plotArea.options.legend, this.chartService));\n        }\n        model.append(plotArea);\n        model.reflow();\n\n        return model;\n    };\n\n    Chart.prototype._modelOptions = function _modelOptions () {\n        var options = this.options;\n        var size = this.getSize();\n\n        return deepExtend({\n            transitions: options.transitions,\n            width: size.width || DEFAULT_WIDTH,\n            height: size.height || DEFAULT_HEIGHT\n        }, options.chartArea);\n    };\n\n    Chart.prototype._createPlotArea = function _createPlotArea (skipSeries) {\n        var options = this.options;\n\n        var plotArea = PlotAreaFactory.current.create(skipSeries ? [] : options.series, options, this.chartService);\n\n        return plotArea;\n    };\n\n    Chart.prototype._setupSelection = function _setupSelection () {\n        var this$1 = this;\n\n        var ref = this;\n        var axes = ref._plotArea.axes;\n        var selections = this._selections = [];\n\n        for (var i = 0; i < axes.length; i++) {\n            var axis = axes[i];\n            var options = axis.options;\n            if (axis instanceof CategoryAxis && options.select && !options.vertical) {\n                var range = axis.range();\n\n                var selection = new Selection(this$1, axis,\n                    deepExtend({ min: range.min, max: range.max }, options.select)\n                );\n\n                selections.push(selection);\n            }\n        }\n    };\n\n    Chart.prototype._selectStart = function _selectStart (e) {\n        return this.trigger(SELECT_START, e);\n    };\n\n    Chart.prototype._select = function _select (e) {\n        return this.trigger(SELECT, e);\n    };\n\n    Chart.prototype._selectEnd = function _selectEnd (e) {\n        return this.trigger(SELECT_END, e);\n    };\n\n    Chart.prototype._initHandlers = function _initHandlers () {\n        this._clickHandler = this._click.bind(this);\n        this._mousewheelHandler = this._mousewheel.bind(this);\n        this._mouseleaveHandler = this._mouseleave.bind(this);\n        this._surfaceMouseenterHandler = this._mouseover.bind(this);\n        this._surfaceMouseleaveHandler = this._mouseout.bind(this);\n\n        this._mousemove = throttle(\n            this._mousemove.bind(this),\n            MOUSEMOVE_DELAY\n        );\n    };\n\n    Chart.prototype.addObserver = function addObserver (observer) {\n        if (observer) {\n            this.observers.push(observer);\n        }\n    };\n\n    Chart.prototype.removeObserver = function removeObserver (observer) {\n        var index = this.observers.indexOf(observer);\n        if (index >= 0) {\n            this.observers.splice(index, 1);\n        }\n    };\n\n    Chart.prototype.requiresHandlers = function requiresHandlers (eventNames) {\n        var observers = this.observers;\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].requiresHandlers(eventNames)) {\n                return true;\n            }\n        }\n    };\n\n    Chart.prototype.trigger = function trigger (name, args) {\n        if ( args === void 0 ) args = {};\n\n        if (name === SHOW_TOOLTIP) {\n            args.anchor.point = this._toDocumentCoordinates(args.anchor.point);\n        }\n        args.sender = this;\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Chart.prototype._attachEvents = function _attachEvents () {\n        var obj, obj$1;\n\n        var element = this.element;\n\n        this._touchAction = element.style.touchAction;\n\n        bindEvents(element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));\n\n        if (this._shouldAttachMouseMove()) {\n            bindEvents(element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));\n        }\n\n        this.domEvents = DomEventsBuilder.create(this.element, {\n            start: this._start.bind(this),\n            move: this._move.bind(this),\n            end: this._end.bind(this),\n            tap: this._tap.bind(this),\n            gesturestart: this._gesturestart.bind(this),\n            gesturechange: this._gesturechange.bind(this),\n            gestureend: this._gestureend.bind(this)\n        });\n\n        this._toggleDragZoomEvents();\n    };\n\n    Chart.prototype._mouseleave = function _mouseleave (e) {\n        if (this._hoveredPoint) {\n            this._hoveredPoint.out(this, e);\n            this._hoveredPoint = null;\n        }\n\n        if (this._plotAreaHovered) {\n            this._plotAreaHovered = false;\n            this.trigger(PLOT_AREA_LEAVE);\n        }\n    };\n\n    Chart.prototype._cancelDomEvents = function _cancelDomEvents () {\n        if (this.domEvents && this.domEvents.cancel) {\n            this.domEvents.cancel();\n        }\n    };\n\n    Chart.prototype._gesturestart = function _gesturestart (e) {\n        if (this._mousewheelZoom && !this._stopChartHandlers(e)) {\n            this._gestureDistance = e.distance;\n            this._unsetActivePoint();\n            this.surface.suspendTracking();\n        }\n    };\n\n    Chart.prototype._gestureend = function _gestureend (e) {\n        if (this._zooming && !this._stopChartHandlers(e)) {\n            if (this.surface) {\n                this.surface.resumeTracking();\n            }\n            this._zooming = false;\n            this.trigger(ZOOM_END, {});\n        }\n    };\n\n    Chart.prototype._gesturechange = function _gesturechange (e) {\n        var mousewheelZoom = this._mousewheelZoom;\n\n        if (mousewheelZoom && !this._stopChartHandlers(e)) {\n            e.preventDefault();\n            var previousGestureDistance = this._gestureDistance;\n            var scaleDelta = -e.distance / previousGestureDistance + 1;\n\n            if (Math.abs(scaleDelta) >= 0.1) {\n                scaleDelta = Math.round(scaleDelta * 10);\n\n                this._gestureDistance = e.distance;\n                var args = { delta: scaleDelta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };\n                if (this._zooming || !this.trigger(ZOOM_START, args)) {\n                    var coords = this._eventCoordinates(e);\n\n                    if (!this._zooming) {\n                        this._zooming = true;\n                    }\n\n                    var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta, coords);\n                    if (ranges && !this.trigger(ZOOM, args)) {\n                        mousewheelZoom.zoom();\n                    }\n                }\n            }\n        }\n    };\n\n    Chart.prototype._mouseout = function _mouseout (e) {\n        if (e.element) {\n            var element = this._drawingChartElement(e.element, e);\n\n            if (element && element.leave) {\n                element.leave(this, e.originalEvent);\n            }\n        }\n    };\n\n    Chart.prototype._start = function _start (e) {\n        var coords = this._eventCoordinates(e);\n\n        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {\n            return;\n        }\n\n\n        if (this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ])) {\n            this._startNavigation(e, coords, DRAG_START);\n        }\n\n        if (this._pannable && this._pannable.start(e)) {\n            this.surface.suspendTracking();\n            this._unsetActivePoint();\n            this._suppressHover = true;\n            this.chartService.panning = true;\n        }\n\n        if (this._zoomSelection) {\n            if (this._zoomSelection.start(e)) {\n                this.trigger(ZOOM_START, { axisRanges: axisRanges(this._plotArea.axes), originalEvent: e });\n            }\n        }\n    };\n\n    Chart.prototype._move = function _move (e) {\n        var ref = this;\n        var state = ref._navState;\n        var pannable = ref._pannable;\n\n        if (this._stopChartHandlers(e)) {\n            return;\n        }\n\n        if (pannable) {\n            var ranges = pannable.move(e);\n\n            if (ranges && !this.trigger(DRAG, { axisRanges: ranges, originalEvent: e })) {\n                pannable.pan();\n            }\n        } else if (state) {\n            var ranges$1 = {};\n            var axes = state.axes;\n\n            for (var i = 0; i < axes.length; i++) {\n                var currentAxis = axes[i];\n                var axisName = currentAxis.options.name;\n                if (axisName) {\n                    var axis = currentAxis.options.vertical ? e.y : e.x;\n                    var delta = axis.startLocation - axis.location;\n\n                    if (delta !== 0) {\n                        ranges$1[currentAxis.options.name] = currentAxis.translateRange(delta);\n                    }\n                }\n            }\n\n            state.axisRanges = ranges$1;\n            this.trigger(DRAG, {\n                axisRanges: ranges$1,\n                originalEvent: e\n            });\n        }\n\n        if (this._zoomSelection) {\n            this._zoomSelection.move(e);\n        }\n    };\n\n    Chart.prototype._end = function _end (e) {\n        if (this._stopChartHandlers(e)) {\n            return;\n        }\n\n        var pannable = this._pannable;\n        if (pannable && pannable.end(e)) {\n            this.surface.resumeTracking();\n            this.trigger(DRAG_END, {\n                axisRanges: axisRanges(this._plotArea.axes),\n                originalEvent: e\n            });\n            this._suppressHover = false;\n            this.chartService.panning = false;\n        } else {\n            this._endNavigation(e, DRAG_END);\n        }\n\n        if (this._zoomSelection) {\n            var ranges = this._zoomSelection.end(e);\n            if (ranges && !this.trigger(ZOOM, { axisRanges: ranges, originalEvent: e })) {\n                this._zoomSelection.zoom();\n                this.trigger(ZOOM_END, { axisRanges: ranges, originalEvent: e });\n            }\n        }\n    };\n\n    Chart.prototype._stopChartHandlers = function _stopChartHandlers (e) {\n        var selections = this._selections || [];\n        if (!selections.length) {\n            return false;\n        }\n\n        var coords = this._eventCoordinates(e);\n        var pane = this._plotArea.paneByPoint(coords);\n        if (pane) {\n            for (var idx = 0; idx < selections.length; idx++) {\n                if (selections[idx].onPane(pane)) {\n                    return true;\n                }\n            }\n        }\n    };\n\n    Chart.prototype._mousewheelZoomRate = function _mousewheelZoomRate () {\n        var zoomable = this.options.zoomable;\n        var mousewheel = (zoomable || {}).mousewheel || {};\n        return valueOrDefault(mousewheel.rate, MOUSEWHEEL_ZOOM_RATE);\n    };\n\n    Chart.prototype._mousewheel = function _mousewheel (e) {\n        var this$1 = this;\n\n        var delta = mousewheelDelta(e);\n        var mousewheelZoom = this._mousewheelZoom;\n        var coords = this._eventCoordinates(e);\n\n        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {\n            return;\n        }\n\n        if (mousewheelZoom) {\n            var args = { delta: delta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };\n            if (this._zooming || !this.trigger(ZOOM_START, args)) {\n                e.preventDefault();\n\n                if (!this._zooming) {\n                    this._unsetActivePoint();\n                    this.surface.suspendTracking();\n                    this._zooming = true;\n                }\n\n                if (this._mwTimeout) {\n                    clearTimeout(this._mwTimeout);\n                }\n\n                args.axisRanges = mousewheelZoom.updateRanges(delta, coords);\n                if (args.axisRanges && !this.trigger(ZOOM, args)) {\n                    mousewheelZoom.zoom();\n                }\n\n                this._mwTimeout = setTimeout(function () {\n                    this$1.trigger(ZOOM_END, args);\n                    this$1._zooming = false;\n                    if (this$1.surface) {\n                        this$1.surface.resumeTracking();\n                    }\n                }, MOUSEWHEEL_DELAY);\n            }\n        } else {\n            var state = this._navState;\n            if (!state) {\n                var prevented = this._startNavigation(e, coords, ZOOM_START);\n                if (!prevented) {\n                    state = this._navState;\n                }\n            }\n\n            if (state) {\n                var totalDelta = state.totalDelta || delta;\n                state.totalDelta = totalDelta + delta;\n\n                var axes = this._navState.axes;\n                var ranges = {};\n\n                for (var i = 0; i < axes.length; i++) {\n                    var currentAxis = axes[i];\n                    var axisName = currentAxis.options.name;\n                    if (axisName) {\n                        ranges[axisName] = currentAxis.scaleRange(-totalDelta * this$1._mousewheelZoomRate(), coords);\n                    }\n                }\n\n                this.trigger(ZOOM, {\n                    delta: delta,\n                    axisRanges: ranges,\n                    originalEvent: e\n                });\n\n                if (this._mwTimeout) {\n                    clearTimeout(this._mwTimeout);\n                }\n\n                this._mwTimeout = setTimeout(function () {\n                    this$1._endNavigation(e, ZOOM_END);\n                }, MOUSEWHEEL_DELAY);\n            }\n        }\n    };\n\n    Chart.prototype._startNavigation = function _startNavigation (e, coords, chartEvent) {\n        var plotArea = this._model._plotArea;\n        var pane = plotArea.findPointPane(coords);\n        var axes = plotArea.axes.slice(0);\n\n        if (!pane) {\n            return;\n        }\n\n        var ranges = axisRanges(axes);\n\n        var prevented = this.trigger(chartEvent, {\n            axisRanges: ranges,\n            originalEvent: e\n        });\n\n        if (prevented) {\n            this._cancelDomEvents();\n        } else {\n            this._suppressHover = true;\n            this._unsetActivePoint();\n            this._navState = {\n                axisRanges: ranges,\n                pane: pane,\n                axes: axes\n            };\n        }\n    };\n\n    Chart.prototype._endNavigation = function _endNavigation (e, chartEvent) {\n        if (this._navState) {\n            this.trigger(chartEvent, {\n                axisRanges: this._navState.axisRanges,\n                originalEvent: e\n            });\n            this._suppressHover = false;\n            this._navState = null;\n        }\n    };\n\n    Chart.prototype._getChartElement = function _getChartElement (e, match) {\n        var element = this.surface.eventTarget(e);\n        if (element) {\n            return this._drawingChartElement(element, e, match);\n        }\n    };\n\n    Chart.prototype._drawingChartElement = function _drawingChartElement (element, e, match) {\n        var current = element;\n        var chartElement;\n        while (current && !chartElement) {\n            chartElement = current.chartElement;\n            current = current.parent;\n        }\n\n        if (chartElement) {\n            if (chartElement.aliasFor) {\n                chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));\n            }\n\n            if (match) {\n                chartElement = chartElement.closest(match);\n                if (chartElement && chartElement.aliasFor) {\n                    chartElement = chartElement.aliasFor();\n                }\n            }\n\n            return chartElement;\n        }\n    };\n\n    Chart.prototype._eventCoordinates = function _eventCoordinates (e) {\n        var coordinates = eventCoordinates(e);\n        return this._toModelCoordinates(coordinates.x, coordinates.y);\n    };\n\n    Chart.prototype._elementPadding = function _elementPadding () {\n        if (!this._padding) {\n            var ref = elementStyles(this.element, [ \"paddingLeft\", \"paddingTop\" ]);\n            var paddingLeft = ref.paddingLeft;\n            var paddingTop = ref.paddingTop;\n            this._padding = {\n                top: paddingTop,\n                left: paddingLeft\n            };\n        }\n\n        return this._padding;\n    };\n\n    Chart.prototype._toDocumentCoordinates = function _toDocumentCoordinates (point) {\n        var padding = this._elementPadding();\n        var offset = elementOffset(this.element);\n\n        return {\n            left: round(point.x + padding.left + offset.left),\n            top: round(point.y + padding.top + offset.top)\n        };\n    };\n\n    // TODO: Breaking change due to peer version change\n    // Reuse by exposing _surfacePoint on Surface\n    Chart.prototype._toModelCoordinates = function _toModelCoordinates (clientX, clientY) {\n        var element = this.element;\n        var offset = elementOffset(element);\n        var padding = this._elementPadding();\n        var inverseTransform = elementScale(element).invert();\n        var point = new geometry.Point(\n            clientX - offset.left - padding.left,\n            clientY - offset.top - padding.top\n        ).transform(inverseTransform);\n\n        return new Point(point.x, point.y);\n    };\n\n    Chart.prototype._tap = function _tap (e) {\n        var this$1 = this;\n\n        var drawingElement = this.surface.eventTarget(e);\n        var element = this._drawingChartElement(drawingElement, e);\n        var sharedTooltip = this._sharedTooltip();\n\n        if (!this._startHover(drawingElement, e) && !sharedTooltip) {\n            this._unsetActivePoint();\n        }\n\n        if (sharedTooltip) {\n            this._trackSharedTooltip(this._eventCoordinates(e), e, true);\n        }\n\n        this._propagateClick(element, e);\n\n        //part of fix for hover issue on windows touch\n        this.handlingTap = true;\n        setTimeout(function () {\n            this$1.handlingTap = false;\n        }, 0);\n    };\n\n    Chart.prototype._click = function _click (e) {\n        var element = this._getChartElement(e);\n        this._propagateClick(element, e);\n    };\n\n    Chart.prototype._propagateClick = function _propagateClick (element, e) {\n        var this$1 = this;\n\n        var current = element;\n        while (current) {\n            if (current.click) {\n                current.click(this$1, e);\n            }\n\n            current = current.parent;\n        }\n    };\n\n    Chart.prototype._startHover = function _startHover (element, e) {\n        if (this._suppressHover) {\n            return false;\n        }\n\n        var point = this._drawingChartElement(element, e, function(element) {\n            return (element.hover || element.over) && !(element instanceof PlotAreaBase);\n        });\n\n        var activePoint = this._activePoint;\n        var multipleSeries = this._plotArea.series.length > 1;\n        var hasInactiveOpacity = this._hasInactiveOpacity();\n\n        this._updateHoveredPoint(point, e);\n\n        if (point && activePoint !== point && point.hover) {\n            this._activePoint = point;\n\n            if (!this._sharedTooltip() && !point.hover(this, e)) {\n                this._displayTooltip(point);\n\n                if (hasInactiveOpacity) {\n                    this._displayInactiveOpacity(point, multipleSeries);\n                } else {\n                    this._highlight.show(point);\n                }\n            }\n        } else if (!point && hasInactiveOpacity) {\n            if (multipleSeries && this._activeChartInstance) {\n                this._updateSeriesOpacity(point, true);\n                this._applySeriesOpacity(this._activeChartInstance.children, null, true);\n                this._activeChartInstance = null;\n            }\n            this._highlight && this._highlight.hide();\n            this._activePoint = null;\n        }\n\n        return point;\n    };\n\n    Chart.prototype._displayTooltip = function _displayTooltip (point) {\n        var tooltipOptions = deepExtend({}, this.options.tooltip, point.options.tooltip);\n        if (tooltipOptions.visible) {\n            this._tooltip.show(point);\n        }\n    };\n\n    Chart.prototype._displayInactiveOpacity = function _displayInactiveOpacity (activePoint, multipleSeries, highlightPoints) {\n        var chartInstance = this._activeChartInstance = this._chartInstanceFromPoint(activePoint);\n        if (!chartInstance) {\n            return;\n        }\n\n        if (multipleSeries) {\n            this._updateSeriesOpacity(activePoint);\n            this._applySeriesOpacity(chartInstance.children, null, true);\n            this._applySeriesOpacity(chartInstance.children, activePoint.series);\n            this._highlight.show(highlightPoints || activePoint);\n        } else {\n            var inactivePoints;\n\n            if (!chartInstance.supportsPointInactiveOpacity()) {\n                this._highlight.show(activePoint);\n                return;\n            }\n\n            inactivePoints = this._getInactivePoints(activePoint, chartInstance);\n\n            if (inactivePoints && inactivePoints.length) {\n                this._highlight.show(inactivePoints, 1 - this._getInactiveOpacityForSeries(activePoint.series));\n            }\n        }\n    };\n\n    Chart.prototype._getInactivePoints = function _getInactivePoints (activePoint, chartInstance) {\n        var allPoints = this._getAllPointsOfType(chartInstance, activePoint.constructor);\n\n        return allPoints.filter(function (point) { return point !== activePoint; });\n    };\n\n    Chart.prototype._getAllPointsOfType = function _getAllPointsOfType (container, type) {\n        var this$1 = this;\n\n        var points = [];\n\n        for (var i = 0; i < container.children.length; i++) {\n            var element = container.children[i];\n\n            if (element.constructor === type) {\n                points.push(element);\n            } else if (element.children && element.children.length) {\n                points = points.concat(this$1._getAllPointsOfType(element, type));\n            }\n        }\n\n        return points;\n    };\n\n    Chart.prototype._updateHoveredPoint = function _updateHoveredPoint (point, e) {\n        var hoveredPoint = this._hoveredPoint;\n\n        if (hoveredPoint && hoveredPoint !== point) {\n            hoveredPoint.out(this, e);\n            this._hoveredPoint = null;\n        }\n\n        if (point && hoveredPoint !== point && point.over) {\n            this._hoveredPoint = point;\n            point.over(this, e);\n        }\n    };\n\n    Chart.prototype._updateSeriesOpacity = function _updateSeriesOpacity (point, resetOpacity) {\n        var this$1 = this;\n\n        var plotArea = this._plotArea;\n        var length = plotArea.series.length;\n\n        for (var i = 0; i < length; i++) {\n            var currSeries = plotArea.series[i];\n            var defaultOpacity = this$1._getDefaultOpacityForSeries(currSeries);\n            var inactiveOpacity = this$1._getInactiveOpacityForSeries(currSeries);\n\n            if (!resetOpacity && currSeries !== point.series) {\n                currSeries.defaultOpacity = defaultOpacity;\n                currSeries.opacity = inactiveOpacity;\n\n                if (currSeries.line) {\n                    currSeries.line.opacity = inactiveOpacity;\n                }\n            } else {\n                currSeries.opacity = defaultOpacity;\n\n                if (currSeries.line) {\n                    currSeries.line.opacity = defaultOpacity;\n                }\n            }\n        }\n    };\n\n    Chart.prototype._applySeriesOpacity = function _applySeriesOpacity (elements, activeSeries, reset, series) {\n        var this$1 = this;\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var currSeries = element.series || series;\n            var shouldHighlight = currSeries && (currSeries.highlight || {}).visible;\n\n            if (shouldHighlight && element.visual) {\n                var opacity = series ? series.opacity : element.series.opacity;\n                if (currSeries !== activeSeries || reset) {\n                    element.visual.opacity(reset ? 1 : opacity);\n                }\n            }\n\n            if (element.children && element.children.length) {\n                this$1._applySeriesOpacity(element.children, activeSeries, reset, element.series);\n            }\n        }\n    };\n\n    Chart.prototype._chartInstanceFromPoint = function _chartInstanceFromPoint (point) {\n        var chartInstance = point.parent;\n\n        while (chartInstance && !chartInstance.plotArea) {\n            chartInstance = chartInstance.parent;\n        }\n\n        return chartInstance;\n    };\n\n    Chart.prototype._hasInactiveOpacity = function _hasInactiveOpacity () {\n        var hasDefaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity !== undefined;\n        var hasInactiveOpacity = this.options.series.filter(function (s) { return s.highlight.inactiveOpacity !== undefined; } ).length > 0;\n        return hasDefaultInactiveOpacity || hasInactiveOpacity;\n    };\n\n    Chart.prototype._getInactiveOpacityForSeries = function _getInactiveOpacityForSeries (series) {\n        var defaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity;\n        var seriesInactiveOpacity = series.highlight.inactiveOpacity;\n        return seriesInactiveOpacity || defaultInactiveOpacity || series.opacity || DEFAULT_SERIES_OPACITY;\n    };\n\n    Chart.prototype._getDefaultOpacityForSeries = function _getDefaultOpacityForSeries (series) {\n        return series.defaultOpacity || series.opacity || DEFAULT_SERIES_OPACITY;\n    };\n\n    Chart.prototype._mouseover = function _mouseover (e) {\n        var obj;\n\n        var point = this._startHover(e.element, e.originalEvent);\n\n        if (point && point.tooltipTracking && !this._mouseMoveTrackHandler && !this._sharedTooltip()) {\n            this._mouseMoveTrackHandler = this._mouseMoveTracking.bind(this);\n            bindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));\n        }\n    };\n\n    Chart.prototype._mouseMoveTracking = function _mouseMoveTracking (e) {\n        var obj;\n\n        var ref = this;\n        var options = ref.options;\n        var tooltip = ref._tooltip;\n        var highlight = ref._highlight;\n        var point = ref._activePoint;\n        var coords = this._eventCoordinates(e);\n\n        if (this._plotArea.box.containsPoint(coords)) {\n            if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {\n                var seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);\n                if (seriesPoint && seriesPoint !== point) {\n                    this._activePoint = seriesPoint;\n\n                    if (!seriesPoint.hover(this, e)) {\n                        var tooltipOptions = deepExtend({}, options.tooltip, seriesPoint.options.tooltip);\n                        if (tooltipOptions.visible) {\n                            tooltip.show(seriesPoint);\n                        }\n\n                        highlight.show(seriesPoint);\n                    }\n                }\n            }\n        } else {\n            unbindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));\n            this._unsetActivePoint();\n            this._mouseMoveTrackHandler = null;\n        }\n    };\n\n    Chart.prototype._mousemove = function _mousemove (e) {\n        var coords = this._eventCoordinates(e);\n        var plotArea = this._plotArea;\n\n        this._trackCrosshairs(coords);\n\n        if (plotArea.hover) {\n            var overPlotArea = plotArea.backgroundContainsPoint(coords);\n            if (overPlotArea) {\n                this._plotAreaHovered = true;\n                this._plotArea.hover(this, e);\n            } else if (this._plotAreaHovered && !overPlotArea) {\n                this._plotAreaHovered = false;\n                this.trigger(PLOT_AREA_LEAVE);\n            }\n        }\n\n        if (this._sharedTooltip()) {\n            this._trackSharedTooltip(coords, e);\n        }\n    };\n\n    Chart.prototype._trackCrosshairs = function _trackCrosshairs (coords) {\n        var crosshairs = this._plotArea.crosshairs;\n\n        for (var i = 0; i < crosshairs.length; i++) {\n            var current = crosshairs[i];\n\n            if (current.box.containsPoint(coords)) {\n                current.showAt(coords);\n            } else {\n                current.hide();\n            }\n        }\n    };\n\n    Chart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords, e, toggle) {\n        if (this._suppressHover) {\n            return;\n        }\n\n        var ref = this;\n        var tooltipOptions = ref.options.tooltip;\n        var plotArea = ref._plotArea;\n        var categoryAxis = ref._plotArea.categoryAxis;\n        var tooltip = ref._tooltip;\n        var highlight = ref._highlight;\n\n        if (plotArea.backgroundContainsPoint(coords)) {\n            var index = categoryAxis.pointCategoryIndex(coords);\n            if (index !== this._tooltipCategoryIx || (!this._sharedHighlight && toggle)) {\n                var points = plotArea.pointsByCategoryIndex(index);\n                var pointArgs = points.map(function(point) {\n                    return point.eventArgs(e);\n                });\n                var hoverArgs = pointArgs[0] || {};\n                hoverArgs.categoryPoints = pointArgs;\n\n                if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {\n                    if (tooltipOptions.visible) {\n                        tooltip.showAt(points, coords);\n                    }\n\n                    highlight.show(points);\n\n                    this._sharedHighlight = true;\n                } else {\n                    tooltip.hide();\n                }\n\n                this._tooltipCategoryIx = index;\n            } else if (toggle && this._sharedHighlight) {\n                highlight.hide();\n                tooltip.hide();\n                this._sharedHighlight = false;\n            }\n        } else if (this._sharedHighlight) {\n            highlight.hide();\n            tooltip.hide();\n            this._tooltipCategoryIx = null;\n            this._sharedHighlight = false;\n        }\n    };\n\n    Chart.prototype.hideElements = function hideElements (options) {\n        var plotArea = this._plotArea;\n        this._mousemove.cancel();\n\n        plotArea.hideCrosshairs();\n\n        this._unsetActivePoint(options);\n    };\n\n    Chart.prototype._unsetActivePoint = function _unsetActivePoint (options) {\n        var ref = this;\n        var tooltip = ref._tooltip;\n        var highlight = ref._highlight;\n\n        this._activePoint = null;\n        this._hoveredPoint = null;\n\n        if (tooltip && !(options && options.keepTooltipOpen)) {\n            tooltip.hide();\n        }\n\n        this._tooltipCategoryIx = null;\n        this._sharedHighlight = false;\n\n        if (highlight) {\n            highlight.hide();\n        }\n    };\n\n    Chart.prototype._deferRedraw = function _deferRedraw () {\n        this._redraw();\n    };\n\n    Chart.prototype._clearRedrawTimeout = function _clearRedrawTimeout () {\n        if (this._redrawTimeout) {\n            clearInterval(this._redrawTimeout);\n            this._redrawTimeout = null;\n        }\n    };\n\n    Chart.prototype.bindCategories = function bindCategories () {\n        var this$1 = this;\n\n        var options = this.options;\n        var definitions = [].concat(options.categoryAxis);\n\n        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {\n            var axis = definitions[axisIx];\n            if (axis.autoBind !== false) {\n                this$1.bindCategoryAxisFromSeries(axis, axisIx);\n            }\n        }\n    };\n\n    Chart.prototype.bindCategoryAxisFromSeries = function bindCategoryAxisFromSeries (axis, axisIx) {\n        var this$1 = this;\n\n        var series = this.options.series;\n        var seriesLength = series.length;\n        var uniqueCategories = new HashMap();//perf improvement in case type category with dates\n        var items = [];\n        var bindable = false;\n        var dateAxis;\n\n        for (var seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n            var s = series[seriesIx];\n            var onAxis = s.categoryAxis === axis.name || (!s.categoryAxis && axisIx === 0);\n            var data = s.data;\n            var dataLength = data.length;\n            var bind = s.categoryField && onAxis;\n            bindable = bind || bindable;\n\n            if (bind && dataLength > 0) {\n                dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));\n\n                var getFn = dateAxis ? getDateField : getField;\n\n                for (var dataIx = 0; dataIx < dataLength; dataIx++) {\n                    var dataRow = data[dataIx];\n                    var category = getFn(s.categoryField, dataRow, this$1.chartService.intl);\n\n                    if (dateAxis || !uniqueCategories.get(category)) {\n                        items.push([ category, dataRow ]);\n\n                        if (!dateAxis) {\n                            uniqueCategories.set(category, true);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (items.length > 0) {\n            if (dateAxis) {\n                items = uniqueDates(items, function(a, b) {\n                    return dateComparer(a[0], b[0]);\n                });\n            }\n\n            var result = transpose(items);\n            axis.categories = result[0];\n        } else if (bindable) {\n            axis.categories = [];\n        }\n    };\n\n    Chart.prototype._isBindable = function _isBindable (series) {\n        var valueFields = SeriesBinder.current.valueFields(series);\n        var result = true;\n\n        for (var i = 0; i < valueFields.length; i++) {\n            var field = valueFields[i];\n            if (field === VALUE) {\n                field = \"field\";\n            } else {\n                field = field + \"Field\";\n            }\n\n            if (!defined(series[field])) {\n                result = false;\n                break;\n            }\n        }\n\n        return result;\n    };\n\n    Chart.prototype._noTransitionsRedraw = function _noTransitionsRedraw () {\n        var options = this.options;\n        var transitionsState;\n\n        if (options.transitions !== false) {\n            options.transitions = false;\n            transitionsState = true;\n        }\n\n        this._redraw();\n\n        if (transitionsState) {\n            options.transitions = true;\n        }\n    };\n\n    Chart.prototype._legendItemHover = function _legendItemHover (seriesIndex, pointIndex) {\n        var ref = this;\n        var plotArea = ref._plotArea;\n        var highlight = ref._highlight;\n        var currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];\n        var items;\n\n        if (inArray(currentSeries.type, [ PIE, DONUT, FUNNEL ])) {\n            items = plotArea.findPoint(function(point) {\n                return point.series.index === seriesIndex && point.index === pointIndex;\n            });\n        } else {\n            items = plotArea.pointsBySeriesIndex(seriesIndex);\n        }\n\n        if (this._hasInactiveOpacity() && currentSeries.visible && items) {\n            var multipleSeries = plotArea.series.length > 1;\n            var point = items.length ? items[0] : items;\n\n            this._displayInactiveOpacity(point, multipleSeries, items);\n        } else {\n            highlight.show(items);\n        }\n    };\n\n    Chart.prototype._shouldAttachMouseMove = function _shouldAttachMouseMove () {\n        return this._plotArea.crosshairs.length || (this._tooltip && this._sharedTooltip()) || this.requiresHandlers([ PLOT_AREA_HOVER, PLOT_AREA_LEAVE ]);\n    };\n\n    Chart.prototype.updateMouseMoveHandler = function updateMouseMoveHandler () {\n        var obj, obj$1;\n\n        unbindEvents(this.element, ( obj = {}, obj[ MOUSEMOVE ] = this._mousemove, obj ));\n\n        if (this._shouldAttachMouseMove()) {\n            bindEvents(this.element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));\n        }\n    };\n\n    Chart.prototype.applyOptions = function applyOptions (options, theme) {\n        clearMissingValues(this._originalOptions, options);\n        this._originalOptions = deepExtend(this._originalOptions, options);\n        this.options = deepExtend({}, this._originalOptions);\n\n        if (theme) {\n            this._theme = theme;\n            this.chartService.theme = theme;\n        }\n        this._initTheme(this.options, this._theme);\n\n        this._toggleDragZoomEvents();\n    };\n\n    Chart.prototype.setOptions = function setOptions (options, theme) {\n        this.applyOptions(options, theme);\n        this.bindCategories();\n        this.redraw();\n        this.updateMouseMoveHandler();\n    };\n\n    Chart.prototype.setDirection = function setDirection (rtl) {\n        this.chartService.rtl = Boolean(rtl);\n        if (this.surface && this.surface.type === 'svg') {\n            this._destroySurface();\n        }\n    };\n\n    Chart.prototype.setIntlService = function setIntlService (intl) {\n        this.chartService.intl = intl;\n    };\n\n    Chart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {\n        this._noTransitionsRedraw();\n    };\n\n    Chart.prototype.destroy = function destroy () {\n        var obj, obj$1;\n\n        this._destroyed = true;\n\n        unbindEvents(this.element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSEMOVE ] = this._mousemove, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));\n\n        if (this.domEvents) {\n            this.domEvents.destroy();\n            delete this.domEvents;\n        }\n\n        if (this._mouseMoveTrackHandler) {\n            unbindEvents(document, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj$1 ));\n        }\n\n        this._destroyView();\n\n        this._destroySurface();\n\n        this._clearRedrawTimeout();\n    };\n\n    Chart.prototype._destroySurface = function _destroySurface () {\n        var surface = this.surface;\n        if (surface) {\n            surface.unbind(\"mouseenter\", this._surfaceMouseenterHandler);\n            surface.unbind(\"mouseleave\", this._surfaceMouseleaveHandler);\n            surface.destroy();\n\n            this.surface = null;\n        }\n    };\n\n    Chart.prototype._destroySelections = function _destroySelections () {\n        var selections = this._selections;\n\n        if (selections) {\n            while (selections.length > 0) {\n                selections.shift().destroy();\n            }\n        }\n    };\n\n    Chart.prototype._destroyView = function _destroyView () {\n        var model = this._model;\n\n        if (model) {\n            model.destroy();\n            this._model = null;\n        }\n\n        this._unsetActivePoint();\n\n        this._destroySelections();\n\n        if (this._tooltip) {\n            this._tooltip.destroy();\n        }\n\n        if (this._highlight) {\n            this._highlight.destroy();\n        }\n\n        if (this._zoomSelection) {\n            this._zoomSelection.destroy();\n            delete this._zoomSelection;\n        }\n\n        if (this._pannable) {\n            this._pannable.destroy();\n            delete this._pannable;\n        }\n\n        if (this._mousewheelZoom) {\n            this._mousewheelZoom.destroy();\n            delete this._mousewheelZoom;\n        }\n    };\n\n    return Chart;\n}(Class));\n\nfunction resolveAxisAliases(options) {\n    var aliases = AXIS_NAMES;\n\n    for (var idx = 0; idx < aliases.length; idx++) {\n        var alias = aliases[idx] + \"Axes\";\n        if (options[alias]) {\n            options[aliases[idx] + \"Axis\"] = options[alias];\n            delete options[alias];\n        }\n    }\n}\n\nfunction pointByCategoryName(points, name) {\n    if (points) {\n        for (var idx = 0; idx < points.length; idx++) {\n            if (points[idx].category === name) {\n                return [ points[idx] ];\n            }\n        }\n    }\n}\n\nfunction applyAxisDefaults(options, themeOptions) {\n    var themeAxisDefaults = ((themeOptions || {}).axisDefaults) || {};\n    var axisName, axisDefaults, axes;\n\n    function mapAxisOptions(axisOptions) {\n        var axisColor = (axisOptions || {}).color || axisDefaults.color;\n        var result = deepExtend({},\n            themeAxisDefaults,\n            themeAxisDefaults[axisName],\n            axisDefaults,\n            axisDefaults[axisName], {\n                line: { color: axisColor },\n                labels: { color: axisColor },\n                title: { color: axisColor }\n            },\n            axisOptions\n        );\n\n        delete result[axisName];\n\n        return result;\n    }\n\n    for (var idx = 0; idx < AXIS_NAMES.length; idx++) {\n        axisName = AXIS_NAMES[idx] + \"Axis\";\n        axisDefaults = options.axisDefaults || {};\n        axes = [].concat(options[axisName]);\n\n        axes = axes.map(mapAxisOptions);\n\n        options[axisName] = axes.length > 1 ? axes : axes[0];\n    }\n}\n\nfunction applySeriesDefaults(options, themeOptions) {\n    var series = options.series;\n    var seriesLength = series.length;\n    var seriesDefaults = options.seriesDefaults;\n    var commonDefaults = deepExtend({}, options.seriesDefaults);\n    var themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {};\n    var commonThemeDefaults = deepExtend({}, themeSeriesDefaults);\n\n    cleanupNestedSeriesDefaults(commonDefaults);\n    cleanupNestedSeriesDefaults(commonThemeDefaults);\n\n    for (var i = 0; i < seriesLength; i++) {\n        var seriesType = series[i].type || options.seriesDefaults.type;\n\n        var baseOptions = deepExtend(\n            { data: [] },\n            commonThemeDefaults,\n            themeSeriesDefaults[seriesType],\n            { tooltip: options.tooltip },\n            commonDefaults,\n            seriesDefaults[seriesType]\n        );\n\n        series[i]._defaults = baseOptions;\n        series[i] = deepExtend({}, baseOptions, series[i]);\n        series[i].data = series[i].data || [];\n    }\n}\n\nfunction cleanupNestedSeriesDefaults(seriesDefaults) {\n    delete seriesDefaults.bar;\n    delete seriesDefaults.column;\n    delete seriesDefaults.rangeColumn;\n    delete seriesDefaults.line;\n    delete seriesDefaults.verticalLine;\n    delete seriesDefaults.pie;\n    delete seriesDefaults.donut;\n    delete seriesDefaults.area;\n    delete seriesDefaults.verticalArea;\n    delete seriesDefaults.scatter;\n    delete seriesDefaults.scatterLine;\n    delete seriesDefaults.bubble;\n    delete seriesDefaults.candlestick;\n    delete seriesDefaults.ohlc;\n    delete seriesDefaults.boxPlot;\n    delete seriesDefaults.bullet;\n    delete seriesDefaults.verticalBullet;\n    delete seriesDefaults.polarArea;\n    delete seriesDefaults.polarLine;\n    delete seriesDefaults.radarArea;\n    delete seriesDefaults.radarLine;\n    delete seriesDefaults.waterfall;\n}\n\n\nfunction axisRanges(axes) {\n    var ranges = {};\n\n    for (var i = 0; i < axes.length; i++) {\n        var axis = axes[i];\n        var axisName = axis.options.name;\n        if (axisName) {\n            ranges[axisName] = axis.range();\n        }\n    }\n\n    return ranges;\n}\n\nfunction sortDates(dates, comparer) {\n    if ( comparer === void 0 ) comparer = dateComparer;\n\n    for (var i = 1, length = dates.length; i < length; i++) {\n        if (comparer(dates[i], dates[i - 1]) < 0) {\n            dates.sort(comparer);\n            break;\n        }\n    }\n\n    return dates;\n}\n\nfunction uniqueDates(srcDates, comparer) {\n    if ( comparer === void 0 ) comparer = dateComparer;\n\n    var dates = sortDates(srcDates, comparer);\n    var length = dates.length;\n    var result = length > 0 ? [ dates[0] ] : [];\n\n    for (var i = 1; i < length; i++) {\n        if (comparer(dates[i], last(result)) !== 0) {\n            result.push(dates[i]);\n        }\n    }\n\n    return result;\n}\n\nfunction transpose(rows) {\n    var rowCount = rows.length;\n    var result = [];\n\n    for (var rowIx = 0; rowIx < rowCount; rowIx++) {\n        var row = rows[rowIx];\n        var colCount = row.length;\n\n        for (var colIx = 0; colIx < colCount; colIx++) {\n            result[colIx] = result[colIx] || [];\n            result[colIx].push(row[colIx]);\n        }\n    }\n\n    return result;\n}\n\nvar DATA_FIELDS = [ 'data', 'categories' ];\n\nfunction clearMissingValues(originalOptions, options) {\n    for (var field in options) {\n        if (!inArray(field, DATA_FIELDS) && options.hasOwnProperty(field)) {\n            var fieldValue = options[field];\n            var originalValue = originalOptions[field];\n            if (defined(originalValue)) {\n                var nullValue = fieldValue === null;\n                if ((nullValue || !defined(fieldValue))) {\n                    delete originalOptions[field];\n                    if (nullValue) {\n                        delete options[field];\n                    }\n                } else if (originalValue && isObject(fieldValue)) {\n                    if (isObject(originalValue)) {\n                        clearMissingValues(originalValue, fieldValue);\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction triggerPaneRender(panes) {\n    for (var idx = 0; idx < panes.length; idx++) {\n        panes[idx].notifyRender();\n    }\n}\n\nsetDefaultOptions(Chart, {\n    renderAs: \"\",\n    chartArea: {},\n    legend: {\n        visible: true,\n        labels: {}\n    },\n    categoryAxis: {},\n    seriesDefaults: {\n        type: COLUMN,\n        data: [],\n        highlight: {\n            visible: true\n        },\n        labels: {},\n        negativeValues: {\n            visible: false\n        }\n    },\n    series: [],\n    seriesColors: null,\n    tooltip: {\n        visible: false\n    },\n    transitions: true,\n    valueAxis: {},\n    plotArea: {},\n    title: {},\n    xAxis: {},\n    yAxis: {},\n    panes: [ {} ],\n    pannable: false,\n    zoomable: false\n});\n\nexport default Chart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}