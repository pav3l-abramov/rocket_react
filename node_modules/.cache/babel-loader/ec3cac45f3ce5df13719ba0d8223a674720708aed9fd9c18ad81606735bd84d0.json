{"ast":null,"code":"import { Class, addClass, deepExtend, defined } from '../../common';\nimport { Extent } from './../extent';\nimport { getSupportedFeatures } from '../utils';\nexport var Layer = function (Class) {\n  function Layer(map, options) {\n    Class.call(this);\n    this.support = getSupportedFeatures();\n    this._initOptions(options);\n    this.map = map;\n    var element = document.createElement(\"div\");\n    addClass(element, \"k-layer\");\n    element.style.zIndex = this.options.zIndex;\n    element.style.opacity = this.options.opacity;\n    this.element = element;\n    map.scrollElement.appendChild(this.element);\n    this._beforeReset = this._beforeReset.bind(this);\n    this._reset = this._reset.bind(this);\n    this._resize = this._resize.bind(this);\n    this._panEnd = this._panEnd.bind(this);\n    this._activate();\n    this._updateAttribution();\n  }\n  if (Class) Layer.__proto__ = Class;\n  Layer.prototype = Object.create(Class && Class.prototype);\n  Layer.prototype.constructor = Layer;\n  Layer.prototype.destroy = function destroy() {\n    this._deactivate();\n  };\n  Layer.prototype._initOptions = function _initOptions(options) {\n    this.options = deepExtend({}, this.options, options);\n  };\n  Layer.prototype.show = function show() {\n    this.reset();\n    this._activate();\n    this._applyExtent(true);\n  };\n  Layer.prototype.hide = function hide() {\n    this._deactivate();\n    this._setVisibility(false);\n  };\n  Layer.prototype.reset = function reset() {\n    this._beforeReset();\n    this._reset();\n  };\n  Layer.prototype._reset = function _reset() {\n    this._applyExtent();\n  };\n  Layer.prototype._beforeReset = function _beforeReset() {};\n  Layer.prototype._resize = function _resize() {};\n  Layer.prototype._panEnd = function _panEnd() {\n    this._applyExtent();\n  };\n  Layer.prototype._applyExtent = function _applyExtent() {\n    var options = this.options;\n    var zoom = this.map.zoom();\n    var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n    var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n    var extent = Extent.create(options.extent);\n    var inside = !extent || extent.overlaps(this.map.extent());\n    this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n  };\n  Layer.prototype._setVisibility = function _setVisibility(visible) {\n    this.element.style.display = visible ? '' : 'none';\n  };\n  Layer.prototype._activate = function _activate() {\n    var map = this.map;\n    this._deactivate();\n    map.bind('beforeReset', this._beforeReset);\n    map.bind('reset', this._reset);\n    map.bind('resize', this._resize);\n    map.bind('panEnd', this._panEnd);\n  };\n  Layer.prototype._deactivate = function _deactivate() {\n    var map = this.map;\n    map.unbind('beforeReset', this._beforeReset);\n    map.unbind('reset', this._reset);\n    map.unbind('resize', this._resize);\n    map.unbind('panEnd', this._panEnd);\n  };\n  Layer.prototype._updateAttribution = function _updateAttribution() {\n    var attribution = this.map.attribution;\n    if (attribution) {\n      attribution.add(this.options.attribution);\n    }\n  };\n  Layer.prototype._readData = function _readData() {\n    var data = this.options.data || [];\n    return data;\n  };\n  Layer.prototype._hasData = function _hasData() {\n    return this._data && this._data.length > 0;\n  };\n  Layer.prototype._layerIndex = function _layerIndex() {\n    var layers = this.map.layers || [];\n    return layers.indexOf(this);\n  };\n  return Layer;\n}(Class);","map":{"version":3,"names":["Class","addClass","deepExtend","defined","Extent","getSupportedFeatures","Layer","map","options","call","support","_initOptions","element","document","createElement","style","zIndex","opacity","scrollElement","appendChild","_beforeReset","bind","_reset","_resize","_panEnd","_activate","_updateAttribution","__proto__","prototype","Object","create","constructor","destroy","_deactivate","show","reset","_applyExtent","hide","_setVisibility","zoom","matchMinZoom","minZoom","matchMaxZoom","maxZoom","extent","inside","overlaps","visible","display","unbind","attribution","add","_readData","data","_hasData","_data","length","_layerIndex","layers","indexOf"],"sources":["C:/Users/Павел/Desktop/react humster/my-app/node_modules/@progress/kendo-charts/dist/es/map/layers/layer.js"],"sourcesContent":["import {\n    Class,\n    addClass,\n    deepExtend,\n    defined\n} from '../../common';\n\nimport {\n    Extent\n} from './../extent';\n\nimport {\n    getSupportedFeatures\n} from '../utils';\n\nexport var Layer = (function (Class) {\n    function Layer(map, options) {\n        Class.call(this);\n\n        this.support = getSupportedFeatures();\n\n        this._initOptions(options);\n        this.map = map;\n\n        var element = document.createElement(\"div\");\n        addClass(element, \"k-layer\");\n        element.style.zIndex = this.options.zIndex;\n        element.style.opacity = this.options.opacity;\n\n        this.element = element;\n\n        map.scrollElement.appendChild(this.element);\n\n        this._beforeReset = this._beforeReset.bind(this);\n        this._reset = this._reset.bind(this);\n        this._resize = this._resize.bind(this);\n        this._panEnd = this._panEnd.bind(this);\n\n        this._activate();\n        this._updateAttribution();\n    }\n\n    if ( Class ) Layer.__proto__ = Class;\n    Layer.prototype = Object.create( Class && Class.prototype );\n    Layer.prototype.constructor = Layer;\n\n    Layer.prototype.destroy = function destroy () {\n        this._deactivate();\n    };\n\n    Layer.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Layer.prototype.show = function show () {\n        this.reset();\n        this._activate();\n        this._applyExtent(true);\n    };\n\n    Layer.prototype.hide = function hide () {\n        this._deactivate();\n        this._setVisibility(false);\n    };\n\n    Layer.prototype.reset = function reset () {\n        this._beforeReset();\n        this._reset();\n    };\n\n    Layer.prototype._reset = function _reset () {\n        this._applyExtent();\n    };\n\n    Layer.prototype._beforeReset = function _beforeReset () {\n\n    };\n\n    Layer.prototype._resize = function _resize () {\n\n    };\n\n    Layer.prototype._panEnd = function _panEnd () {\n        this._applyExtent();\n    };\n\n    Layer.prototype._applyExtent = function _applyExtent () {\n        var options = this.options;\n        var zoom = this.map.zoom();\n        var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n        var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n        var extent = Extent.create(options.extent);\n        var inside = !extent || extent.overlaps(this.map.extent());\n\n        this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n    };\n\n    Layer.prototype._setVisibility = function _setVisibility (visible) {\n        this.element.style.display = visible ? '' : 'none';\n    };\n\n    Layer.prototype._activate = function _activate () {\n        var map = this.map;\n\n        this._deactivate();\n\n        map.bind('beforeReset', this._beforeReset);\n        map.bind('reset', this._reset);\n        map.bind('resize', this._resize);\n        map.bind('panEnd', this._panEnd);\n    };\n\n    Layer.prototype._deactivate = function _deactivate () {\n        var map = this.map;\n\n        map.unbind('beforeReset', this._beforeReset);\n        map.unbind('reset', this._reset);\n        map.unbind('resize', this._resize);\n        map.unbind('panEnd', this._panEnd);\n    };\n\n    Layer.prototype._updateAttribution = function _updateAttribution () {\n        var attribution = this.map.attribution;\n\n        if (attribution) {\n            attribution.add(this.options.attribution);\n        }\n    };\n\n    Layer.prototype._readData = function _readData () {\n        var data = this.options.data || [];\n        return data;\n    };\n\n    Layer.prototype._hasData = function _hasData () {\n        return this._data && this._data.length > 0;\n    };\n\n    Layer.prototype._layerIndex = function _layerIndex () {\n        var layers = this.map.layers || [];\n        return layers.indexOf(this);\n    };\n\n    return Layer;\n}(Class));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}