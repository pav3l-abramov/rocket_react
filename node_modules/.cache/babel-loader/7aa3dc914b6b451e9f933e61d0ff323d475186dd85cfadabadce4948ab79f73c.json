{"ast":null,"code":"import { MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS, TIME_PER_SECOND, TIME_PER_MINUTE, TIME_PER_HOUR } from './constants';\nimport addTicks from './add-ticks';\nimport toDate from './to-date';\nimport startOfWeek from './start-of-week';\nfunction adjustDST(date, hours) {\n  if (hours === 0 && date.getHours() === 23) {\n    date.setHours(date.getHours() + 2);\n    return true;\n  }\n  return false;\n}\nfunction addHours(date, hours) {\n  var roundedDate = new Date(date);\n  roundedDate.setMinutes(0, 0, 0);\n  var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;\n  return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);\n}\nexport default function addDuration(dateValue, value, unit, weekStartDay) {\n  var result = dateValue;\n  if (dateValue) {\n    var date = toDate(dateValue);\n    var hours = date.getHours();\n    if (unit === YEARS) {\n      result = new Date(date.getFullYear() + value, 0, 1);\n      adjustDST(result, 0);\n    } else if (unit === MONTHS) {\n      result = new Date(date.getFullYear(), date.getMonth() + value, 1);\n      adjustDST(result, hours);\n    } else if (unit === WEEKS) {\n      result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);\n      adjustDST(result, hours);\n    } else if (unit === DAYS) {\n      result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);\n      adjustDST(result, hours);\n    } else if (unit === HOURS) {\n      result = addHours(date, value);\n    } else if (unit === MINUTES) {\n      result = addTicks(date, value * TIME_PER_MINUTE);\n      if (result.getSeconds() > 0) {\n        result.setSeconds(0);\n      }\n    } else if (unit === SECONDS) {\n      result = addTicks(date, value * TIME_PER_SECOND);\n    } else if (unit === MILLISECONDS) {\n      result = addTicks(date, value);\n    }\n    if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {\n      result.setMilliseconds(0);\n    }\n  }\n  return result;\n}","map":{"version":3,"names":["MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","WEEKS","MONTHS","YEARS","TIME_PER_SECOND","TIME_PER_MINUTE","TIME_PER_HOUR","addTicks","toDate","startOfWeek","adjustDST","date","hours","getHours","setHours","addHours","roundedDate","Date","setMinutes","tzDiff","getTimezoneOffset","addDuration","dateValue","value","unit","weekStartDay","result","getFullYear","getMonth","getDate","getSeconds","setSeconds","getMilliseconds","setMilliseconds"],"sources":["C:/Users/Павел/Desktop/react humster/my-app/node_modules/@progress/kendo-charts/dist/es/date-utils/add-duration.js"],"sourcesContent":["import { MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS,\n    TIME_PER_SECOND, TIME_PER_MINUTE, TIME_PER_HOUR } from './constants';\nimport addTicks from './add-ticks';\nimport toDate from './to-date';\nimport startOfWeek from './start-of-week';\n\nfunction adjustDST(date, hours) {\n    if (hours === 0 && date.getHours() === 23) {\n        date.setHours(date.getHours() + 2);\n        return true;\n    }\n\n    return false;\n}\n\nfunction addHours(date, hours) {\n    var roundedDate = new Date(date);\n\n    roundedDate.setMinutes(0, 0, 0);\n\n    var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;\n\n    return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);\n}\n\nexport default function addDuration(dateValue, value, unit, weekStartDay) {\n    var result = dateValue;\n\n    if (dateValue) {\n        var date = toDate(dateValue);\n        var hours = date.getHours();\n\n        if (unit === YEARS) {\n            result = new Date(date.getFullYear() + value, 0, 1);\n            adjustDST(result, 0);\n        } else if (unit === MONTHS) {\n            result = new Date(date.getFullYear(), date.getMonth() + value, 1);\n            adjustDST(result, hours);\n        } else if (unit === WEEKS) {\n            result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);\n            adjustDST(result, hours);\n        } else if (unit === DAYS) {\n            result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);\n            adjustDST(result, hours);\n        } else if (unit === HOURS) {\n            result = addHours(date, value);\n        } else if (unit === MINUTES) {\n            result = addTicks(date, value * TIME_PER_MINUTE);\n\n            if (result.getSeconds() > 0) {\n                result.setSeconds(0);\n            }\n        } else if (unit === SECONDS) {\n            result = addTicks(date, value * TIME_PER_SECOND);\n        } else if (unit === MILLISECONDS) {\n            result = addTicks(date, value);\n        }\n\n        if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {\n            result.setMilliseconds(0);\n        }\n    }\n\n    return result;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}