{"ast":null,"code":"import ScatterChart from '../scatter-charts/scatter-chart';\nimport Bubble from './bubble';\nimport { INITIAL_ANIMATION_DURATION, BUBBLE } from '../constants';\nimport { MIN_VALUE, CIRCLE } from '../../common/constants';\nimport { deepExtend, isFunction, setDefaultOptions, valueOrDefault } from '../../common';\nvar BubbleChart = function (ScatterChart) {\n  function BubbleChart() {\n    ScatterChart.apply(this, arguments);\n  }\n  if (ScatterChart) BubbleChart.__proto__ = ScatterChart;\n  BubbleChart.prototype = Object.create(ScatterChart && ScatterChart.prototype);\n  BubbleChart.prototype.constructor = BubbleChart;\n  BubbleChart.prototype._initFields = function _initFields() {\n    this._maxSize = MIN_VALUE;\n    ScatterChart.prototype._initFields.call(this);\n  };\n  BubbleChart.prototype.addValue = function addValue(value, fields) {\n    if (value.size !== null && (value.size > 0 || value.size < 0 && fields.series.negativeValues.visible)) {\n      this._maxSize = Math.max(this._maxSize, Math.abs(value.size));\n      ScatterChart.prototype.addValue.call(this, value, fields);\n    } else {\n      this.points.push(null);\n      this.seriesPoints[fields.seriesIx].push(null);\n    }\n  };\n  BubbleChart.prototype.reflow = function reflow(box) {\n    this.updateBubblesSize(box);\n    ScatterChart.prototype.reflow.call(this, box);\n  };\n  BubbleChart.prototype.pointType = function pointType() {\n    return Bubble;\n  };\n  BubbleChart.prototype.createPoint = function createPoint(value, fields) {\n    var series = fields.series;\n    var pointsCount = series.data.length;\n    var delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount);\n    var animationOptions = {\n      delay: delay,\n      duration: INITIAL_ANIMATION_DURATION - delay,\n      type: BUBBLE\n    };\n    var color = fields.color || series.color;\n    if (value.size < 0 && series.negativeValues.visible) {\n      color = valueOrDefault(series.negativeValues.color, color);\n    }\n    var pointOptions = deepExtend({\n      labels: {\n        animation: {\n          delay: delay,\n          duration: INITIAL_ANIMATION_DURATION - delay\n        }\n      }\n    }, this.pointOptions(series, fields.seriesIx), {\n      markers: {\n        type: CIRCLE,\n        border: series.border,\n        opacity: series.opacity,\n        animation: animationOptions\n      }\n    });\n    pointOptions = this.evalPointOptions(pointOptions, value, fields);\n    if (isFunction(series.color)) {\n      color = pointOptions.color;\n    }\n    pointOptions.markers.background = color;\n    var point = new Bubble(value, pointOptions);\n    point.color = color;\n    this.append(point);\n    return point;\n  };\n  BubbleChart.prototype.updateBubblesSize = function updateBubblesSize(box) {\n    var this$1 = this;\n    var ref = this;\n    var series = ref.options.series;\n    var boxSize = Math.min(box.width(), box.height());\n    for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n      var currentSeries = series[seriesIx];\n      var seriesPoints = this$1.seriesPoints[seriesIx];\n      var minSize = currentSeries.minSize || Math.max(boxSize * 0.02, 10);\n      var maxSize = currentSeries.maxSize || boxSize * 0.2;\n      var minR = minSize / 2;\n      var maxR = maxSize / 2;\n      var minArea = Math.PI * minR * minR;\n      var maxArea = Math.PI * maxR * maxR;\n      var areaRange = maxArea - minArea;\n      var areaRatio = areaRange / this$1._maxSize;\n      for (var pointIx = 0; pointIx < seriesPoints.length; pointIx++) {\n        var point = seriesPoints[pointIx];\n        if (point) {\n          var area = Math.abs(point.value.size) * areaRatio;\n          var radius = Math.sqrt((minArea + area) / Math.PI);\n          var baseZIndex = valueOrDefault(point.options.zIndex, 0);\n          var zIndex = baseZIndex + (1 - radius / maxR);\n          deepExtend(point.options, {\n            zIndex: zIndex,\n            markers: {\n              size: radius * 2,\n              zIndex: zIndex\n            },\n            labels: {\n              zIndex: zIndex + 1\n            }\n          });\n        }\n      }\n    }\n  };\n  BubbleChart.prototype.formatPointValue = function formatPointValue(point, format) {\n    var value = point.value;\n    return this.chartService.format.auto(format, value.x, value.y, value.size, point.category);\n  };\n  BubbleChart.prototype.createAnimation = function createAnimation() {};\n  BubbleChart.prototype.createVisual = function createVisual() {};\n  return BubbleChart;\n}(ScatterChart);\nsetDefaultOptions(BubbleChart, {\n  tooltip: {\n    format: \"{3}\"\n  },\n  labels: {\n    format: \"{3}\"\n  }\n});\nexport default BubbleChart;","map":{"version":3,"names":["ScatterChart","Bubble","INITIAL_ANIMATION_DURATION","BUBBLE","MIN_VALUE","CIRCLE","deepExtend","isFunction","setDefaultOptions","valueOrDefault","BubbleChart","apply","arguments","__proto__","prototype","Object","create","constructor","_initFields","_maxSize","call","addValue","value","fields","size","series","negativeValues","visible","Math","max","abs","points","push","seriesPoints","seriesIx","reflow","box","updateBubblesSize","pointType","createPoint","pointsCount","data","length","delay","pointIx","animationOptions","duration","type","color","pointOptions","labels","animation","markers","border","opacity","evalPointOptions","background","point","append","this$1","ref","options","boxSize","min","width","height","currentSeries","minSize","maxSize","minR","maxR","minArea","PI","maxArea","areaRange","areaRatio","area","radius","sqrt","baseZIndex","zIndex","formatPointValue","format","chartService","auto","x","y","category","createAnimation","createVisual","tooltip"],"sources":["C:/Users/Павел/Desktop/react humster/my-app/node_modules/@progress/kendo-charts/dist/es/chart/bubble-chart/bubble-chart.js"],"sourcesContent":["import ScatterChart from '../scatter-charts/scatter-chart';\nimport Bubble from './bubble';\n\nimport { INITIAL_ANIMATION_DURATION, BUBBLE } from '../constants';\n\nimport { MIN_VALUE, CIRCLE } from '../../common/constants';\nimport { deepExtend, isFunction, setDefaultOptions, valueOrDefault } from '../../common';\n\nvar BubbleChart = (function (ScatterChart) {\n    function BubbleChart () {\n        ScatterChart.apply(this, arguments);\n    }\n\n    if ( ScatterChart ) BubbleChart.__proto__ = ScatterChart;\n    BubbleChart.prototype = Object.create( ScatterChart && ScatterChart.prototype );\n    BubbleChart.prototype.constructor = BubbleChart;\n\n    BubbleChart.prototype._initFields = function _initFields () {\n        this._maxSize = MIN_VALUE;\n        ScatterChart.prototype._initFields.call(this);\n    };\n\n    BubbleChart.prototype.addValue = function addValue (value, fields) {\n        if (value.size !== null && (value.size > 0 || (value.size < 0 && fields.series.negativeValues.visible))) {\n            this._maxSize = Math.max(this._maxSize, Math.abs(value.size));\n            ScatterChart.prototype.addValue.call(this, value, fields);\n        } else {\n            this.points.push(null);\n            this.seriesPoints[fields.seriesIx].push(null);\n        }\n    };\n\n    BubbleChart.prototype.reflow = function reflow (box) {\n        this.updateBubblesSize(box);\n        ScatterChart.prototype.reflow.call(this, box);\n    };\n\n    BubbleChart.prototype.pointType = function pointType () {\n        return Bubble;\n    };\n\n    BubbleChart.prototype.createPoint = function createPoint (value, fields) {\n        var series = fields.series;\n        var pointsCount = series.data.length;\n        var delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount);\n        var animationOptions = {\n            delay: delay,\n            duration: INITIAL_ANIMATION_DURATION - delay,\n            type: BUBBLE\n        };\n\n        var color = fields.color || series.color;\n        if (value.size < 0 && series.negativeValues.visible) {\n            color = valueOrDefault(\n                series.negativeValues.color, color\n            );\n        }\n\n        var pointOptions = deepExtend({\n            labels: {\n                animation: {\n                    delay: delay,\n                    duration: INITIAL_ANIMATION_DURATION - delay\n                }\n            }\n        }, this.pointOptions(series, fields.seriesIx), {\n            markers: {\n                type: CIRCLE,\n                border: series.border,\n                opacity: series.opacity,\n                animation: animationOptions\n            }\n        });\n\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        }\n\n        pointOptions.markers.background = color;\n\n        var point = new Bubble(value, pointOptions);\n        point.color = color;\n\n        this.append(point);\n\n        return point;\n    };\n\n    BubbleChart.prototype.updateBubblesSize = function updateBubblesSize (box) {\n        var this$1 = this;\n\n        var ref = this;\n        var series = ref.options.series;\n        var boxSize = Math.min(box.width(), box.height());\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var seriesPoints = this$1.seriesPoints[seriesIx];\n            var minSize = currentSeries.minSize || Math.max(boxSize * 0.02, 10);\n            var maxSize = currentSeries.maxSize || boxSize * 0.2;\n            var minR = minSize / 2;\n            var maxR = maxSize / 2;\n            var minArea = Math.PI * minR * minR;\n            var maxArea = Math.PI * maxR * maxR;\n            var areaRange = maxArea - minArea;\n            var areaRatio = areaRange / this$1._maxSize;\n\n            for (var pointIx = 0; pointIx < seriesPoints.length; pointIx++) {\n                var point = seriesPoints[pointIx];\n                if (point) {\n                    var area = Math.abs(point.value.size) * areaRatio;\n                    var radius = Math.sqrt((minArea + area) / Math.PI);\n                    var baseZIndex = valueOrDefault(point.options.zIndex, 0);\n                    var zIndex = baseZIndex + (1 - radius / maxR);\n\n                    deepExtend(point.options, {\n                        zIndex: zIndex,\n                        markers: {\n                            size: radius * 2,\n                            zIndex: zIndex\n                        },\n                        labels: {\n                            zIndex: zIndex + 1\n                        }\n                    });\n                }\n            }\n        }\n    };\n\n    BubbleChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        var value = point.value;\n        return this.chartService.format.auto(format, value.x, value.y, value.size, point.category);\n    };\n\n    BubbleChart.prototype.createAnimation = function createAnimation () {};\n    BubbleChart.prototype.createVisual = function createVisual () {};\n\n    return BubbleChart;\n}(ScatterChart));\n\nsetDefaultOptions(BubbleChart, {\n    tooltip: {\n        format: \"{3}\"\n    },\n    labels: {\n        format: \"{3}\"\n    }\n});\n\nexport default BubbleChart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}